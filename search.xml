<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>Leetcode 74. æœç´¢äºŒç»´çŸ©é˜µ</title>
      <link href="/2021/07/15/leetcode-74/"/>
      <url>/2021/07/15/leetcode-74/</url>
      
        <content type="html"><![CDATA[<p>é¢˜ç›®é“¾æ¥ï¼š<a href="https://leetcode-cn.com/problems/search-a-2d-matrix/">https://leetcode-cn.com/problems/search-a-2d-matrix/</a></p><p>é¢˜ç›®æ¯”è¾ƒç®€å•ï¼Œä¸€ä¸Šæ¥çš„æƒ³æ³•æ˜¯äºŒåˆ†ï¼Œå› ä¸ºä»é¢˜å¹²å¯ä»¥çœ‹å‡ºè¿™ä¸ªçŸ©é˜µå…¶å®å¯ä»¥çœ‹ä½œä¸€ä½æ•°ç»„å¤„ç†ã€‚éœ€è¦è½¬æ¢çš„é€»è¾‘åªæœ‰<code>mid</code>çš„å«ä¹‰ã€‚ç”±äºé¢˜ç›®è¾“å…¥æ˜¯äºŒç»´çŸ©é˜µï¼Œæ­¤æ—¶çš„<code>mid</code>ä»£è¡¨çš„å…¶å®æ˜¯å‡è®¾<code>flatten</code>åˆ°ä¸€ç»´åçš„<code>index</code>ï¼Œæ‰€ä»¥è¦è½¬æ¢æˆäºŒç»´åæ ‡<code>(mid/n, mid%n)</code>å¤„ç†ã€‚</p><p>ç»§ç»­æ³¨æ„äºŒåˆ†çš„å„ç§è¾¹ç•Œé—®é¢˜ï½</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">searchMatrix</span><span class="params">(<span class="keyword">int</span>[][] matrix, <span class="keyword">int</span> target)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> m = matrix.length, n = matrix[<span class="number">0</span>].length;</span><br><span class="line">        <span class="keyword">int</span> left = <span class="number">0</span>, right = m * n - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span>(left &lt; right) &#123;</span><br><span class="line">            <span class="keyword">int</span> mid = left + right + <span class="number">1</span> &gt;&gt; <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">if</span>(matrix[mid / n][mid % n] &lt;= target) &#123;</span><br><span class="line">                left = mid;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> &#123;</span><br><span class="line">                right = mid - <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> (matrix[left / n][left % n] == target);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> åˆ·é¢˜è®°å½• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> leetcode </tag>
            
            <tag> ç®—æ³• </tag>
            
            <tag> medium difficulty </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ã€F1 2020ã€‘æ¾³å¤§åˆ©äºšè®¡æ—¶åœˆï¼ˆæŒç»­æ›´æ–°ï¼‰</title>
      <link href="/2021/07/15/australia-tt-1-20-7/"/>
      <url>/2021/07/15/australia-tt-1-20-7/</url>
      
        <content type="html"><![CDATA[<div style="position: relative; width: 100%; height: 0; padding-bottom: 75%;">    <iframe src="//player.bilibili.com/player.html?aid=759141789&bvid=BV1v64y1X7jp&cid=368897752&page=1&high_quality=1"  scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true" style="position: absolute; width: 100%; height: 100%; left: 0; top: 0;"></iframe></div>]]></content>
      
      
      <categories>
          
          <category> æ¨¡æ‹Ÿèµ›è½¦ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> F1 2020 </tag>
            
            <tag> Melbourne Gran Prix </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Leetcode 1846. å‡å°å’Œé‡æ–°æ’åˆ—æ•°ç»„åçš„æœ€å¤§å…ƒç´ </title>
      <link href="/2021/07/15/leetcode-1846/"/>
      <url>/2021/07/15/leetcode-1846/</url>
      
        <content type="html"><![CDATA[<p>åŸé¢˜é“¾æ¥ï¼š<a href="https://leetcode-cn.com/problems/maximum-element-after-decreasing-and-rearranging/">https://leetcode-cn.com/problems/maximum-element-after-decreasing-and-rearranging/</a></p><p><em>ç»™ä½ ä¸€ä¸ªæ­£æ•´æ•°æ•°ç»„ <code>arr</code> ã€‚è¯·ä½ å¯¹ <code>arr</code> æ‰§è¡Œä¸€äº›æ“ä½œï¼ˆä¹Ÿå¯ä»¥ä¸è¿›è¡Œä»»ä½•æ“ä½œï¼‰ï¼Œä½¿å¾—æ•°ç»„æ»¡è¶³ä»¥ä¸‹æ¡ä»¶ï¼š</em></p><p><em><code>arr</code> ä¸­ ç¬¬ä¸€ä¸ª å…ƒç´ å¿…é¡»ä¸º 1 ã€‚</em><br><em>ä»»æ„ç›¸é‚»ä¸¤ä¸ªå…ƒç´ çš„å·®çš„ç»å¯¹å€¼ å°äºç­‰äº <code>1</code> ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå¯¹äºä»»æ„çš„ <code>1 &lt;= i &lt; arr.length</code> ï¼ˆæ•°ç»„ä¸‹æ ‡ä» <code>0</code> å¼€å§‹ï¼‰ï¼Œéƒ½æ»¡è¶³ <code>abs(arr[i] - arr[i - 1]) &lt;= 1</code> ã€‚<code>abs(x)</code> ä¸º <code>x</code> çš„ç»å¯¹å€¼ã€‚</em><br><em>ä½ å¯ä»¥æ‰§è¡Œä»¥ä¸‹ 2 ç§æ“ä½œä»»æ„æ¬¡ï¼š</em></p><p><em>å‡å° <code>arr</code> ä¸­ä»»æ„å…ƒç´ çš„å€¼ï¼Œä½¿å…¶å˜ä¸ºä¸€ä¸ª æ›´å°çš„æ­£æ•´æ•° ã€‚</em><br><em>é‡æ–°æ’åˆ— <code>arr</code> ä¸­çš„å…ƒç´ ï¼Œä½ å¯ä»¥ä»¥ä»»æ„é¡ºåºé‡æ–°æ’åˆ—ã€‚</em><br><em>è¯·ä½ è¿”å›æ‰§è¡Œä»¥ä¸Šæ“ä½œåï¼Œåœ¨æ»¡è¶³å‰æ–‡æ‰€è¿°çš„æ¡ä»¶ä¸‹ï¼Œ<code>arr</code> ä¸­å¯èƒ½çš„ æœ€å¤§å€¼ ã€‚</em></p><p>æ˜“è¯æ»¡è¶³ä¸Šè¿°æ¡ä»¶çš„æ•°ç»„è¦æ»¡è¶³éä¸¥æ ¼å•è°ƒé€’å¢åˆ†å¸ƒï¼ˆè„‘è¡¥ä¸€ä¸‹ï¼‰ï¼Œæ’åºæ•°ç»„åå¼ºåˆ¶ä½¿ç¬¬ä¸€ä½ä¸º1ï¼Œåç»­å…ƒç´ å¦‚æœä¸å‰ä¸€ä½å·®å€¼è¶…è¿‡é¢˜ç›®è¦æ±‚å°±è®¾ä¸ºå‰ä¸€ä½+1ã€‚ä¸çŸ¥é“è¿™æ ·è¯´æœ‰æ²¡æœ‰æ¯›ç—…ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">maximumElementAfterDecrementingAndRearranging</span><span class="params">(<span class="keyword">int</span>[] arr)</span> </span>&#123;</span><br><span class="line">        Arrays.sort(arr);</span><br><span class="line">        arr[<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; arr.length; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(Math.abs(arr[i] - arr[i-<span class="number">1</span>]) &gt; <span class="number">1</span>) &#123;</span><br><span class="line">                arr[i] = arr[i-<span class="number">1</span>] + <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> arr[arr.length - <span class="number">1</span>];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> åˆ·é¢˜è®°å½• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> leetcode </tag>
            
            <tag> ç®—æ³• </tag>
            
            <tag> medium difficulty </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Leetcode 981. åŸºäºæ—¶é—´çš„é”®å€¼å­˜å‚¨</title>
      <link href="/2021/07/11/leetcode-981/"/>
      <url>/2021/07/11/leetcode-981/</url>
      
        <content type="html"><![CDATA[<h5 id="981-åŸºäºæ—¶é—´çš„é”®å€¼å­˜å‚¨"><a href="#981-åŸºäºæ—¶é—´çš„é”®å€¼å­˜å‚¨" class="headerlink" title="981. åŸºäºæ—¶é—´çš„é”®å€¼å­˜å‚¨"></a><a href="https://leetcode-cn.com/problems/time-based-key-value-store/">981. åŸºäºæ—¶é—´çš„é”®å€¼å­˜å‚¨</a></h5><p><a href="https://leetcode-cn.com/problems/time-based-key-value-store/solution/gong-shui-san-xie-yi-ti-shuang-jie-ha-xi-h5et/">é¢˜è§£ï¼šå®«æ°´ä¸‰å¶</a></p><p>å…ˆåšHashMap+æ•°ç»„çš„åŸºæœ¬è§£æ³•å’Œå·é¸¡è§£æ³•ã€‚åé¢å†çœ‹HashMap+æ ‘çš„åšæ³•ã€‚è¿™é‡Œéœ€è¦æ³¨æ„çœ‹é¢˜ç›®ï¼Œé¢˜ç›®è¡¨æ˜ï¼š</p><p>â€‹                                                æ‰€æœ‰ <code>TimeMap.set</code> æ“ä½œä¸­çš„æ—¶é—´æˆ³ <code>timestamps</code> éƒ½æ˜¯ä¸¥æ ¼é€’å¢çš„ã€‚</p><p>å› æ­¤å¯ä»¥åˆ©ç”¨äºŒåˆ†æŸ¥æ‰¾è¾¾æˆâ€œæ‰¾åˆ°å°äºç­‰äºæŸ¥è¯¢æ—¶é—´æˆ³çš„æœ€å¤§æ—¶é—´æˆ³çš„é”®å€¼â€è¿™ä¸€è¦æ±‚ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TimeMap</span> </span>&#123;</span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Node</span> </span>&#123;</span><br><span class="line">        String k, v;</span><br><span class="line">        <span class="keyword">int</span> t;</span><br><span class="line">        Node(String k, String v, <span class="keyword">int</span> t) &#123;</span><br><span class="line">            <span class="keyword">this</span>.k = k;</span><br><span class="line">            <span class="keyword">this</span>.v = v;</span><br><span class="line">            <span class="keyword">this</span>.t = t;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    Map&lt;String, List&lt;Node&gt;&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">    <span class="comment">/** Initialize your data structure here. */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">TimeMap</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">set</span><span class="params">(String key, String value, <span class="keyword">int</span> timestamp)</span> </span>&#123;</span><br><span class="line">        List&lt;Node&gt; list = map.getOrDefault(key, <span class="keyword">new</span> ArrayList&lt;&gt;());</span><br><span class="line">        list.add(<span class="keyword">new</span> Node(key, value, timestamp));</span><br><span class="line">        map.put(key,list);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">get</span><span class="params">(String key, <span class="keyword">int</span> timestamp)</span> </span>&#123;</span><br><span class="line">        List&lt;Node&gt; list = map.getOrDefault(key, <span class="keyword">new</span> ArrayList&lt;&gt;());</span><br><span class="line">        <span class="keyword">if</span>(list.size() == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> len = list.size();</span><br><span class="line">        <span class="keyword">int</span> l = <span class="number">0</span>, r = len - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span>(l &lt; r) &#123;</span><br><span class="line">            <span class="keyword">int</span> mid = l + r + <span class="number">1</span> &gt;&gt; <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">if</span>(list.get(mid).t &lt;= timestamp) &#123;</span><br><span class="line">                l = mid;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> &#123;</span><br><span class="line">                r = mid - <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> list.get(r).t &lt;= timestamp ? list.get(r).v : <span class="string">&quot;&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å·é¸¡åšæ³•ï¼š<code>floorEntry</code> ï¼ˆä»<a href="https://leetcode-cn.com/u/trager324-m/">å¤§ä½¬é‚£é‡Œ</a>æŠ„æ¥å­¦ä¹ ä¸€ä¸‹ï¼‰</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TimeMap</span> </span>&#123;</span><br><span class="line">    Map&lt;String, TreeMap&lt;Integer, String&gt;&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">set</span><span class="params">(String key, String value, <span class="keyword">int</span> timestamp)</span> </span>&#123;</span><br><span class="line">        map.computeIfAbsent(key, k -&gt; <span class="keyword">new</span> TreeMap&lt;&gt;()).put(timestamp, value);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">get</span><span class="params">(String key, <span class="keyword">int</span> timestamp)</span> </span>&#123;</span><br><span class="line">        Map.Entry&lt;Integer, String&gt; entry = map.getOrDefault(key, <span class="keyword">new</span> TreeMap&lt;&gt;()).floorEntry(timestamp);</span><br><span class="line">        <span class="keyword">return</span> entry == <span class="keyword">null</span> ? <span class="string">&quot;&quot;</span> : entry.getValue();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> åˆ·é¢˜è®°å½• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> leetcode </tag>
            
            <tag> ç®—æ³• </tag>
            
            <tag> medium difficulty </tag>
            
            <tag> Java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Leetcode 39. ç»„åˆæ€»å’Œ</title>
      <link href="/2021/07/10/leetcode-39-combination-sum/"/>
      <url>/2021/07/10/leetcode-39-combination-sum/</url>
      
        <content type="html"><![CDATA[<p>é¢˜ç›®é“¾æ¥ <a href="https://leetcode-cn.com/problems/combination-sum/">https://leetcode-cn.com/problems/combination-sum/</a></p><p>æ·±åº¦ä¼˜å…ˆæœç´¢ã€å›æº¯ã€å‰ªæã€‚</p><p>å‚ç…§[liweiliwei1419çš„é¢˜è§£](<a href="https://leetcode-cn.com/problems/combination-sum/solution/hui-su-suan-fa-jian-zhi-python-dai-ma-java-dai-m-2/">å›æº¯ç®—æ³• + å‰ªæï¼ˆå›æº¯ç»å…¸ä¾‹é¢˜è¯¦è§£ï¼‰ - ç»„åˆæ€»å’Œ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ (leetcode-cn.com)</a>)ï¼Œå¦‚æœ<code>candidates = [2,3,6,7], target = 7</code>ï¼Œå…ˆç”»å‡ºç±»ä¼¼å¦‚ä¸‹çš„æ ‘å½¢å›¾ï¼Œè¾¹ä¸Šçš„æ•°å€¼ä¸º<code>candidates</code>çš„å…ƒç´ ï¼Œä»æ ¹åˆ°æ‰€æœ‰ä¸º<code>0</code>çš„èŠ‚ç‚¹çš„è·¯å¾„å°±æ˜¯åˆæ³•è·¯å¾„ã€‚æ·±åº¦ä¼˜å…ˆæœç´¢åˆ°èŠ‚ç‚¹ä¸º<code>0</code>æˆ–è€…ä¸ºè´Ÿæ•°æ—¶åœæ­¢è¯¥åˆ†æ”¯ä¸Šçš„æœç´¢ï¼ˆåç»­å¯ä»¥æ’åº<code>candidates</code>è¿›è¡Œå‰ªæï¼‰ã€‚</p><p><img src= "/img/loading.gif" data-lazy-src="https://pic.leetcode-cn.com/1598091943-hZjibJ-file_1598091940241" alt="img"></p><p>å­˜å‚¨æœç´¢è·¯å¾„çš„æ•°æ®ç»“æ„ä½¿ç”¨åŒå‘é˜Ÿåˆ—ï¼Œåœ¨é€’å½’å®Œæˆå¯¹å½“å‰èŠ‚ç‚¹çš„æ·±åº¦ä¼˜å…ˆæœç´¢åéœ€è¦removeLastæ¥resetè·¯å¾„çŠ¶æ€å›åˆ°æœç´¢ä¹‹å‰ã€‚</p><p>åœ¨æœç´¢æŸä¸€èŠ‚ç‚¹æ—¶ï¼Œæ¯ä¸€ä¸ªåˆ†æ”¯çš„æœç´¢èµ·å§‹ç‚¹éœ€è¦åœ¨candidatesä¸­å‘åç§»åŠ¨ä¸€ä¸ªä½ç½®ï¼Œä»¥é¿å…ä½¿ç”¨åŒä¸€å±‚å·²ç»ä½¿ç”¨è¿‡çš„å…ƒç´ å¯¼è‡´ç»“æœå‡ºç°é‡å¤ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; combinationSum(<span class="keyword">int</span>[] candidates, <span class="keyword">int</span> target) &#123;</span><br><span class="line">        List&lt;List&lt;Integer&gt;&gt; res = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        <span class="keyword">int</span> len = candidates.length;</span><br><span class="line">        <span class="keyword">if</span>(len == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> res;</span><br><span class="line">        &#125;</span><br><span class="line">        Deque&lt;Integer&gt; path = <span class="keyword">new</span> ArrayDeque&lt;&gt;();</span><br><span class="line">        dfs(res, candidates, target, <span class="number">0</span>, path, len);</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">dfs</span><span class="params">(List&lt;List&lt;Integer&gt;&gt; res, <span class="keyword">int</span>[] candidates, <span class="keyword">int</span> target, <span class="keyword">int</span> begin,</span></span></span><br><span class="line"><span class="function"><span class="params">                    Deque&lt;Integer&gt; path, <span class="keyword">int</span> len)</span> </span>&#123;</span><br><span class="line">      </span><br><span class="line">        <span class="keyword">if</span>(target &lt; <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(target == <span class="number">0</span>) &#123;</span><br><span class="line">            res.add(<span class="keyword">new</span> ArrayList&lt;&gt;(path));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = begin; i &lt; len; i++) &#123;</span><br><span class="line">            path.addLast(candidates[i]);</span><br><span class="line">            dfs(res, candidates, target - candidates[i], i, path, len);</span><br><span class="line">            path.removeLast();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å‰ªæï¼šæ’åºæ•°ç»„ï¼Œå½“ä¸‹ä¸€èŠ‚ç‚¹å·²ç»ä¸ºè´Ÿæ•°æ—¶ï¼Œè¿™ä¸ªèŠ‚ç‚¹å°±ä¸å†å¾€ä¸‹æœç´¢äº†ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; combinationSum(<span class="keyword">int</span>[] candidates, <span class="keyword">int</span> target) &#123;</span><br><span class="line">        List&lt;List&lt;Integer&gt;&gt; res = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        <span class="keyword">int</span> len = candidates.length;</span><br><span class="line">        <span class="keyword">if</span>(len == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> res;</span><br><span class="line">        &#125;</span><br><span class="line">        Arrays.sort(candidates);</span><br><span class="line">        Deque&lt;Integer&gt; path = <span class="keyword">new</span> ArrayDeque&lt;&gt;();</span><br><span class="line">        dfs(res, candidates, target, <span class="number">0</span>, path, len);</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">dfs</span><span class="params">(List&lt;List&lt;Integer&gt;&gt; res, <span class="keyword">int</span>[] candidates, <span class="keyword">int</span> target, <span class="keyword">int</span> begin,</span></span></span><br><span class="line"><span class="function"><span class="params">                    Deque&lt;Integer&gt; path, <span class="keyword">int</span> len)</span> </span>&#123;</span><br><span class="line">      </span><br><span class="line">        <span class="keyword">if</span>(target == <span class="number">0</span>) &#123;</span><br><span class="line">            res.add(<span class="keyword">new</span> ArrayList&lt;&gt;(path));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = begin; i &lt; len; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(target - candidates[i] &lt; <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            path.addLast(candidates[i]);</span><br><span class="line">            dfs(res, candidates, target - candidates[i], i, path, len);</span><br><span class="line">            path.removeLast();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> åˆ·é¢˜è®°å½• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> leetcode </tag>
            
            <tag> ç®—æ³• </tag>
            
            <tag> medium difficulty </tag>
            
            <tag> å›æº¯ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Leetcode 31. ä¸‹ä¸€ä¸ªæ’åˆ—</title>
      <link href="/2021/07/09/Leetcode-31-next-permutation/"/>
      <url>/2021/07/09/Leetcode-31-next-permutation/</url>
      
        <content type="html"><![CDATA[<p>é¢˜ç›®é“¾æ¥ï¼š<a href="https://leetcode-cn.com/problems/next-permutation/">31. ä¸‹ä¸€ä¸ªæ’åˆ— - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ (leetcode-cn.com)</a></p><p>çœ‹çœ‹è¿™ä¸ªé“¾æ¥ï¼è¯„è®ºåŒºæœ‰äººAPIä¸€æŠŠæ¢­â€¦ä¸è¡Œ æˆ‘ç”¨çš„æ˜¯Java</p><p>ç†è§£é¢˜è§£ï¼šä¸¤è½®ä»å°¾éƒ¨å¼€å§‹çš„æ‰«æï¼Œç¬¬ä¸€è½®æ‰¾å‡ºç¬¬ä¸€ä¸ªé¡ºåºå¯¹<code>nums[i], nums[i+1]</code>ï¼Œä»¥æ­¤ä¸ºåˆ†ç•Œï¼Œä¹‹åä¸ºå€’åºã€‚ç¬¬äºŒè½®æ‰¾å‡ºåé¢å€’åºçš„éƒ¨åˆ†é‡Œä»åå¾€å‰ç¬¬ä¸€ä¸ªå¤§äº<code>nums[i]</code>çš„å…ƒç´ <code>nums[j]</code>ï¼Œå’Œ<code>nums[i]</code>äº¤æ¢ã€‚æ­¤æ—¶åé¢è¿˜æ˜¯å€’åºï¼ˆå› ä¸º<code>nums[j]&gt;nums[i]</code>ï¼Œ<code>nums[j+1]&lt;nums[i]</code>ï¼Œ <code>nums[j-1]&gt;nums[j]</code>ï¼‰ï¼Œæ‰€ä»¥åªè¦ç”¨åŒæŒ‡é’ˆå¾€ä¸­å¤®æ‰«æã€å‰åäº¤æ¢çš„æ–¹å¼æ’ä¸€ä¸‹åºå°±å¥½äº†ã€‚ä¸€å…±æ¶‰åŠä¸‰æ¬¡æ‰«ææ“ä½œï¼Œå¤æ‚åº¦<code>O(N)</code>ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">nextPermutation</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> i = nums.length - <span class="number">2</span>;</span><br><span class="line">        <span class="keyword">while</span>(i &gt;= <span class="number">0</span> &amp;&amp; nums[i] &gt;= nums[i+<span class="number">1</span>]) &#123;</span><br><span class="line">            --i; </span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(i &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">int</span> j = nums.length - <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">while</span>(j &gt;= i+<span class="number">1</span> &amp;&amp; nums[j] &lt;= nums[i]) &#123;</span><br><span class="line">                --j;</span><br><span class="line">            &#125;</span><br><span class="line">            swap(nums, i, j);</span><br><span class="line">        &#125;</span><br><span class="line">        reverse(nums, i+<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">swap</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> i, <span class="keyword">int</span> j)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// easy</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">reverse</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> begin)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> left = begin, right = nums.length-<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span>(left &lt; right) &#123;</span><br><span class="line">            swap(nums, left, right);</span><br><span class="line">            left++;</span><br><span class="line">            right--;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> åˆ·é¢˜è®°å½• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> leetcode </tag>
            
            <tag> ç®—æ³• </tag>
            
            <tag> medium difficulty </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>NLPä½›è„šç¬”è®°</title>
      <link href="/2021/01/23/NLP-cheatsheet-notes/"/>
      <url>/2021/01/23/NLP-cheatsheet-notes/</url>
      
        <content type="html"><![CDATA[<p>ï¼ˆæ–½å·¥ä¸­â€¦â€¦ï¼‰</p><p>å¤åˆ¶ç²˜è´´ä¸ºä¸» æ¯”è¾ƒç®€å•åªæ˜¯ä¸ºäº†å®šæ€§åœ°ç†Ÿæ‚‰å’Œå›å¿†ä¸€ä¸‹ç›¸å…³çŸ¥è¯† ä½†æ˜¯å¦‚æœæœ‰å¤§ä½¬å‘ç°äº†ä½çº§é”™è¯¯ è¯·ä¸ååœ¨è¯„è®ºåŒºä¸­åŠæ—¶æŒ‡å‡º æˆäººç«ç‘°ğŸŒ¹æ‰‹ç•™ä½™é¦™ æ„Ÿæ©â¤ï¸</p><p>ä¸»è¦å‚è€ƒèµ„æ–™ï¼š<a href="https://github.com/NLP-LOVE/ML-NLP">https://github.com/NLP-LOVE/ML-NLP</a> </p><h1 id="Machine-Learning-Deep-Learningéƒ¨åˆ†"><a href="#Machine-Learning-Deep-Learningéƒ¨åˆ†" class="headerlink" title="Machine Learning / Deep Learningéƒ¨åˆ†"></a>Machine Learning / Deep Learningéƒ¨åˆ†</h1><h2 id="åŸºæœ¬æ¦‚å¿µ"><a href="#åŸºæœ¬æ¦‚å¿µ" class="headerlink" title="åŸºæœ¬æ¦‚å¿µ"></a>åŸºæœ¬æ¦‚å¿µ</h2><h3 id="æ¿€æ´»å‡½æ•°ï¼šsigmoidï¼ŒTanhï¼ŒReLUï¼ŒLeaky-ReLUï¼ŒPReLUï¼ŒELUï¼ŒMaxout"><a href="#æ¿€æ´»å‡½æ•°ï¼šsigmoidï¼ŒTanhï¼ŒReLUï¼ŒLeaky-ReLUï¼ŒPReLUï¼ŒELUï¼ŒMaxout" class="headerlink" title="æ¿€æ´»å‡½æ•°ï¼šsigmoidï¼ŒTanhï¼ŒReLUï¼ŒLeaky ReLUï¼ŒPReLUï¼ŒELUï¼ŒMaxout"></a><a href="https://zhuanlan.zhihu.com/p/71882757">æ¿€æ´»å‡½æ•°ï¼šsigmoidï¼ŒTanhï¼ŒReLUï¼ŒLeaky ReLUï¼ŒPReLUï¼ŒELUï¼ŒMaxout</a></h3><h4 id="sigmoid"><a href="#sigmoid" class="headerlink" title="sigmoid"></a>sigmoid</h4><p>sigmoidå‡½æ•°åˆç§° Logisticå‡½æ•°ï¼Œç”¨äºéšå±‚ç¥ç»å…ƒè¾“å‡ºï¼Œå–å€¼èŒƒå›´ä¸º(0,1)ï¼Œå¯ä»¥ç”¨æ¥åšäºŒåˆ†ç±»ã€‚</p><p><img src= "/img/loading.gif" data-lazy-src="https://www.zhihu.com/equation?tex=%5Csigma(x)=%5Cfrac%7B1%7D%7B1+e%5E%7B-x%7D%7D" alt="[å…¬å¼]"></p><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/davekim3872/blogpics@master/uPic/avTdiw.jpg" alt="avTdiw"></p><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/davekim3872/blogpics@master/uPic/JOADpO.jpg" alt="JOADpO"></p><p>ä¼˜ç‚¹ï¼š</p><ul><li><p>Sigmoidå‡½æ•°çš„è¾“å‡ºåœ¨(0,1)ä¹‹é—´ï¼Œè¾“å‡ºèŒƒå›´æœ‰é™ï¼Œä¼˜åŒ–ç¨³å®šï¼Œå¯ä»¥ç”¨ä½œè¾“å‡ºå±‚ã€‚</p></li><li><p>è¿ç»­å‡½æ•°ï¼Œä¾¿äºæ±‚å¯¼ã€‚</p></li></ul><p>ç¼ºç‚¹ï¼š</p><ul><li><p>sigmoidå‡½æ•°åœ¨å˜é‡å–ç»å¯¹å€¼éå¸¸å¤§çš„æ­£å€¼æˆ–è´Ÿå€¼æ—¶ä¼šå‡ºç°é¥±å’Œç°è±¡ï¼Œæ„å‘³ç€å‡½æ•°ä¼šå˜å¾—å¾ˆå¹³ï¼Œå¹¶ä¸”å¯¹è¾“å…¥çš„å¾®å°æ”¹å˜ä¼šå˜å¾—ä¸æ•æ„Ÿã€‚</p></li><li><p>åœ¨åå‘ä¼ æ’­æ—¶ï¼Œå½“æ¢¯åº¦æ¥è¿‘äº0ï¼Œæƒé‡åŸºæœ¬ä¸ä¼šæ›´æ–°ï¼Œå¾ˆå®¹æ˜“å°±ä¼šå‡ºç°æ¢¯åº¦æ¶ˆå¤±çš„æƒ…å†µï¼Œä»è€Œæ— æ³•å®Œæˆæ·±å±‚ç½‘ç»œçš„è®­ç»ƒã€‚</p></li><li><p>sigmoidå‡½æ•°çš„è¾“å‡ºä¸æ˜¯0å‡å€¼çš„ï¼Œä¼šå¯¼è‡´åå±‚çš„ç¥ç»å…ƒçš„è¾“å…¥æ˜¯é0å‡å€¼çš„ä¿¡å·ï¼Œè¿™ä¼šå¯¹æ¢¯åº¦äº§ç”Ÿå½±å“ã€‚</p></li><li><p>è®¡ç®—å¤æ‚åº¦é«˜ï¼Œå› ä¸ºsigmoidå‡½æ•°æ˜¯æŒ‡æ•°å½¢å¼ã€‚</p></li></ul><h4 id="Tanh"><a href="#Tanh" class="headerlink" title="Tanh"></a>Tanh</h4><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/davekim3872/blogpics@master/uPic/PbkLCR.jpg" alt="PbkLCR"></p><h4 id="ReLU"><a href="#ReLU" class="headerlink" title="ReLU"></a>ReLU</h4><p><strong>æ•´æµçº¿æ€§å•å…ƒ</strong>ï¼ˆRectified linear unitï¼ŒReLUï¼‰æ˜¯ç°ä»£ç¥ç»ç½‘ç»œä¸­æœ€å¸¸ç”¨çš„æ¿€æ´»å‡½æ•°ï¼Œå¤§å¤šæ•°å‰é¦ˆç¥ç»ç½‘ç»œé»˜è®¤ä½¿ç”¨çš„æ¿€æ´»å‡½æ•°ã€‚</p><p>ReLUå‡½æ•°å®šä¹‰å¦‚ä¸‹ï¼š <img src= "/img/loading.gif" data-lazy-src="https://www.zhihu.com/equation?tex=f(x)=max(0,x)" alt="[å…¬å¼]"></p><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/davekim3872/blogpics@master/uPic/jLl62p.jpg" alt="jLl62p"></p><p><strong>ä¼˜ç‚¹ï¼š</strong></p><p>ä½¿ç”¨ReLUçš„SGDç®—æ³•çš„æ”¶æ•›é€Ÿåº¦æ¯” sigmoid å’Œ tanh å¿«ã€‚</p><p>åœ¨x&gt;0åŒºåŸŸä¸Šï¼Œä¸ä¼šå‡ºç°æ¢¯åº¦é¥±å’Œã€æ¢¯åº¦æ¶ˆå¤±çš„é—®é¢˜ã€‚</p><p>è®¡ç®—å¤æ‚åº¦ä½ï¼Œä¸éœ€è¦è¿›è¡ŒæŒ‡æ•°è¿ç®—ï¼Œåªè¦ä¸€ä¸ªé˜ˆå€¼å°±å¯ä»¥å¾—åˆ°æ¿€æ´»å€¼ã€‚</p><p><strong>ç¼ºç‚¹ï¼š</strong></p><p>ReLUçš„è¾“å‡º<strong>ä¸æ˜¯0å‡å€¼</strong>çš„ã€‚</p><p>**Dead ReLU Problem(ç¥ç»å…ƒåæ­»ç°è±¡)**ï¼šReLUåœ¨è´Ÿæ•°åŒºåŸŸè¢«killçš„ç°è±¡å«åšdead reluã€‚ReLUåœ¨è®­ç»ƒçš„æ—¶å¾ˆâ€œè„†å¼±â€ã€‚åœ¨x&lt;0æ—¶ï¼Œæ¢¯åº¦ä¸º0ã€‚è¿™ä¸ªç¥ç»å…ƒåŠä¹‹åçš„ç¥ç»å…ƒæ¢¯åº¦æ°¸è¿œä¸º0ï¼Œä¸å†å¯¹ä»»ä½•æ•°æ®æœ‰æ‰€å“åº”ï¼Œå¯¼è‡´ç›¸åº”å‚æ•°æ°¸è¿œä¸ä¼šè¢«æ›´æ–°ã€‚</p><p><strong>äº§ç”Ÿ</strong>è¿™ç§ç°è±¡çš„ä¸¤ä¸ª<strong>åŸå› </strong>ï¼šå‚æ•°åˆå§‹åŒ–é—®é¢˜ï¼›learning rateå¤ªé«˜å¯¼è‡´åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­å‚æ•°æ›´æ–°å¤ªå¤§ã€‚ </p><p><strong>è§£å†³æ–¹æ³•</strong>ï¼šé‡‡ç”¨Xavieråˆå§‹åŒ–æ–¹æ³•ï¼Œä»¥åŠé¿å…å°†learning rateè®¾ç½®å¤ªå¤§æˆ–ä½¿ç”¨adagradç­‰è‡ªåŠ¨è°ƒèŠ‚learning rateçš„ç®—æ³•ã€‚</p><h4 id="LeakyReLU"><a href="#LeakyReLU" class="headerlink" title="LeakyReLU"></a>LeakyReLU</h4><p><strong>æ¸—æ¼æ•´æµçº¿æ€§å•å…ƒ</strong>(Leaky ReLU)ï¼Œä¸ºäº†è§£å†³dead ReLUç°è±¡ã€‚ç”¨ä¸€ä¸ªç±»ä¼¼0.01çš„å°å€¼æ¥åˆå§‹åŒ–ç¥ç»å…ƒï¼Œä»è€Œ<strong>ä½¿å¾—ReLUåœ¨è´Ÿæ•°åŒºåŸŸæ›´åå‘äºæ¿€æ´»è€Œä¸æ˜¯æ­»æ‰</strong>ã€‚è¿™é‡Œçš„æ–œç‡éƒ½æ˜¯ç¡®å®šçš„ã€‚</p><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/davekim3872/blogpics@master/uPic/nIEhNp.jpg" alt="nIEhNp"></p><h3 id="æŸå¤±å‡½æ•°"><a href="#æŸå¤±å‡½æ•°" class="headerlink" title="æŸå¤±å‡½æ•°"></a>æŸå¤±å‡½æ•°</h3><h4 id="äº¤å‰ç†µcross-entropy"><a href="#äº¤å‰ç†µcross-entropy" class="headerlink" title="äº¤å‰ç†µcross-entropy"></a>äº¤å‰ç†µcross-entropy</h4><p><img src= "/img/loading.gif" data-lazy-src="https://www.zhihu.com/equation?tex=L+=+%5Cfrac%7B1%7D%7BN%7D%5Csum_%7Bi%7D+L_i+=+%5Cfrac%7B1%7D%7BN%7D%5Csum_%7Bi%7D-%5By_i%5Ccdot+log(p_i)+++(1-y_i)%5Ccdot+log(1-p_i)%5D+%5C%5C" alt="[å…¬å¼]"></p><p><img src= "/img/loading.gif" data-lazy-src="https://www.zhihu.com/equation?tex=L+=+%5Cfrac%7B1%7D%7BN%7D%5Csum_%7Bi%7D+L_i+=+%5Cfrac%7B1%7D%7BN%7D%5Csum_%7Bi%7D+-%5Csum_%7Bc=1%7D%5EMy_%7Bic%7D%5Clog(p_%7Bic%7D)+%5C%5C" alt="[å…¬å¼]"></p><p>å½“ä½¿ç”¨sigmoidä½œä¸ºæ¿€æ´»å‡½æ•°çš„æ—¶å€™ï¼Œå¸¸ç”¨<strong>äº¤å‰ç†µæŸå¤±å‡½æ•°</strong>è€Œä¸ç”¨<strong>å‡æ–¹è¯¯å·®æŸå¤±å‡½æ•°</strong>ï¼Œå› ä¸ºå®ƒå¯ä»¥<strong>å®Œç¾è§£å†³å¹³æ–¹æŸå¤±å‡½æ•°æƒé‡æ›´æ–°è¿‡æ…¢</strong>çš„é—®é¢˜ï¼Œå…·æœ‰â€œè¯¯å·®å¤§çš„æ—¶å€™ï¼Œæƒé‡æ›´æ–°å¿«ï¼›è¯¯å·®å°çš„æ—¶å€™ï¼Œæƒé‡æ›´æ–°æ…¢â€çš„è‰¯å¥½æ€§è´¨ã€‚</p><h2 id="æ¨¡å‹å…«è‚¡"><a href="#æ¨¡å‹å…«è‚¡" class="headerlink" title="æ¨¡å‹å…«è‚¡"></a>æ¨¡å‹å…«è‚¡</h2><h3 id="RNN"><a href="#RNN" class="headerlink" title="RNN"></a>RNN</h3><p>ç»“æ„ï¼š</p><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/davekim3872/blogpics@master/uPic/Itl4lS.jpg" alt="Itl4lS"></p><p>ç¼ºç‚¹ï¼šGradient Vanishing, No Long-distance dependency</p><h3 id="LSTM"><a href="#LSTM" class="headerlink" title="LSTM"></a>LSTM</h3><p>ç»“æ„ï¼š</p><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/davekim3872/blogpics@master/uPic/bSUX3M.jpg" alt="bSUX3M"></p><p>å…¶ä¸­ï¼Œfä»£è¡¨forgetï¼Œå¯¹ä¸Šä¸€çŠ¶æ€çš„c(t-1)è¿›è¡Œé€‰æ‹©æ€§é—å¿˜ï¼Œiä»£è¡¨å¯¹x(t)è¾“å…¥åçš„å€™é€‰è®°å¿†ç»†èƒcâ€™(t)è¿›è¡Œé€‰æ‹©æ€§è®°å¿†ã€‚è¿™ä¸¤ä¸ªç»“æœç›¸åŠ å†ç»è¿‡ä¸€å±‚oï¼ˆå†³å®šå“ªäº›ä¼šè¢«è¾“å‡ºï¼‰æ„æˆäº†çœŸæ­£çš„å½“å‰çŠ¶æ€c(t)çš„éšè—çŠ¶æ€h(t)ã€‚</p><p><strong>è®°å¿†é—¨ï¼š</strong><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/davekim3872/blogpics@master/uPic/QpE9hp.jpg" alt="QpE9hp"></p><p><strong>é—å¿˜é—¨ï¼š</strong><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/davekim3872/blogpics@master/uPic/3SIJu6.jpg" alt="3SIJu6"></p><p><strong>è¾“å‡ºé—¨ï¼š</strong><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/davekim3872/blogpics@master/uPic/tYsOzX.jpg" alt="tYsOzX"></p><p><strong>å€™é€‰è®°å¿†ç»†èƒï¼š</strong><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/davekim3872/blogpics@master/uPic/VYjN0N.jpg" alt="VYjN0N"></p><p><strong>è®°å¿†ç»†èƒ</strong>ï¼š<img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/davekim3872/blogpics@master/uPic/qhhBRW.jpg" alt="qhhBRW"></p><p><strong>éšè—çŠ¶æ€ï¼š</strong><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/davekim3872/blogpics@master/uPic/Ep0OYF.jpg" alt="Ep0OYF"></p><p>ä¼˜ç¼ºç‚¹ï¼šwith long-distance dependency, but more difficult to train(more parameters)</p><h1 id="NLPéƒ¨åˆ†"><a href="#NLPéƒ¨åˆ†" class="headerlink" title="NLPéƒ¨åˆ†"></a>NLPéƒ¨åˆ†</h1><h2 id="åŸºæœ¬æ¦‚å¿µ-1"><a href="#åŸºæœ¬æ¦‚å¿µ-1" class="headerlink" title="åŸºæœ¬æ¦‚å¿µ"></a>åŸºæœ¬æ¦‚å¿µ</h2><h3 id="Word-Embedding"><a href="#Word-Embedding" class="headerlink" title="Word Embedding"></a>Word Embedding</h3><p>Use vectors to represent words æŠŠè¯æ˜ å°„ä¸ºå®æ•°åŸŸå‘é‡çš„æŠ€æœ¯</p><h4 id="Methods"><a href="#Methods" class="headerlink" title="Methods"></a>Methods</h4><h5 id="One-Hot"><a href="#One-Hot" class="headerlink" title="One-Hot"></a>One-Hot</h5><p>Pros: Expand the dimension of features</p><p>Cons: éšç€è¯­æ–™åº“çš„å¢åŠ ï¼Œæ•°æ®ç‰¹å¾çš„ç»´åº¦ä¼šè¶Šæ¥è¶Šå¤§ï¼Œäº§ç”Ÿä¸€ä¸ªç»´åº¦å¾ˆé«˜ï¼Œåˆå¾ˆç¨€ç–çš„çŸ©é˜µã€‚è¿™ç§è¡¨ç¤ºæ–¹æ³•çš„åˆ†è¯é¡ºåºå’Œåœ¨å¥å­ä¸­çš„é¡ºåºæ˜¯æ— å…³çš„ï¼Œä¸èƒ½ä¿ç•™è¯ä¸è¯ä¹‹é—´çš„å…³ç³»ä¿¡æ¯ã€‚</p><h5 id="Bag-of-Words"><a href="#Bag-of-Words" class="headerlink" title="Bag of Words"></a>Bag of Words</h5><p>Cons: è¯å‡ºç°çš„è¶Šå¤šç‰¹å¾è¶Šæ˜æ˜¾ï¼Œä½†ä¸ä»£è¡¨è¿™ä¸ªè¯é‡è¦/æƒé‡åº”è¯¥æ›´å¤§ã€‚è¯ä¸è¯ä¹‹é—´çš„é¡ºåºå…³ç³»è¢«æŠ¹é™¤ã€‚</p><h5 id="TF-IDF"><a href="#TF-IDF" class="headerlink" title="TF-IDF"></a>TF-IDF</h5><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/davekim3872/blogpics@master/uPic/rpP7Sr.jpg" alt="rpP7Sr"></p><p>å«ä¹‰ï¼šæŸä¸ªtermåœ¨ä¸€ç¯‡æ–‡ç« ä¸­å‡ºç°çš„é¢‘ç‡è¶Šé«˜ &amp; è¿™ä¸ªtermåœ¨æ‰€æœ‰æ–‡æ¡£ä¸­å‡ºç°çš„æ¬¡æ•°è¶Šå°‘ï¼Œè¶Šèƒ½å¤Ÿä»£è¡¨è¿™ä¸ªæ–‡ç« ã€‚TFIDFæ–¹æ³•ä¸»è¦æ˜¯å¯¹è¯å‘é‡è¿›è¡ŒåŠ æƒã€‚</p><h5 id="n-gram"><a href="#n-gram" class="headerlink" title="n-gram"></a>n-gram</h5><p>Consï¼šéšç€nçš„å¤§å°å¢å¤§ï¼Œè¯è¡¨ä¼šå‘ˆç°æŒ‡æ•°å‹è†¨èƒ€ã€‚</p><h2 id="æ¨¡å‹å…«è‚¡-1"><a href="#æ¨¡å‹å…«è‚¡-1" class="headerlink" title="æ¨¡å‹å…«è‚¡"></a>æ¨¡å‹å…«è‚¡</h2><h4 id="Word2Vec"><a href="#Word2Vec" class="headerlink" title="Word2Vec"></a><a href="https://github.com/NLP-LOVE/ML-NLP/tree/master/NLP/16.1%20Word%20Embedding#42-word2vec">Word2Vec</a></h4><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/davekim3872/blogpics@master/uPic/0LXo0u.jpg" alt="0LXo0u"></p><p>æœ¬è´¨ï¼šè®­ç»ƒä¸Šä¸‹æ–‡é¢„æµ‹çš„ç¥ç»ç½‘ç»œæ¨¡å‹ï¼Œåˆ©ç”¨éšè—å±‚æƒé‡çŸ©é˜µä½œä¸ºå‘é‡åŒ–è¡¨ç¤ºã€‚æ‰€éœ€è¦çš„ç»“æœæ˜¯è¾“å…¥å±‚å’Œéšè—å±‚ä¹‹é—´çš„æƒé‡çŸ©é˜µWï¼Œç”¨è¾“å…¥ä¹˜ä»¥Wå°±æ˜¯è¯å‘é‡è¡¨ç¤ºã€‚</p><p>æ–¹å¼ï¼šCBOWï¼ˆè¿ç»­è¯è¢‹ï¼Œé¢„æµ‹ä¸‹æ–‡ï¼‰or Skip-gramï¼ˆæ ¹æ®ä¸Šä¸‹æ–‡é¢„æµ‹è¯è¯­ï¼‰</p><h4 id="Attention"><a href="#Attention" class="headerlink" title="Attention"></a>Attention</h4><p>ç»“æ„ï¼š </p><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/davekim3872/blogpics@master/uPic/ReyEHg.jpg" alt="ReyEHg"></p><p>åˆ©ç”¨i-1çš„éšè—å±‚è¾“å‡ºè®¡ç®—æ¦‚ç‡åˆ†å¸ƒï¼Œsoftmaxå½’ä¸€åŒ–</p><h4 id="Transformer"><a href="#Transformer" class="headerlink" title="Transformer"></a>Transformer</h4><p>ç»“æ„ï¼šTransformerçš„ç»“æ„å’ŒAttentionæ¨¡å‹ä¸€æ ·ï¼ŒTransformeræ¨¡å‹ä¸­ä¹Ÿé‡‡ç”¨äº† encoer-decoder æ¶æ„ã€‚ä½†å…¶ç»“æ„ç›¸æ¯”äºAttentionæ›´åŠ å¤æ‚ï¼Œè®ºæ–‡ä¸­encoderå±‚ç”±6ä¸ªencoderå †å åœ¨ä¸€èµ·ï¼Œdecoderå±‚ä¹Ÿä¸€æ ·ã€‚</p><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/davekim3872/blogpics@master/uPic/XR389N.jpg" alt="XR389N"></p><ul><li>encoderï¼ŒåŒ…å«ä¸¤å±‚ï¼Œä¸€ä¸ªself-attentionå±‚å’Œä¸€ä¸ªå‰é¦ˆç¥ç»ç½‘ç»œï¼Œself-attentionèƒ½å¸®åŠ©å½“å‰èŠ‚ç‚¹ä¸ä»…ä»…åªå…³æ³¨å½“å‰çš„è¯ï¼Œä»è€Œèƒ½è·å–åˆ°ä¸Šä¸‹æ–‡çš„è¯­ä¹‰ã€‚</li><li>decoderä¹ŸåŒ…å«encoderæåˆ°çš„ä¸¤å±‚ç½‘ç»œï¼Œä½†æ˜¯åœ¨è¿™ä¸¤å±‚ä¸­é—´è¿˜æœ‰ä¸€å±‚attentionå±‚ï¼Œå¸®åŠ©å½“å‰èŠ‚ç‚¹è·å–åˆ°å½“å‰éœ€è¦å…³æ³¨çš„é‡ç‚¹å†…å®¹ã€‚</li></ul><h4 id="ELMo-Embedding-from-Language-Models"><a href="#ELMo-Embedding-from-Language-Models" class="headerlink" title="ELMo (Embedding from Language Models)"></a>ELMo (Embedding from Language Models)</h4><p>For what : Word Embedding æ— æ³•è§£å†³åŒä¹‰è¯ï¼ˆSynonymï¼‰é—®é¢˜</p><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/davekim3872/blogpics@master/uPic/D6H9k9.jpg" alt="D6H9k9"></p><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/davekim3872/blogpics@master/uPic/WcecY6.png" alt="WcecY6"></p><h4 id="BERTï¼šA-Pre-training-model"><a href="#BERTï¼šA-Pre-training-model" class="headerlink" title="BERTï¼šA Pre-training model"></a>BERTï¼šA Pre-training model</h4><p>ç»“æ„</p><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/davekim3872/blogpics@master/uPic/P2stYh.jpg" alt="P2stYh"></p><p>BERTé¢„è®­ç»ƒæ¨¡å‹åˆ†ä¸ºä»¥ä¸‹ä¸‰ä¸ªæ­¥éª¤ï¼š<strong>Embeddingã€Masked LMã€Next Sentence Prediction</strong></p><ul><li><p>Embeddingï¼šè¿™é‡Œçš„Embeddingç”±ä¸‰ç§Embeddingæ±‚å’Œè€Œæˆ</p><ul><li>Token Embeddingsæ˜¯è¯å‘é‡ï¼Œç¬¬ä¸€ä¸ªå•è¯æ˜¯CLSæ ‡å¿—ï¼Œå¯ä»¥ç”¨äºä¹‹åçš„åˆ†ç±»ä»»åŠ¡</li><li>Segment Embeddingsç”¨æ¥åŒºåˆ«ä¸¤ç§å¥å­ï¼Œå› ä¸ºé¢„è®­ç»ƒä¸å…‰åšLMè¿˜è¦åšä»¥ä¸¤ä¸ªå¥å­ä¸ºè¾“å…¥çš„åˆ†ç±»ä»»åŠ¡</li><li>Position Embeddingså’Œä¹‹å‰æ–‡ç« ä¸­çš„Transformerä¸ä¸€æ ·ï¼Œä¸æ˜¯ä¸‰è§’å‡½æ•°è€Œæ˜¯å­¦ä¹ å‡ºæ¥çš„</li></ul></li><li><p>MLMå¯ä»¥ç†è§£ä¸ºå®Œå½¢å¡«ç©ºï¼Œä½œè€…ä¼šéšæœºmaskæ¯ä¸€ä¸ªå¥å­ä¸­15%çš„è¯ï¼Œç”¨å…¶ä¸Šä¸‹æ–‡æ¥åšé¢„æµ‹ï¼Œä¾‹å¦‚ï¼šmy dog is hairy â†’ my dog is [MASK]</p><p>æ­¤å¤„å°†hairyè¿›è¡Œäº†maskå¤„ç†ï¼Œç„¶åé‡‡ç”¨éç›‘ç£å­¦ä¹ çš„æ–¹æ³•é¢„æµ‹maskä½ç½®çš„è¯æ˜¯ä»€ä¹ˆï¼Œä½†æ˜¯è¯¥æ–¹æ³•æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œå› ä¸ºæ˜¯mask15%çš„è¯ï¼Œå…¶æ•°é‡å·²ç»å¾ˆé«˜äº†ï¼Œè¿™æ ·å°±ä¼šå¯¼è‡´æŸäº›è¯åœ¨fine-tuningé˜¶æ®µä»æœªè§è¿‡ï¼Œä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œä½œè€…åšäº†å¦‚ä¸‹çš„å¤„ç†ï¼š</p><p>80%æ˜¯é‡‡ç”¨[mask]ï¼Œmy dog is hairy â†’ my dog is [MASK]</p><p>10%æ˜¯éšæœºå–ä¸€ä¸ªè¯æ¥ä»£æ›¿maskçš„è¯ï¼Œmy dog is hairy -&gt; my dog is apple</p><p>10%ä¿æŒä¸å˜ï¼Œmy dog is hairy -&gt; my dog is hairy</p></li><li><p>é€‰æ‹©ä¸€äº›å¥å­å¯¹Aä¸Bï¼Œå…¶ä¸­50%çš„æ•°æ®Bæ˜¯Açš„ä¸‹ä¸€æ¡å¥å­ï¼Œå‰©ä½™50%çš„æ•°æ®Bæ˜¯è¯­æ–™åº“ä¸­éšæœºé€‰æ‹©çš„ï¼Œå­¦ä¹ å…¶ä¸­çš„ç›¸å…³æ€§ï¼Œæ·»åŠ è¿™æ ·çš„é¢„è®­ç»ƒçš„ç›®çš„æ˜¯ç›®å‰å¾ˆå¤šNLPçš„ä»»åŠ¡æ¯”å¦‚QAå’ŒNLIéƒ½éœ€è¦ç†è§£ä¸¤ä¸ªå¥å­ä¹‹é—´çš„å…³ç³»ï¼Œä»è€Œèƒ½è®©é¢„è®­ç»ƒçš„æ¨¡å‹æ›´å¥½çš„é€‚åº”è¿™æ ·çš„ä»»åŠ¡ã€‚ ä¸ªäººç†è§£ï¼š</p><ul><li>Bertå…ˆæ˜¯ç”¨Maskæ¥æé«˜è§†é‡èŒƒå›´çš„ä¿¡æ¯è·å–é‡ï¼Œå¢åŠ duplicateå†éšæœºMaskï¼Œè¿™æ ·è·ŸRNNç±»æ–¹æ³•ä¾æ¬¡è®­ç»ƒé¢„æµ‹æ²¡ä»€ä¹ˆåŒºåˆ«äº†é™¤äº†maskä¸åŒä½ç½®å¤–ï¼›</li><li>å…¨å±€è§†é‡æå¤§åœ°é™ä½äº†å­¦ä¹ çš„éš¾åº¦ï¼Œç„¶åå†ç”¨A+B/Cæ¥ä½œä¸ºæ ·æœ¬ï¼Œè¿™æ ·æ¯æ¡æ ·æœ¬éƒ½æœ‰50%çš„æ¦‚ç‡çœ‹åˆ°ä¸€åŠå·¦å³çš„å™ªå£°ï¼›</li><li>ä½†ç›´æ¥å­¦ä¹ Mask A+B/Cæ˜¯æ²¡æ³•å­¦ä¹ çš„ï¼Œå› ä¸ºä¸çŸ¥é“å“ªäº›æ˜¯å™ªå£°ï¼Œæ‰€ä»¥åˆåŠ ä¸Šnext_sentenceé¢„æµ‹ä»»åŠ¡ï¼Œä¸MLMåŒæ—¶è¿›è¡Œè®­ç»ƒï¼Œè¿™æ ·ç”¨nextæ¥è¾…åŠ©æ¨¡å‹å¯¹å™ªå£°/éå™ªå£°çš„è¾¨è¯†ï¼Œç”¨MLMæ¥å®Œæˆè¯­ä¹‰çš„å¤§éƒ¨åˆ†çš„å­¦ä¹ ã€‚</li></ul></li></ul><h4 id="GPT-GPT-2"><a href="#GPT-GPT-2" class="headerlink" title="GPT / GPT-2"></a>GPT / GPT-2</h4><h4 id="XLNET"><a href="#XLNET" class="headerlink" title="XLNET"></a>XLNET</h4><h5 id="è‡ªå›å½’vsè‡ªç¼–ç "><a href="#è‡ªå›å½’vsè‡ªç¼–ç " class="headerlink" title="è‡ªå›å½’vsè‡ªç¼–ç "></a>è‡ªå›å½’vsè‡ªç¼–ç </h5><ul><li><p><strong>Autoregressive LM:</strong> åœ¨ELMOï¼BERTå‡ºæ¥ä¹‹å‰ï¼Œå¤§å®¶é€šå¸¸è®²çš„è¯­è¨€æ¨¡å‹å…¶å®æ˜¯æ ¹æ®ä¸Šæ–‡å†…å®¹é¢„æµ‹ä¸‹ä¸€ä¸ªå¯èƒ½è·Ÿéšçš„å•è¯ï¼Œå°±æ˜¯å¸¸è¯´çš„è‡ªå·¦å‘å³çš„è¯­è¨€æ¨¡å‹ä»»åŠ¡ï¼Œæˆ–è€…åè¿‡æ¥ä¹Ÿè¡Œï¼Œå°±æ˜¯æ ¹æ®ä¸‹æ–‡é¢„æµ‹å‰é¢çš„å•è¯ï¼Œè¿™ç§ç±»å‹çš„LMè¢«ç§°ä¸ºè‡ªå›å½’è¯­è¨€æ¨¡å‹ã€‚GPT å°±æ˜¯å…¸å‹çš„è‡ªå›å½’è¯­è¨€æ¨¡å‹ã€‚ELMOå°½ç®¡çœ‹ä¸Šå»åˆ©ç”¨äº†ä¸Šæ–‡ï¼Œä¹Ÿåˆ©ç”¨äº†ä¸‹æ–‡ï¼Œä½†æ˜¯æœ¬è´¨ä¸Šä»ç„¶æ˜¯è‡ªå›å½’LMï¼Œè¿™ä¸ªè·Ÿæ¨¡å‹å…·ä½“æ€ä¹ˆå®ç°æœ‰å…³ç³»ã€‚ELMOæ˜¯åšäº†ä¸¤ä¸ªæ–¹å‘ï¼ˆä»å·¦åˆ°å³ä»¥åŠä»å³åˆ°å·¦ä¸¤ä¸ªæ–¹å‘çš„è¯­è¨€æ¨¡å‹ï¼‰ï¼Œä½†æ˜¯æ˜¯åˆ†åˆ«æœ‰ä¸¤ä¸ªæ–¹å‘çš„è‡ªå›å½’LMï¼Œç„¶åæŠŠLSTMçš„ä¸¤ä¸ªæ–¹å‘çš„éšèŠ‚ç‚¹çŠ¶æ€æ‹¼æ¥åˆ°ä¸€èµ·ï¼Œæ¥ä½“ç°åŒå‘è¯­è¨€æ¨¡å‹è¿™ä¸ªäº‹æƒ…çš„ã€‚æ‰€ä»¥å…¶å®æ˜¯ä¸¤ä¸ªè‡ªå›å½’è¯­è¨€æ¨¡å‹çš„æ‹¼æ¥ï¼Œæœ¬è´¨ä¸Šä»ç„¶æ˜¯è‡ªå›å½’è¯­è¨€æ¨¡å‹ã€‚</p><p>è‡ªå›å½’è¯­è¨€æ¨¡å‹æœ‰ä¼˜ç‚¹æœ‰ç¼ºç‚¹ï¼š</p><p><strong>ç¼ºç‚¹</strong>æ˜¯åªèƒ½åˆ©ç”¨ä¸Šæ–‡æˆ–è€…ä¸‹æ–‡çš„ä¿¡æ¯ï¼Œä¸èƒ½åŒæ—¶åˆ©ç”¨ä¸Šæ–‡å’Œä¸‹æ–‡çš„ä¿¡æ¯ï¼Œå½“ç„¶ï¼Œè²Œä¼¼ELMOè¿™ç§åŒå‘éƒ½åšï¼Œç„¶åæ‹¼æ¥çœ‹ä¸Šå»èƒ½å¤Ÿè§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå› ä¸ºèåˆæ¨¡å¼è¿‡äºç®€å•ï¼Œæ‰€ä»¥æ•ˆæœå…¶å®å¹¶ä¸æ˜¯å¤ªå¥½ã€‚</p><p><strong>ä¼˜ç‚¹</strong>å…¶å®è·Ÿä¸‹æ¸¸NLPä»»åŠ¡æœ‰å…³ï¼Œæ¯”å¦‚ç”Ÿæˆç±»NLPä»»åŠ¡ï¼Œæ¯”å¦‚æ–‡æœ¬æ‘˜è¦ï¼Œæœºå™¨ç¿»è¯‘ç­‰ï¼Œåœ¨å®é™…ç”Ÿæˆå†…å®¹çš„æ—¶å€™ï¼Œå°±æ˜¯ä»å·¦å‘å³çš„ï¼Œè‡ªå›å½’è¯­è¨€æ¨¡å‹å¤©ç„¶åŒ¹é…è¿™ä¸ªè¿‡ç¨‹ã€‚è€ŒBertè¿™ç§DAEæ¨¡å¼ï¼Œåœ¨ç”Ÿæˆç±»NLPä»»åŠ¡ä¸­ï¼Œå°±é¢ä¸´è®­ç»ƒè¿‡ç¨‹å’Œåº”ç”¨è¿‡ç¨‹ä¸ä¸€è‡´çš„é—®é¢˜ï¼Œå¯¼è‡´ç”Ÿæˆç±»çš„NLPä»»åŠ¡åˆ°ç›®å‰ä¸ºæ­¢éƒ½åšä¸å¤ªå¥½ã€‚</p></li><li><p><strong>Autoencoder:</strong> è‡ªå›å½’è¯­è¨€æ¨¡å‹åªèƒ½æ ¹æ®ä¸Šæ–‡é¢„æµ‹ä¸‹ä¸€ä¸ªå•è¯ï¼Œæˆ–è€…åè¿‡æ¥ï¼Œåªèƒ½æ ¹æ®ä¸‹æ–‡é¢„æµ‹å‰é¢ä¸€ä¸ªå•è¯ã€‚ç›¸æ¯”è€Œè¨€ï¼ŒBerté€šè¿‡åœ¨è¾“å…¥Xä¸­éšæœºMaskæ‰ä¸€éƒ¨åˆ†å•è¯ï¼Œç„¶åé¢„è®­ç»ƒè¿‡ç¨‹çš„ä¸»è¦ä»»åŠ¡ä¹‹ä¸€æ˜¯æ ¹æ®ä¸Šä¸‹æ–‡å•è¯æ¥é¢„æµ‹è¿™äº›è¢«Maskæ‰çš„å•è¯ï¼Œå¦‚æœä½ å¯¹Denoising Autoencoderæ¯”è¾ƒç†Ÿæ‚‰çš„è¯ï¼Œä¼šçœ‹å‡ºï¼Œè¿™ç¡®å®æ˜¯å…¸å‹çš„DAEçš„æ€è·¯ã€‚é‚£äº›è¢«Maskæ‰çš„å•è¯å°±æ˜¯åœ¨è¾“å…¥ä¾§åŠ å…¥çš„æ‰€è°“å™ªéŸ³ã€‚ç±»ä¼¼Bertè¿™ç§é¢„è®­ç»ƒæ¨¡å¼ï¼Œè¢«ç§°ä¸ºDAE LMã€‚</p><p>è¿™ç§DAE LMçš„ä¼˜ç¼ºç‚¹æ­£å¥½å’Œè‡ªå›å½’LMåè¿‡æ¥ï¼Œå®ƒèƒ½æ¯”è¾ƒè‡ªç„¶åœ°èå…¥åŒå‘è¯­è¨€æ¨¡å‹ï¼ŒåŒæ—¶çœ‹åˆ°è¢«é¢„æµ‹å•è¯çš„ä¸Šæ–‡å’Œä¸‹æ–‡ï¼Œè¿™æ˜¯å¥½å¤„ã€‚<strong>ç¼ºç‚¹</strong>æ˜¯å•¥å‘¢ï¼Ÿä¸»è¦åœ¨è¾“å…¥ä¾§å¼•å…¥[Mask]æ ‡è®°ï¼Œå¯¼è‡´é¢„è®­ç»ƒé˜¶æ®µå’ŒFine-tuningé˜¶æ®µä¸ä¸€è‡´çš„é—®é¢˜ï¼Œå› ä¸ºFine-tuningé˜¶æ®µæ˜¯çœ‹ä¸åˆ°[Mask]æ ‡è®°çš„ã€‚DAEå—ï¼Œå°±è¦å¼•å…¥å™ªéŸ³ï¼Œ[Mask] æ ‡è®°å°±æ˜¯å¼•å…¥å™ªéŸ³çš„æ‰‹æ®µï¼Œè¿™ä¸ªæ­£å¸¸ã€‚</p><p>XLNetçš„å‡ºå‘ç‚¹å°±æ˜¯ï¼šèƒ½å¦èåˆè‡ªå›å½’LMå’ŒDAE LMä¸¤è€…çš„ä¼˜ç‚¹ã€‚å°±æ˜¯è¯´å¦‚æœç«™åœ¨è‡ªå›å½’LMçš„è§’åº¦ï¼Œå¦‚ä½•å¼•å…¥å’ŒåŒå‘è¯­è¨€æ¨¡å‹ç­‰ä»·çš„æ•ˆæœï¼›å¦‚æœç«™åœ¨DAE LMçš„è§’åº¦çœ‹ï¼Œå®ƒæœ¬èº«æ˜¯èå…¥åŒå‘è¯­è¨€æ¨¡å‹çš„ï¼Œå¦‚ä½•æŠ›æ‰è¡¨é¢çš„é‚£ä¸ª[Mask]æ ‡è®°ï¼Œè®©é¢„è®­ç»ƒå’ŒFine-tuningä¿æŒä¸€è‡´ã€‚å½“ç„¶ï¼ŒXLNetè¿˜è®²åˆ°äº†ä¸€ä¸ªBertè¢«Maskå•è¯ä¹‹é—´ç›¸äº’ç‹¬ç«‹çš„é—®é¢˜ã€‚</p></li></ul><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/davekim3872/blogpics@master/uPic/QrjZXO.jpg" alt="QrjZXO"></p><h4 id="GloVe"><a href="#GloVe" class="headerlink" title="GloVe"></a>GloVe</h4><p><em>å…±ç°çŸ©é˜µ</em>ï¼ˆCo-occurrence Matrixï¼‰</p><h4 id="ULMFit"><a href="#ULMFit" class="headerlink" title="ULMFit"></a>ULMFit</h4><h3 id="è¯„ä»·æŒ‡æ ‡"><a href="#è¯„ä»·æŒ‡æ ‡" class="headerlink" title="è¯„ä»·æŒ‡æ ‡"></a>è¯„ä»·æŒ‡æ ‡</h3><h4 id="F1"><a href="#F1" class="headerlink" title="F1"></a>F1</h4><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/davekim3872/blogpics@master/uPic/c9DWK1.jpg" alt="c9DWK1"></p><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/davekim3872/blogpics@master/uPic/xO3RyO.jpg" alt="xO3RyO"></p><h4 id="BLeu"><a href="#BLeu" class="headerlink" title="BLeu"></a>BLeu</h4><h5 id="æ ¸å¿ƒæ€æƒ³"><a href="#æ ¸å¿ƒæ€æƒ³" class="headerlink" title="æ ¸å¿ƒæ€æƒ³"></a>æ ¸å¿ƒæ€æƒ³</h5><p>æ¯”è¾ƒå€™é€‰è¯‘æ–‡å’Œå‚è€ƒè¯‘æ–‡é‡Œçš„ n-gram çš„é‡åˆç¨‹åº¦ï¼Œé‡åˆç¨‹åº¦è¶Šé«˜å°±è®¤ä¸ºè¯‘æ–‡è´¨é‡è¶Šé«˜ã€‚unigramç”¨äºè¡¡é‡å•è¯ç¿»è¯‘çš„å‡†ç¡®æ€§ï¼Œé«˜é˜¶n-gramç”¨äºè¡¡é‡å¥å­ç¿»è¯‘çš„æµç•…æ€§ã€‚ å®è·µä¸­ï¼Œé€šå¸¸æ˜¯å–N=1~4ï¼Œç„¶åå¯¹è¿›è¡ŒåŠ æƒå¹³å‡ã€‚</p><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/davekim3872/blogpics@master/uPic/DNyUpN.png" alt="DNyUpN"></p><h5 id="ä¸»è¦ç‰¹ç‚¹"><a href="#ä¸»è¦ç‰¹ç‚¹" class="headerlink" title="ä¸»è¦ç‰¹ç‚¹"></a>ä¸»è¦ç‰¹ç‚¹</h5><ul><li>n-gramå…±ç°ç»Ÿè®¡</li><li>åŸºäºç²¾ç¡®ç‡</li></ul><h5 id="åº”ç”¨åœºæ™¯"><a href="#åº”ç”¨åœºæ™¯" class="headerlink" title="åº”ç”¨åœºæ™¯"></a>åº”ç”¨åœºæ™¯</h5><p>Machine Translation</p><h5 id="ç¼ºç‚¹"><a href="#ç¼ºç‚¹" class="headerlink" title="ç¼ºç‚¹"></a>ç¼ºç‚¹</h5><ul><li><p>åªçœ‹é‡ç²¾ç¡®ç‡ï¼Œä¸çœ‹é‡å¬å›ç‡ã€‚</p></li><li><p>å­˜åœ¨å¸¸ç”¨è¯å¹²æ‰°ï¼ˆå¯ä»¥ç”¨æˆªæ–­çš„æ–¹æ³•è§£å†³ï¼‰</p></li><li><p>çŸ­å¥å¾—åˆ†è¾ƒé«˜ã€‚å³ä½¿å¼•å…¥äº†brevity penaltyï¼Œä¹Ÿè¿˜æ˜¯ä¸å¤Ÿã€‚</p></li></ul><h5 id="æ”¹è¿›"><a href="#æ”¹è¿›" class="headerlink" title="æ”¹è¿›"></a>æ”¹è¿›</h5><ul><li>æˆªæ–­ï¼šæ”¹è¿›å¸¸ç”¨è¯å¹²æ‰°</li><li>brevity penaltyï¼šæ”¹è¿›çŸ­å¥å¾—åˆ†è¾ƒé«˜çš„é—®é¢˜</li></ul><h4 id="Rouge"><a href="#Rouge" class="headerlink" title="Rouge"></a>Rouge</h4><h5 id="æ ¸å¿ƒæ€æƒ³-1"><a href="#æ ¸å¿ƒæ€æƒ³-1" class="headerlink" title="æ ¸å¿ƒæ€æƒ³"></a>æ ¸å¿ƒæ€æƒ³</h5><p>å¤§è‡´åˆ†ä¸ºå››ç§ï¼šROUGE-Nï¼ŒROUGE-Lï¼ŒROUGE-Wï¼ŒROUGE-Sã€‚å¸¸ç”¨çš„æ˜¯å‰ä¸¤ç§ï¼ˆ-Nä¸-Lï¼‰ * ROUGE-Nä¸­çš„â€œNâ€æŒ‡çš„æ˜¯N-gramï¼Œå…¶è®¡ç®—æ–¹å¼ä¸BLEUç±»ä¼¼ï¼Œåªæ˜¯BLEUåŸºäºç²¾ç¡®ç‡ï¼Œè€ŒROUGEåŸºäºå¬å›ç‡ã€‚</p><ul><li>ROUGE-Lä¸­çš„â€œLâ€æŒ‡çš„æ˜¯Longest Common Subsequenceï¼Œè®¡ç®—çš„æ˜¯å€™é€‰æ‘˜è¦ä¸å‚è€ƒæ‘˜è¦çš„æœ€é•¿å…¬å…±å­åºåˆ—é•¿åº¦ï¼Œé•¿åº¦è¶Šé•¿ï¼Œå¾—åˆ†è¶Šé«˜ï¼ŒåŸºäºFå€¼ã€‚</li></ul><p>![image-20210125134654580](/Users/dawei/Library/Application Support/typora-user-images/image-20210125134654580.png)</p>]]></content>
      
      
      <categories>
          
          <category> é¢è¯•å¤ä¹ å°æŠ„ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> NLP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>PySparkè°ƒç”¨Scala UDF</title>
      <link href="/2020/08/31/pyspark-use-scala-udf/"/>
      <url>/2020/08/31/pyspark-use-scala-udf/</url>
      
        <content type="html"><![CDATA[<p>åœ¨ç¼–å†™PySparkè„šæœ¬æ—¶ï¼Œæœ‰äº›åˆ—è¿ç®—åœ¨sparkå½“ä¸­å¹¶æ²¡æœ‰ç¬¦åˆéœ€æ±‚çš„æ–¹æ³•ï¼Œéœ€è¦ä½¿ç”¨UDFã€‚é€šè¿‡è°ƒç”¨jarä¸­çš„UDFï¼Œå¯ä»¥å‡å°‘pythonä¸JVMçš„äº¤äº’ï¼›ç”¨ç‰ºç‰²UDFéƒ¨åˆ†çš„å¼€å‘æ—¶é—´ï¼Œå°½é‡æé«˜æ€§èƒ½ã€‚æœ¬æ–‡å°†ç®€è¿°å¦‚ä½•åœ¨PySparkè„šæœ¬ä¸­è°ƒç”¨Scalaç¼–å†™çš„UDFï¼ˆä»¥ä¸€ä¸ªç®€å•çš„å‡½æ•°ä¸ºä¾‹ï¼‰ã€‚</p><p>å…³äºscalaè¯­æ³•ã€spark&amp;scalaçš„å†…å®¹å¯ä»¥å‚è€ƒï¼š</p><ul><li><p><a href="http://dblab.xmu.edu.cn/blog/spark/">Sparkå…¥é—¨æ•™ç¨‹Scalaç‰ˆâ€”â€”å¦é—¨å¤§å­¦æ—å­é›¨</a>ï¼›</p></li><li><p><a href="https://www.runoob.com/scala/scala-tutorial.html">èœé¸Ÿæ•™ç¨‹â€”â€”Scalaæ•™ç¨‹</a></p></li></ul><p>æœ¬æ–‡ä¾èµ–çš„å¼€å‘ç¯å¢ƒä¸ºï¼šScala==2.11.7 / Spark &amp; PySpark==2.1.2 / JDK 1.8</p><h2 id="1-å®‰è£…é…ç½®Scala"><a href="#1-å®‰è£…é…ç½®Scala" class="headerlink" title="1. å®‰è£…é…ç½®Scala"></a>1. å®‰è£…é…ç½®Scala</h2><p>è™½ç„¶IDEAé‡Œå¯ä»¥ä¸‹è½½å®‰è£…Scalaï¼Œä½†æ˜¯å¯èƒ½å› ä¸ºæœåŠ¡å™¨åœ¨å›½å¤–æ‰€ä»¥é€Ÿåº¦æ¯”è¾ƒæ…¢ã€‚å»ºè®®å…ˆç›´æ¥æ‰‹åŠ¨å®‰è£…ã€‚</p><p>ä¸‹è½½è§£å‹Scala 2.11.7 for MacOS (é“¾æ¥ï¼š<a href="https://downloads.lightbend.com/scala/2.11.7/scala-2.11.7.tgz">https://downloads.lightbend.com/scala/2.11.7/scala-2.11.7.tgz</a> ) , é‡å‘½åä¸ºscalaåç§»åŠ¨åˆ°ç³»ç»Ÿç›®å½•ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mv scala-2.11.7 scala     <span class="comment"># é‡å‘½å Scala ç›®å½•</span></span><br><span class="line">mv scala /usr/<span class="built_in">local</span>/share <span class="comment"># ç§»åŠ¨åˆ°ç³»ç»Ÿæ–‡ä»¶å¤¹</span></span><br></pre></td></tr></table></figure><p><code>sudo vim ~/.bash_profile</code>ä¿®æ”¹ç³»ç»Ÿç¯å¢ƒå˜é‡ï¼Œåœ¨æ–‡ä»¶æœ€åæ·»åŠ ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> PATH=<span class="string">&quot;<span class="variable">$PATH</span>:/usr/local/share/scala/bin&quot;</span></span><br></pre></td></tr></table></figure><p>ä¿å­˜é€€å‡ºï¼Œé‡å¯ç»ˆç«¯åè¾“å…¥scalaï¼Œå¦‚æœå®‰è£…æ­£å¸¸åº”è¯¥è¾“å‡ºå¦‚ä¸‹ä¿¡æ¯ï¼š</p><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/DaveKim3872/blogpics/20200831112555.png"></p><h2 id="2-å°†Scala-objectæ‰“åŒ…ä¸ºå¯æ‰§è¡Œçš„jaræ–‡ä»¶ï¼ˆä½¿ç”¨IntelliJ-IDEA-Mavenï¼‰"><a href="#2-å°†Scala-objectæ‰“åŒ…ä¸ºå¯æ‰§è¡Œçš„jaræ–‡ä»¶ï¼ˆä½¿ç”¨IntelliJ-IDEA-Mavenï¼‰" class="headerlink" title="2. å°†Scala objectæ‰“åŒ…ä¸ºå¯æ‰§è¡Œçš„jaræ–‡ä»¶ï¼ˆä½¿ç”¨IntelliJ IDEA + Mavenï¼‰"></a>2. å°†Scala objectæ‰“åŒ…ä¸ºå¯æ‰§è¡Œçš„jaræ–‡ä»¶ï¼ˆä½¿ç”¨IntelliJ IDEA + Mavenï¼‰</h2><p>Mavenæ˜¯ä¸€ç§ç®¡ç†å’Œæ„å»ºJavaé¡¹ç›®çš„å·¥å…·ï¼Œç”±äºScalaæºäºJavaå¹¶å¯ä»¥è¿è¡Œåœ¨Javaè™šæ‹Ÿæœºä¹‹ä¸Šï¼Œæ‰€ä»¥Scalaçš„classæ–‡ä»¶è‡ªç„¶ä¹Ÿå¯ä»¥ä½¿ç”¨Mavenè¿›è¡Œç®¡ç†å’Œæ„å»ºã€‚Mavenå¯ä»¥åœ¨ç»ˆç«¯ä¸­ä½¿ç”¨ï¼ˆbrew install mavenï¼‰ï¼Œæœ¬æ–‡ä¸»è¦ä»‹ç»æ›´ä¸ºç®€ä¾¿çš„ä½¿ç”¨IDE+Mavençš„æ–¹æ³•ã€‚</p><h3 id="2-1-å®‰è£…IDEAçš„Scalaæ’ä»¶"><a href="#2-1-å®‰è£…IDEAçš„Scalaæ’ä»¶" class="headerlink" title="2.1. å®‰è£…IDEAçš„Scalaæ’ä»¶"></a>2.1. å®‰è£…IDEAçš„Scalaæ’ä»¶</h3><p>æ‰“å¼€IntelliJ IDEAï¼Œé¦–å…ˆéœ€è¦å®‰è£…Scalaçš„pluginã€‚åœ¨å¯åŠ¨çª—å£çš„configurationsæˆ–è€…é¡¹ç›®çª—å£å·¦ä¸Šè§’çš„IDEA-Preferencesé‡Œæ‰¾åˆ°Pluginï¼Œæœç´¢scalaç„¶åå®‰è£…å¦‚å›¾æ’ä»¶ã€‚</p><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/DaveKim3872/blogpics/20200831112624.png"></p><h3 id="2-2-æ–°å»ºMavené¡¹ç›®"><a href="#2-2-æ–°å»ºMavené¡¹ç›®" class="headerlink" title="2.2. æ–°å»ºMavené¡¹ç›®"></a>2.2. æ–°å»ºMavené¡¹ç›®</h3><p>æ–°å»ºä¸€ä¸ªé¡¹ç›®ï¼Œé¡¹ç›®ç±»å‹é€‰æ‹©Mavenã€‚ä¸‹ä¸€æ­¥-è¾“å…¥é¡¹ç›®åç§°-Finishã€‚</p><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/DaveKim3872/blogpics/20200831112750.png"></p><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/DaveKim3872/blogpics/20200831112809.png"></p><p>é¡¹ç›®ç»“æ„å¦‚å›¾æ‰€ç¤ºã€‚</p><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/DaveKim3872/blogpics/20200831112826.png" style="zoom:67%;" /><h2 id="2-3-é…ç½®Scala-Library"><a href="#2-3-é…ç½®Scala-Library" class="headerlink" title="2.3. é…ç½®Scala Library"></a>2.3. é…ç½®Scala Library</h2><p>ä»»åŠ¡æ èœå•File-Project Structureï¼Œå¯¹è¯æ¡†ä¸­é€‰æ‹©Global Librariesï¼Œç‚¹å‡»åŠ å·-Scala SDKï¼Œç„¶åBrowseé€‰æ‹©scalaæ–‡ä»¶å¤¹ã€‚</p><p>ï¼ˆå°tipsï¼šMacOSæ‰¾ä¸åˆ°ç³»ç»Ÿéšè—æ–‡ä»¶/ç›®å½•å¯ä»¥<strong>command+shift+G</strong>ç›´æ¥è¾“å…¥è·¯å¾„ã€‚ï¼‰</p><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/DaveKim3872/blogpics/20200831112911.png" style="zoom: 67%;" /><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/DaveKim3872/blogpics/20200831112941.png" style="zoom: 50%;" /><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/DaveKim3872/blogpics/20200831112958.png"></p><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/DaveKim3872/blogpics/20200831113020.png"></p><h2 id="2-4-ä¿®æ”¹Mavené¡¹ç›®ç›¸å…³è®¾ç½®"><a href="#2-4-ä¿®æ”¹Mavené¡¹ç›®ç›¸å…³è®¾ç½®" class="headerlink" title="2.4. ä¿®æ”¹Mavené¡¹ç›®ç›¸å…³è®¾ç½®"></a>2.4. ä¿®æ”¹Mavené¡¹ç›®ç›¸å…³è®¾ç½®</h2><p>åœ¨é¡¹ç›®åç§°å¤„å³é”®é€‰æ‹©â€œAdd Framework Supportâ€ï¼Œåœ¨å¼¹å‡ºçš„å¯¹è¯æ¡†ä¸­é€‰æ‹©Scalaï¼Œç¡®è®¤ç‰ˆæœ¬æ— è¯¯åç‚¹ç¡®å®šã€‚</p><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/DaveKim3872/blogpics/20200831113238.png" style="zoom:67%;" /><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/DaveKim3872/blogpics/20200831113303.png"></p><p>åˆ†åˆ«å³é”®srcæ–‡ä»¶å¤¹ä¸­mainå’Œtestç›®å½•ä¸‹çš„â€œjavaâ€æ–‡ä»¶å¤¹ï¼Œå³é”®refactor-renameï¼Œå‹¾é€‰ä¸¤ä¸ªå¤é€‰æ¡†ï¼Œåˆ†åˆ«ä¿®æ”¹åå­—ä¸ºscala</p><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/DaveKim3872/blogpics/20200831113321.png" style="zoom:67%;" /><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/DaveKim3872/blogpics/20200831113332.png" style="zoom: 67%;" /><p>æ‰¾åˆ°projectç›®å½•ä¸‹çš„pom.xmlæ–‡ä»¶ï¼Œæ¥ä¸‹æ¥éœ€è¦è¿›è¡Œä¸€äº›ä¿®æ”¹ï¼š</p><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/DaveKim3872/blogpics/20200831113405.png"></p><p>æ‰“å¼€ç½‘é¡µ<a href="https://mvnrepository.com/artifact/org.apache.spark/spark-sql_2.11/2.1.2">https://mvnrepository.com/artifact/org.apache.spark/spark-sql_2.11/2.1.2</a> , æ‰¾åˆ°ä¸‹å›¾æ–‡æœ¬æ¡†ä¸­çš„éƒ¨åˆ†ï¼Œå…¨é€‰å¤åˆ¶ã€‚</p><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/DaveKim3872/blogpics/20200831113431.png"></p><p>åœ¨pom.xmlä¸­çš„<code>&lt;version&gt;</code>å±æ€§ä¸‹é¢æ–°å»ºä¸€ä¸ª<code>&lt;dependencies&gt;&lt;/dependencies&gt;</code>å±æ€§ï¼ŒæŠŠå¤åˆ¶çš„ä»£ç ç²˜è´´è¿›å»ï¼Œä¹Ÿå¯ä»¥ç›´æ¥å¤åˆ¶ä¸‹é¢ä»£ç å—ç²˜è´´åˆ°versionåé¢ã€‚</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- https://mvnrepository.com/artifact/org.apache.spark/spark-sql --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.spark<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spark-sql_2.11<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.1.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br></pre></td></tr></table></figure><p><strong>æœ€ç»ˆçš„pomæ–‡ä»¶åº”è¯¥é•¿è¿™æ ·</strong>ï¼š</p><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/DaveKim3872/blogpics/20200831113452.png"></p><p>å¦‚æœorg.apache.sparkæœ‰é—®é¢˜çš„è¯å¯ä»¥å‚è€ƒ<a href="https://blog.csdn.net/helloworld0906/article/details/89247002">æ–‡ç« 1</a>å’Œ<a href="https://blog.csdn.net/qq_42400267/article/details/103409701?utm_medium=distribute.pc_relevant_t0.none-task-blog-BlogCommendFromMachineLearnPai2-1.add_param_isCf&depth_1-utm_source=distribute.pc_relevant_t0.none-task-blog-BlogCommendFromMachineLearnPai2-1.add_param_isCf">æ–‡ç« 2</a>æƒ³åŠæ³•è‡ªå·±å¯¼å…¥ä¸€ä¸‹ç›¸å…³çš„jaråŒ…ã€‚ç®€å•æ¥è¯´å°±æ˜¯ï¼š</p><ol><li><p>ä¸‹è½½<a href="https://archive.apache.org/dist/spark/spark-2.1.2/spark-2.1.2-bin-hadoop2.7.tgz">https://archive.apache.org/dist/spark/spark-2.1.2/spark-2.1.2-bin-hadoop2.7.tgz</a> å¹¶è§£å‹</p></li><li><p>åœ¨IDEAçš„èœå•File-Project Structure-Modulesé‡Œç‚¹å‡»å³ä¸‹è§’çš„åŠ å·-JARs or directoryï¼Œå¯¼å…¥åˆšæ‰è§£å‹çš„æ–‡ä»¶å¤¹/jar/ç›®å½•ä¸‹é¢çš„æ‰€æœ‰jaråŒ…ï¼Œåº”è¯¥å°±ä¸ä¼šæŠ¥é”™äº†ã€‚</p></li></ol><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/DaveKim3872/blogpics/20200831113526.png"></p><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/DaveKim3872/blogpics/20200831113544.png" style="zoom: 50%;" /><h2 id="2-5-æ–°å»ºScala-Object"><a href="#2-5-æ–°å»ºScala-Object" class="headerlink" title="2.5. æ–°å»ºScala Object"></a>2.5. æ–°å»ºScala Object</h2><p>æˆ‘ä»¬ä»¥ä¸€ä¸ªå°å†™å­—æ¯è½¬å¤§å†™çš„å‡½æ•°ä¸ºä¾‹ã€‚åœ¨ç›®å½•ä¸‹çš„src-main-scalaå³é”®ï¼Œæ–°å»ºåä¸ºcom.spark.utilitiesçš„packageã€‚åœ¨æ–°å»ºçš„packageå³é”®New-Scala classï¼Œç±»å‹é€‰æ‹©objectï¼Œå‘½åä¸ºMyUpperã€‚</p><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/DaveKim3872/blogpics/20200831113606.png" style="zoom:50%;" /><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/DaveKim3872/blogpics/20200831113623.png" style="zoom:50%;" /><p>ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight scala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.spark.utilities</span><br><span class="line"> </span><br><span class="line"><span class="keyword">import</span> org.apache.spark.sql.api.java.<span class="type">UDF1</span></span><br><span class="line"> </span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyUpper</span> <span class="keyword">extends</span> <span class="title">UDF1</span>[<span class="type">String</span>, <span class="type">String</span>] </span>&#123;</span><br><span class="line">  <span class="keyword">override</span> <span class="function"><span class="keyword">def</span> <span class="title">call</span></span>(input: <span class="type">String</span>):<span class="type">String</span> = input.toUpperCase</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="2-6-ç¼–è¯‘-jaræ–‡ä»¶"><a href="#2-6-ç¼–è¯‘-jaræ–‡ä»¶" class="headerlink" title="2.6. ç¼–è¯‘.jaræ–‡ä»¶"></a>2.6. ç¼–è¯‘.jaræ–‡ä»¶</h2><p>åœ¨File-Program Structure-Artifactsç‚¹å‡»åŠ å·-JAR-From modules with dependenciesã€‚åœ¨å¼¹å‡ºçš„å¯¹è¯æ¡†ç›´æ¥OKã€‚</p><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/DaveKim3872/blogpics/20200831113659.png"></p><p>æ­¤æ—¶å³è¾¹åº”è¯¥ä¼šå‡ºç°è¿™æ ·çš„ä¸€å¤§å †ä¸œè¥¿ã€‚</p><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/DaveKim3872/blogpics/20200831113741.png"></p><p>æˆ‘ä»¬æŠŠå·¦è¾¹è¿™ä¸€åˆ—ä¸Šé¢çš„å†…å®¹éƒ½åˆ äº†ï¼Œåªç•™æœ€ä¸‹é¢çš„xxxxx outputï¼Œæœ€ååº”è¯¥æ˜¯ä¸‹é¢è¿™æ ·</p><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/DaveKim3872/blogpics/20200831113823.png"></p><p>ç‚¹okæˆ–è€…applyä¿å­˜è®¾ç½®ï¼Œå›åˆ°ä¸»ç•Œé¢ï¼ŒBuild-Build Artifacts-xxx:jar-Buildï¼Œç„¶ååº”è¯¥å°±å¼€å§‹æ„å»ºjaræ–‡ä»¶äº†</p><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/DaveKim3872/blogpics/20200831113843.png" style="zoom:50%;" /><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/DaveKim3872/blogpics/20200831113857.png" style="zoom:50%;" /><p>æœ€ååœ¨ç›®å½•ä¸‹é¢åº”è¯¥å‡ºç°äº†out-artifact-xxx.jaræ–‡ä»¶ï¼Œè¯´æ˜æ“ä½œæ­£ç¡®ã€‚</p><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/DaveKim3872/blogpics/20200831114051.png" style="zoom:50%;" /><h2 id="3-åœ¨PySparkè„šæœ¬ä¸­è°ƒç”¨udf"><a href="#3-åœ¨PySparkè„šæœ¬ä¸­è°ƒç”¨udf" class="headerlink" title="3. åœ¨PySparkè„šæœ¬ä¸­è°ƒç”¨udf"></a>3. åœ¨PySparkè„šæœ¬ä¸­è°ƒç”¨udf</h2><p>ç¤ºä¾‹ä»£ç ï¼ˆæ³¨æ„ä¿®æ”¹jaræ–‡ä»¶çš„è·¯å¾„ï¼‰ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> pyspark.sql <span class="keyword">import</span> SparkSession, SQLContext</span><br><span class="line"><span class="keyword">from</span> pyspark.sql.types <span class="keyword">import</span> *</span><br><span class="line">spark = SparkSession.builder \</span><br><span class="line">        .config(<span class="string">&quot;spark.driver.extraClassPath&quot;</span>, <span class="string">&quot;JARæ–‡ä»¶æ‰€åœ¨çš„ç›®å½•/ScalaUtilities.jar&quot;</span>) \</span><br><span class="line">        .getOrCreate()</span><br><span class="line">sqlcontext = SQLContext(spark)</span><br><span class="line">sqlcontext.registerJavaFunction(<span class="string">&quot;my_udf&quot;</span>, <span class="string">&quot;com.first.spark.MyUpper&quot;</span>, StringType())</span><br><span class="line">spark.sql(<span class="string">&quot;&quot;&quot;SELECT my_udf(&#x27;abeD123okoj&#x27;)&quot;&quot;&quot;</span>).show()</span><br></pre></td></tr></table></figure><p>è¾“å‡ºæ­£ç¡®å³è¯æ˜ç¯å¢ƒé…ç½®ã€ä»£ç è°ƒç”¨éƒ½å‡†ç¡®æ— è¯¯ï¼Œä¹‹åå°±å¯ä»¥ç”¨scalaå®ç°ä¸€äº›udfå•¦ã€‚</p><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/DaveKim3872/blogpics/20200831114114.png"></p>]]></content>
      
      
      <categories>
          
          <category> å¤§æ•°æ®å·¥å…·ç›¸å…³ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> scala </tag>
            
            <tag> pyspark </tag>
            
            <tag> å¤§æ•°æ® </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Rè¯­è¨€-åˆ†æä¸ç»˜å›¾ï¼ˆ4ï¼‰ï¼šå¯¹twitteræ•°æ®è¿›è¡Œæ–‡æœ¬æŒ–æ˜</title>
      <link href="/2020/08/23/text-mining-twitter/"/>
      <url>/2020/08/23/text-mining-twitter/</url>
      
        <content type="html"><![CDATA[<p><a href="https://davekim3872.github.io/2020/08/20/data-visulization-intro/">ä¸Šä¸€ç¯‡ï¼šRè¯­è¨€-åˆ†æä¸ç»˜å›¾ï¼ˆ3ï¼‰ï¼šå¯è§†åŒ–å…¥é—¨</a></p><p>ç¤¾äº¤åª’ä½“çš„æ•°æ®è™½ç„¶å¤§éƒ¨åˆ†ä»¥æ–‡å­—å½¢å¼å‘ˆç°ï¼Œä½†æ˜¯å…¶ä¸­åŒ…å«çš„å·¨é‡ä¿¡æ¯åœ¨èˆ†æƒ…åˆ†æã€å¸‚åœºè°ƒç ”ä¹ƒè‡³æ”¿æ²»æ‰‹è…•æ–¹é¢éƒ½èƒ½å¤Ÿå‘æŒ¥å·¨å¤§çš„ä½œç”¨ï¼Œå…·æœ‰æ·±ä¸å¯æµ‹çš„æ½œåŠ›ï¼Œæˆ‘ä»¬åœ¨æœ¬ç« èŠ‚å°†è¦å­¦ä¹ å¦‚ä½•æŒ–æ˜å’Œåˆ†æè¿™äº›æ•°æ®ï¼Œä¸»è¦ç›®çš„æ˜¯å¤ä¹ ä¹‹å‰å­¦ä¹ çš„çŸ¥è¯†å¹¶<strong>æ–°å¼•å…¥ä¸€äº›å‡½æ•°ä½œä¸ºå®é™…æ“ä½œä¸­çš„tricks</strong>ï¼Œæ‰€ä»¥ä¸è¦è®¤ä¸ºæ˜¯å•çº¯çš„å¤ä¹ è¯¾è€Œå·²ã€‚</p><p>åœ¨è¿™ä¸€éƒ¨åˆ†æˆ‘ä»¬éœ€è¦ç”¨åˆ°ä¸€ä¸ªæ–°çš„åŒ…ï¼šjsonlite. å®ƒå¯ä»¥è®©æˆ‘ä»¬è¯»å–jsonæ•°æ®å¹¶è½¬æ¢æˆRè¯­è¨€æ–¹ä¾¿å¤„ç†çš„æ ¼å¼ã€‚jsonæ ¼å¼å¯ä»¥ç†è§£æˆä¸€ç§ç‰¹æ®Šçš„è¡¨æ ¼â€”â€”å­—å…¸ï¼ˆdictï¼‰æ ¼å¼ï¼Œå®ƒçš„åŸºæœ¬è¡¨è¾¾å½¢å¼æ˜¯â€œkeyï¼švalueâ€ï¼Œè¡¨è¾¾äº†æœ¬æ¡è®°å½•ä¸­çš„æŸä¸ªå­—æ®µçš„å€¼ä¸ºæŸæŸã€‚</p><p>åœ¨ç»ˆç«¯ä¸­è¾“å…¥ä»¥ä¸‹å‘½ä»¤å®‰è£…jsonliteï¼š</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">install.packages(<span class="string">&#x27;jsonlite&#x27;</span>)</span><br></pre></td></tr></table></figure><p>åŒæ ·åœ°ï¼Œæˆ‘ä»¬ä»ç„¶éœ€è¦ç”¨tidyverseå¤„ç†dataframeæ•°æ®ï¼Œæ‰€ä»¥åœ¨æ•™ç¨‹çš„æœ€å¼€å§‹æˆ‘ä»¬å…ˆå¯¼å…¥jsonliteå’Œtidyverseä¸¤ä¸ªåŒ…ï¼š</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">library</span>(jsonlite)</span><br><span class="line"><span class="keyword">library</span>(tidyverse)</span><br></pre></td></tr></table></figure><h2 id="åˆ†ææ‡‚ç‹çš„æ¨æ–‡"><a href="#åˆ†ææ‡‚ç‹çš„æ¨æ–‡" class="headerlink" title="åˆ†ææ‡‚ç‹çš„æ¨æ–‡"></a>åˆ†ææ‡‚ç‹çš„æ¨æ–‡</h2><h3 id="è¯»å–jsonæ–‡ä»¶å¹¶è½¬ä¸ºdataframe"><a href="#è¯»å–jsonæ–‡ä»¶å¹¶è½¬ä¸ºdataframe" class="headerlink" title="è¯»å–jsonæ–‡ä»¶å¹¶è½¬ä¸ºdataframe"></a>è¯»å–jsonæ–‡ä»¶å¹¶è½¬ä¸ºdataframe</h3><p>ä¸€åˆ‡ä»ç®€ï¼Œæœ¬æ–‡ä¸»è¦æ˜¯ä¸ºäº†å¤ä¹ å¹¶ç»¼åˆå®è·µå‰æ–‡æ‰€è¿°çš„å†…å®¹ï¼Œå› æ­¤ä¸æ¢è®¨å¦‚ä½•æŠ“å–twitter timelineå¹¶å¯¼å‡ºä¸ºjsonæ ¼å¼çš„æ–‡ä»¶ï¼ˆå‡è®¾ä½ æœ‰ä¸€ä¸ªåŠ©æ‰‹ä½¿ç”¨twitterRå·¥å…·åŒ…å’Œtwitterçš„auth key APIå·²ç»å¸®ä½ æŠ“å¥½å¹¶ä¿å­˜æˆäº†jsonæ–‡ä»¶ï¼Œå¯ä»¥åœ¨è¿™é‡Œä¸‹è½½ï¼‰ï¼Œæˆ‘ä»¬ç›´æ¥è¿›è¡Œè¯»å–jsonæ–‡ä»¶çš„æ“ä½œã€‚</p><p>jsonliteåŒ…è¯»å–jsonæ–‡ä»¶çš„æ–¹æ³•å¦‚ä¸‹æ–¹ä»£ç æ‰€ç¤ºï¼š</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è¯»å–æ–‡ä»¶DT_tweets.jsonå¹¶ä¸”è½¬æ¢ä¸ºdataframe</span></span><br><span class="line">Trumptweets &lt;- fromJSON(<span class="string">&quot;DT_tweets.json&quot;</span>) %&gt;% as.data.frame</span><br><span class="line">head(Trumptweets)</span><br></pre></td></tr></table></figure><p>ç»“æœå¦‚ä¸‹ï¼š</p><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/DaveKim3872/blogpics/20200823184555.png" style="zoom:50%;" /><p>é€šè¿‡å­—æ®µåç§°ï¼ˆkeyï¼‰å’Œå€¼ï¼ˆvalueï¼‰å¯ä»¥æ¸…æ™°åœ°çœ‹å‡ºå„åˆ—ä»£è¡¨çš„æ„æ€ï¼Œæ¯”å¦‚å‰é¢åˆ†åˆ«æ˜¯å‘é€æ—¶é—´ã€ç‚¹èµæ•°ã€ç²‰ä¸æ•°ã€æ¨æ–‡idã€è½¬å‘æ•°å’Œå‘é€æºï¼ˆè®¾å¤‡ã€å®¢æˆ·ç«¯æˆ–è€…ç½‘ç«™ï¼‰ï¼Œæœ€å³è¾¹å› ä¸ºå¤ªé•¿äº†æ²¡æœ‰æ˜¾ç¤ºå®Œæ•´çš„<code>text &lt;chr&gt;</code>å­—æ®µï¼Œä»£è¡¨çš„å°±æ˜¯æ¯æ¡æ¨æ–‡çš„æ–‡æœ¬å†…å®¹ï¼š</p><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/DaveKim3872/blogpics/20200823210055.png" style="zoom:50%;" /><p>å¦‚æœæƒ³å–å‡ºç¬¬ä¸€è¡Œçš„æ–‡æœ¬å†…å®¹å’Œç‚¹èµæ•°ï¼ŒæŒ‰ç…§åŸæ¥çš„æ–¹æ³•ï¼Œä»£ç æ˜¯ï¼š</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Trumptweets[<span class="number">1</span>,c(<span class="string">&#x27;text&#x27;</span>, <span class="string">&#x27;favourite_count&#x27;</span>)]</span><br></pre></td></tr></table></figure><h3 id="æ‰¾å‡ºç‚¹èµæœ€å¤šçš„æ¨æ–‡"><a href="#æ‰¾å‡ºç‚¹èµæœ€å¤šçš„æ¨æ–‡" class="headerlink" title="æ‰¾å‡ºç‚¹èµæœ€å¤šçš„æ¨æ–‡"></a>æ‰¾å‡ºç‚¹èµæœ€å¤šçš„æ¨æ–‡</h3><p>ç”¨<code>which.max()</code>å‡½æ•°æ‰¾å‡ºæ‡‚ç‹ç‚¹èµæ•°æœ€å¤šçš„tweetã€‚</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å¦‚æœè¿™å‡ è¡Œçœ‹ä¸æ‡‚ï¼Œå»ºè®®æŠ“ç´§å¤ä¹ ç¬¬ä¸€ç¯‡</span></span><br><span class="line">idx &lt;- Trumptweets %&gt;%</span><br><span class="line">    summarise(which.max(favourite_count)) %&gt;%</span><br><span class="line">    as.numeric()</span><br><span class="line">Trumptweets[idx, c(<span class="string">&#x27;favourite_count&#x27;</span>,<span class="string">&#x27;retweet_count&#x27;</span>)]</span><br></pre></td></tr></table></figure><h3 id="æ–‡æœ¬æ‹¼æ¥çš„æ–°æ–¹æ³•"><a href="#æ–‡æœ¬æ‹¼æ¥çš„æ–°æ–¹æ³•" class="headerlink" title="æ–‡æœ¬æ‹¼æ¥çš„æ–°æ–¹æ³•"></a>æ–‡æœ¬æ‹¼æ¥çš„æ–°æ–¹æ³•</h3><p>ä¹‹å‰æœ‰å­¦è¿‡æ‹¼æ¥æ–‡æœ¬çš„æ–¹æ³•<code>paste()</code>ï¼Œè€Œåœ¨å®é™…åº”ç”¨ä¸­ç”¨åˆ°<code>cat()</code>çš„æ¬¡æ•°å¯èƒ½æ›´å¤šäº›ã€‚</p><p><code>cat()</code>çš„ç”¨æ³•å…¶å®å·®ä¸å¤šï¼ŒåŒºåˆ«æ˜¯å¯ä»¥ç”¨<code>sep=&#39;separator&#39;</code>å®šä¹‰æ‹¼æ¥çš„æ–¹æ³•ï¼Œä¹Ÿå°±æ˜¯å®šä¹‰åˆ†éš”ç¬¦æ˜¯ä»€ä¹ˆã€‚pythoné‡Œå­¦è¿‡<code>\n</code>æ˜¯æ¢è¡Œç¬¦çš„æ„æ€ï¼Œæ‰€ä»¥å¦‚æœæˆ‘æƒ³ç”¨æ¢è¡Œçš„æ–¹å¼æ‹¼æ¥æ–‡æœ¬ï¼Œå°±åœ¨æ‹¬å·å†…çš„æœ€ååŠ ä¸€ä¸ª<code>sep=&quot;\n&quot;</code>å°±å¯ä»¥ï¼š</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat(<span class="string">&#x27;If you forgot how to concatenate strings, this may also help you.&#x27;</span>,<span class="string">&#x27;The most popular of Trumps tweets is:&#x27;</span>, Trumptweets[idx, <span class="string">&#x27;text&#x27;</span>], sep=<span class="string">&quot;\n&quot;</span>)</span><br></pre></td></tr></table></figure><p>è¾“å‡ºï¼š</p><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/DaveKim3872/blogpics/20200823222510.png"></p><h3 id="ç»Ÿè®¡å…³äºå­—æ•°çš„ä¿¡æ¯"><a href="#ç»Ÿè®¡å…³äºå­—æ•°çš„ä¿¡æ¯" class="headerlink" title="ç»Ÿè®¡å…³äºå­—æ•°çš„ä¿¡æ¯"></a>ç»Ÿè®¡å…³äºå­—æ•°çš„ä¿¡æ¯</h3><p>å…ˆè®¡ç®—æ¯ç¯‡æ¨æ–‡çš„å­—æ•°ã€‚tidyverseæœ‰ä¸€ä¸ªç»Ÿè®¡å­—ç¬¦ä¸²é•¿åº¦çš„å‡½æ•°å«<code>nchar(string_name)</code>ï¼Œé™¤æ­¤ä¹‹å¤–ï¼Œå¦‚æœç¬¬ä¸€ç¯‡çœ‹é€äº†å°±æ²¡å•¥å¥½è®²çš„å“ˆï¼ç›´æ¥ä¸Šä»£ç ï¼š</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Trumtweets &lt;- Trumptweets %&gt;%    <span class="comment"># å®šä¹‰è¾“å…¥å’Œè¾“å‡º</span></span><br><span class="line">    mutate(length = nchar(text)) <span class="comment"># æ–°å¢ä¸€åˆ—lengthå­˜å‚¨textçš„é•¿åº¦</span></span><br><span class="line"></span><br><span class="line">Trumptweets %&gt;%    <span class="comment"># åªå±•ç¤ºï¼Œä¸ä¿å­˜åˆ°å˜é‡</span></span><br><span class="line">        select(length) %&gt;%    <span class="comment"># é€‰æ‹©è¦æ˜¾ç¤ºçš„åˆ—ä¸ºæ–°å¢çš„lengthåˆ—</span></span><br><span class="line">    head()    <span class="comment"># æ˜¾ç¤ºå‰6è¡Œ</span></span><br></pre></td></tr></table></figure><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/DaveKim3872/blogpics/20200823222825.png" style="zoom: 50%;" /><p>æ¥ä¸‹æ¥è®¡ç®—å¹³å‡å­—æ•°ï¼Œè¿™ç”¨åˆ°äº†ä¹‹å‰å­¦è¿‡çš„<code>mean()</code>å‡½æ•°ï¼Œä¸‹é¢çš„ä»£ç è®¡ç®—å‡ºæ¥åº”è¯¥æ˜¯159.3ï¼š</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è®¡ç®—å­—æ•°è¿™ä¸€åˆ—çš„å¹³å‡å€¼å¹¶ä¿ç•™ä¸€ä½å°æ•°</span></span><br><span class="line">avg &lt;- round(mean(Trumptweets$length), <span class="number">1</span>)</span><br><span class="line">print(avg)</span><br></pre></td></tr></table></figure><p>æœ€åè®¡ç®—ä¸€ä¸‹è¶…è¿‡140å­—çš„æ¨æ–‡æ•°é‡ï¼Œ<code>filter()</code>å¯ä»¥å¸®åŠ©æˆ‘ä»¬æŒ‰ç…§ä¸ç­‰å¼æ¡ä»¶ç­›é€‰è¿™äº›æ¨æ–‡ï¼Œè€Œè®¡ç®—æ•°é‡åˆ™å¯ä»¥ä½¿ç”¨<code>count()</code>å‡½æ•°å®ç°ã€‚</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">len140 &lt;- Trumptweets %&gt;%</span><br><span class="line">    filter(length &gt; <span class="number">140</span>) %&gt;% <span class="comment"># æ¡ä»¶ç­›é€‰</span></span><br><span class="line">    count() <span class="comment"># è®¡æ•°</span></span><br><span class="line">print(len140)</span><br></pre></td></tr></table></figure><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/DaveKim3872/blogpics/20200824094112.png" style="zoom:50%;" /><p>å¯ä»¥çœ‹åˆ°ä¸€å…±æœ‰3534æ¡æ¨æ–‡é•¿è¾¾140å­—ä»¥ä¸Šã€‚æ‡‚ç‹çš„å±è¯æœç„¶å¤šã€‚</p><h3 id="åˆ†æå…³é”®è¯ä¿¡æ¯"><a href="#åˆ†æå…³é”®è¯ä¿¡æ¯" class="headerlink" title="åˆ†æå…³é”®è¯ä¿¡æ¯"></a>åˆ†æå…³é”®è¯ä¿¡æ¯</h3><p>æˆ‘ä»¬æƒ³æ‰¾å‡ºæ‡‚ç‹çš„twitterä¸­æœ‰å¤šå°‘å…³äºâ€œboarderâ€å’Œâ€œimmigrationâ€çš„æ¨æ–‡ï¼Œæ¯•ç«Ÿè¿™æ˜¯ä»–è€äººå®¶æ°¸æ’çš„ä¸»é¢˜ã€‚ä¸ºäº†å»æŸ¥æ‰¾åŒ…å«è¿™äº›å…³é”®è¯çš„æ¨æ–‡ï¼Œæˆ‘ä»¬ä½¿ç”¨å‡½æ•°<code>str_detect()</code>æ¥è¿›è¡Œè§„åˆ™åŒ¹é…ï¼Œä»¥æˆ‘ä»¬çš„ä»»åŠ¡ä¸¾ä¾‹ï¼š</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ind = str_detect(Trumptweets$text,regex(<span class="string">&quot;border|immigration&quot;</span>, ignore_case = <span class="literal">TRUE</span>))</span><br></pre></td></tr></table></figure><p>å‡½æ•°çš„ç¬¬ä¸€éƒ¨åˆ†å‚æ•°<code>Trumptweets$text</code>æŒ‡ç¤ºäº†æˆ‘ä»¬æœå¯»çš„èŒƒå›´ï¼Œç¬¬äºŒéƒ¨åˆ†å‚æ•°æ˜¯ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼è¯­æ³•<code>regex()</code>ï¼Œåœ¨è¿™é‡Œé¢çš„ç¬¬ä¸€ä¸ªå‚æ•°<code>&quot;border | immigration&quot;</code>ä»£è¡¨æˆ‘ä»¬æƒ³è¦æŸ¥æ‰¾çš„å…³é”®è¯æ˜¯â€œborderâ€æˆ–è€…â€œimmigrationâ€ï¼Œå½“ç„¶ä½ ä¹Ÿå¯ä»¥åªå†™ä¸€ä¸ªè¯ï¼›<code>ignore_case=TRUE/FALSE</code>ä»£è¡¨æ˜¯å¦å¿½ç•¥å¤§å°å†™è§„åˆ™ï¼Œå› ä¸ºæ‡‚ç‹å¾ˆå–œæ¬¢upper-caseå…³é”®è¯å‘æ¨æ–‡ï¼Œæ‰€ä»¥æˆ‘ä»¬å½“ç„¶è¦ignoreå¤§å°å†™åŒºåˆ«ã€‚TRUEå’ŒFALSEä¹Ÿå¯ä»¥å†™æˆTå’ŒFã€‚å®Œæ•´ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è¾“å‡ºä¸€ä¸ªä»£è¡¨æ¯è¡Œtextæ˜¯å¦åŒ…å«borderæˆ–è€…immigrationå…³é”®è¯çš„TRUE/FALSEåºåˆ—</span></span><br><span class="line">ind &lt;- str_detect(Trumptweets$text,regex(<span class="string">&quot;border|immigration&quot;</span>, ignore_case = <span class="literal">TRUE</span>))</span><br><span class="line"><span class="comment"># æ‰“å°åºåˆ—å‰å…­ä¸ªï¼ˆå‰å…­è¡Œæ˜¯å¦åŒ…å«è¿™ä¸¤ä¸ªå…³é”®è¯ï¼‰</span></span><br><span class="line">head(ind)</span><br><span class="line"><span class="comment"># æ‰“å°indä¸ºTRUEï¼ˆå³åŒ…å«è¿™ä¸¤ä¸ªå…³é”®è¯çš„ï¼‰å‰å…­ä¸ªtext</span></span><br><span class="line">head(Trumptweets$text[ind])</span><br><span class="line"><span class="comment"># æœ€åä¸¤è¡Œå¯¹indä¸ºTRUEçš„æ¡ç›®ï¼ˆåŒ…å«è¿™ä¸¤ä¸ªå…³é”®è¯çš„æ¨æ–‡æ¡ç›®ï¼‰è¿›è¡Œè®¡æ•°</span></span><br><span class="line">A=Trumptweets$text[ind]</span><br><span class="line">print(length(A))</span><br></pre></td></tr></table></figure><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/DaveKim3872/blogpics/20200824095824.png" style="zoom:50%;" /><p>é™¤äº†åƒä¸Šè¿°è¿™æ ·å¤„ç†ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥ä»æ•´ä¸ªæ•°æ®é›†ä¸­ç”Ÿæˆä¸€äº›åŒ…å«æŸä¸ªå…³é”®è¯çš„å­é›†ï¼Œä½¿ç”¨<code>str_subset()</code>å‡½æ•°å¯ä»¥è½»æ¾å®ç°è¿™ä¸€ç‚¹ï¼š</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ç”Ÿæˆä¸€ä¸ªå…³äºç§»æ°‘è¯é¢˜çš„textå­é›†</span></span><br><span class="line">immigration &lt;- str_subset(Trumptweets$text,<span class="string">&quot;immigration&quot;</span>)</span><br><span class="line"><span class="comment"># ç”Ÿæˆä¸€ä¸ªå…³äºå°±ä¸šè¯é¢˜çš„textå­é›†</span></span><br><span class="line">jobs &lt;- str_subset(Trumptweets$text,<span class="string">&quot;employment&quot;</span>)</span><br><span class="line"><span class="comment"># å°è¯•è¾“å‡ºjobså­é›†çš„å‰å…­è¡Œ</span></span><br><span class="line">head(jobs)</span><br></pre></td></tr></table></figure><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/DaveKim3872/blogpics/20200824095857.png" style="zoom:50%;" /><p>ä½ å¯èƒ½å·²ç»æ³¨æ„åˆ°äº†ï¼Œä¸Šé¢ä¸¤ç§å‡½æ•°<code>str_detect()</code>å’Œ<code>str_subset()</code>åªèƒ½é’ˆå¯¹ä¸€ä¸ªåˆ—<code>Trumptweets$text</code>è¿›è¡Œæ“ä½œï¼Œè€Œä¸”è¾“å‡ºç»“æœä¸¢å¤±äº†å…¶ä»–åˆ—çš„æ‰€æœ‰ä¿¡æ¯ã€‚å¦‚æœæ—¢æƒ³è¿›è¡ŒæŸ¥æ‰¾ï¼Œåˆæƒ³ä¿ç•™å…¶ä»–åˆ—çš„ä¿¡æ¯ï¼Œå¯ä»¥æŠŠ<code>str_detect()</code>å‡½æ•°ä¸<code>filter()</code>å‡½æ•°ç»“åˆä½¿ç”¨ï¼Œæˆ–è€…ç›´æ¥ä½œä¸ºtibbleçš„ä¸‹æ ‡ä¸­çš„row indexã€‚</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ç›´æ¥ä½œä¸ºè¡Œæ ‡row indexï¼ˆè®°ï¼å¾—ï¼ç•™ï¼é€—ï¼å·ï¼ï¼‰</span></span><br><span class="line">immigration_all &lt;- Trumptweets[str_detect(Trumptweets$text,regex(<span class="string">&quot;immigration&quot;</span>, ignore_case=<span class="literal">T</span>)),]</span><br><span class="line"><span class="comment"># æˆ–è€…ä½¿ç”¨filter()</span></span><br><span class="line">immigration_all &lt;- Trumptweets %&gt;%</span><br><span class="line">        filter(str_detect(text,regex(<span class="string">&quot;immigration&quot;</span>, ignore_case=<span class="literal">T</span>)))</span><br><span class="line">head(immigration_all)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>æ³¨æ„ï¼Œæ¡ä»¶è¡¨è¾¾å¼æˆç«‹çš„æ ‡å‡†æ˜¯å½“å…¶è¾“å‡ºä¸ºTRUEçš„æ—¶å€™ï¼Œå³â€œæ¡ä»¶ == TRUEâ€åˆ™æˆç«‹ï¼›è€Œåœ¨æ‰€æœ‰ç¼–ç¨‹è¯­è¨€ä¸­é»˜è®¤â€œæ¡ä»¶â€ç­‰ä»·äºâ€œæ¡ä»¶ == TRUEâ€ï¼Œâ€œ!æ¡ä»¶â€ç­‰ä»·äºâ€œæ¡ä»¶ == FALSEâ€ã€‚ä¸¾ä¾‹è¯´æ˜ï¼š</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ¯”å¦‚</span></span><br><span class="line">immigration_all &lt;- Trumptweets %&gt;%</span><br><span class="line">        filter(str_detect(text,regex(<span class="string">&quot;immigration&quot;</span>, ignore_case=<span class="literal">T</span>)))</span><br><span class="line"><span class="comment"># ç­‰ä»·äº</span></span><br><span class="line">immigration_all &lt;- Trumptweets %&gt;%</span><br><span class="line">        filter(str_detect(text,regex(<span class="string">&quot;immigration&quot;</span>, ignore_case=<span class="literal">T</span>)) == <span class="literal">TRUE</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç›¸ååœ°</span></span><br><span class="line">immigration_all &lt;- Trumptweets %&gt;%</span><br><span class="line">        filter(!str_detect(text,regex(<span class="string">&quot;immigration&quot;</span>, ignore_case=<span class="literal">T</span>)))</span><br><span class="line"><span class="comment"># ç­‰ä»·äº</span></span><br><span class="line">immigration_all &lt;- Trumptweets %&gt;%</span><br><span class="line">        filter(str_detect(text,regex(<span class="string">&quot;immigration&quot;</span>, ignore_case=<span class="literal">T</span>)) == <span class="literal">FALSE</span>)</span><br></pre></td></tr></table></figure><p>å¦ä¸€ä¸ªéå¸¸æœ‰ç”¨çš„å‡½æ•°æ˜¯<code>str_extract()</code>ï¼Œå®ƒå’Œ<code>str_detect()</code>çš„ç”¨æ³•ç›¸ä¼¼ï¼Œå”¯ä¸€ä¸åŒå°±æ˜¯å®ƒè¾“å‡ºçš„åºåˆ—æ˜¯åŒ…å«æŸäº›å…³é”®è¯çš„åºåˆ—ä¸­çš„æ¯ä¸€æ¡ç©¶ç«ŸåŒ…å«äº†å“ªä¸ªå…³é”®è¯ã€‚å¦‚æœç†è§£å›°éš¾çš„è¯å¯ä»¥ç›´æ¥çœ‹ä¾‹å­ï¼š</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è¾“å‡ºæ¯ä¸€è¡ŒåŒ…å«äº†mexicoã€borderã€wallä¸‰ä¸ªè¯å½“ä¸­çš„å“ªäº›ï¼Œå¦‚æœå‡ä¸åŒ…å«åˆ™è¾“å‡ºNA</span></span><br><span class="line">border_wall &lt;- str_extract(Trumptweets$text, regex(<span class="string">&quot;mexico|border|wall&quot;</span>, ignore_case=<span class="literal">T</span>))</span><br><span class="line"><span class="comment"># å‰å‡ æ¡æ¨æ–‡éƒ½ä¸åŒ…å«æ‰€ä»¥æ˜¯NA</span></span><br><span class="line">head(border_wall)</span><br><span class="line"><span class="comment"># ç”¨na.omit()å»æ‰ä¸åŒ…å«è¿™ä¸¤ä¸ªå…³é”®è¯çš„NAæ¡ç›®ï¼Œå°±æ‰“å°å‡ºæ¥äº†åŒ…å«è¿™äº›å…³é”®è¯çš„å‰å‡ æ¡æ¨æ–‡åˆ†åˆ«åŒ…å«å“ªä¸ªå…³é”®è¯</span></span><br><span class="line">head(na.omit(border_wall))</span><br></pre></td></tr></table></figure><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/DaveKim3872/blogpics/20200824101451.png" style="zoom:50%;" /><p>å‡½æ•°<code>str_starts()</code>å’Œ<code>str_ends()</code>åˆ†åˆ«ä»£è¡¨å¯»æ‰¾ä»¥æŸäº›å…³é”®è¯å¼€å¤´æˆ–ç»“å°¾çš„æ–‡æœ¬ï¼Œå…¶ç”¨æ³•å’Œä¸Šé¢çš„<code>str_subset()</code>ä¸€æ ·ï¼Œéƒ½æ˜¯è¾“å…¥ä¸€åˆ—æ–‡æœ¬+å…³é”®è¯ï¼›è¾“å‡ºåˆ™æ˜¯ä¸€ä¸ªTRUEæˆ–FALSEç»„æˆçš„ã€å’Œæ•´ä¸ªæ•°æ®é›†ç­‰é•¿çš„åºåˆ—ã€‚</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ£€ç´¢ä»¥â€œBIGâ€å¼€å¤´çš„æ¨æ–‡</span></span><br><span class="line">BIG &lt;- str_starts(Trumptweets$text, <span class="string">&quot;BIG&quot;</span>)</span><br><span class="line"><span class="comment"># TRUE/FALSEåºåˆ—çš„é•¿åº¦å°±æ˜¯æ•´ä¸ªæ•°æ®é›†çš„é•¿åº¦ï¼Œå› ä¸ºè¦ç»™æ¯ä¸€è¡Œä¸€ä¸ªåˆ¤å®šç»“æœï¼ˆæœ‰è¿˜æ˜¯æ²¡æœ‰ï¼‰</span></span><br><span class="line">length(BIG)</span><br><span class="line"><span class="comment"># ä½†æ˜¯sumå‡½æ•°ç»Ÿè®¡çš„å°±æ˜¯TRUEçš„æ•°é‡äº†ï¼Œè¿™å¥è¯ç­‰ä»·äºsum(BIG==TRUE)</span></span><br><span class="line">sum(BIG)</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬å‘ç°æ‡‚ç‹å±…ç„¶åªå‘äº†ä¸€æ¡BIGå¼€å¤´çš„æ¨ç‰¹ï¼Œéå¸¸çš„é¹…å¦¹å­å˜¤ã€‚ä¸Šé¢è¿™ä¸ª<code>sum()</code>å‡½æ•°çš„ç”¨æ³•ä¹Ÿå¯ä»¥æ‹“å±•åˆ°å…¶ä»–å‡ ä¸ªå­—ç¬¦ä¸²åˆ¤å®šå‡½æ•°ä¸Šï¼Œæˆ‘ä»¬ä¸¾å‡ ä¸ªç®€å•çš„ä¾‹å­ï¼š</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">immigration &lt;- sum(str_detect(Trumptweets$text,regex(<span class="string">&quot;immigration&quot;</span>, ignore_case=<span class="literal">T</span>)))</span><br><span class="line">jobs &lt;- sum(str_detect(Trumptweets$text,regex(<span class="string">&quot;employment&quot;</span>, ignore_case=<span class="literal">T</span>)))</span><br><span class="line">other &lt;- sum(!str_detect(Trumptweets$text,regex(<span class="string">&quot;employment|immigration&quot;</span>, ignore_case=<span class="literal">T</span>)))</span><br><span class="line"></span><br><span class="line">paste(<span class="string">&quot;the number of tweets about immigration =&quot;</span>, immigration)</span><br><span class="line">paste(<span class="string">&quot;the number of tweets about employment =&quot;</span>, jobs)</span><br><span class="line">paste(<span class="string">&quot;the number of tweets NOT about employment or immigration =&quot;</span>, other)</span><br></pre></td></tr></table></figure><p>è¿™å‡ è¡Œæˆ‘åˆ»æ„ä¸å†™æ³¨é‡Šäº†ã€‚èªæ˜çš„ä½ ï¼Œä¸€å®šçŸ¥é“æˆ‘åœ¨å¹²ä»€ä¹ˆã€‚è¾“å‡ºæ˜¯ä¸‹é¢è¿™æ ·â€¦â€¦ç®—äº†è¾“å‡ºæˆ‘ä¹Ÿä¸ç»™äº†ï¼Œä¸å¦‚ä½ è‡ªå·±æ¥è·‘ä¸€ä¸‹ã€‚</p><p>åšäº†è¿™ä¹ˆå¤šåˆ†æï¼Œä¹Ÿè¯¥ç»™è€æ¿è´¡çŒ®ä¸€ç‚¹å¯è§†åŒ–ç»“æœäº†ï¼Œæˆ‘ä»¬ç”¨ä¸Šæ¬¡å­¦çš„ggplot2ç”»ä¸ªå›¾ã€‚é¦–å…ˆè®¡ç®—å››ä¸ªæ•°æ®ï¼š</p><ul><li>åŒ…å«è¾¹å¢ƒã€ç§»æ°‘å…³é”®è¯çš„twitteræ•°é‡</li><li>åŒ…å«å·¥ä½œã€å¤±ä¸šå…³é”®è¯çš„twitteræ•°é‡</li><li>ä¸åŒ…å«ä¸Šè¿°å…³é”®è¯çš„twitteræ•°é‡</li><li>æ‡‚ç‹æ¨æ–‡çš„æ€»æ•°ï¼ˆä½¿ç”¨<code>nrow()</code>å‡½æ•°ï¼‰</li></ul><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åŒ…å«è¾¹å¢ƒã€ç§»æ°‘å…³é”®è¯çš„twitteræ•°é‡</span></span><br><span class="line">number_border &lt;- sum(str_detect(Trumptweets$text,regex(<span class="string">&quot;border|immigration|wall&quot;</span>, ignore_case=<span class="literal">T</span>)))</span><br><span class="line"><span class="comment"># åŒ…å«å·¥ä½œã€å¤±ä¸šå…³é”®è¯çš„twitteræ•°é‡</span></span><br><span class="line">number_jobs &lt;- sum(str_detect(Trumptweets$text,regex(<span class="string">&quot;job|work|unemployment&quot;</span>, ignore_case=<span class="literal">T</span>)))</span><br><span class="line"><span class="comment"># ä¸åŒ…å«ä¸Šè¿°å…³é”®è¯çš„twitteræ•°é‡</span></span><br><span class="line">number_other &lt;- sum(!str_detect(Trumptweets$text,regex(<span class="string">&quot;job|work|unemployment|border|immigration|wall&quot;</span>, ignore_case=<span class="literal">T</span>)))</span><br><span class="line"><span class="comment"># æ‡‚ç‹æ¨æ–‡çš„æ€»æ•°ï¼ˆä½¿ç”¨nrowå‡½æ•°ï¼‰</span></span><br><span class="line">tot_tweets &lt;- nrow(Trumptweets)</span><br></pre></td></tr></table></figure><p>ç„¶ååˆ†åˆ«è®¡ç®—å‰ä¸‰ä¸ªæ•°æ®å æ¨æ–‡æ€»æ•°çš„ç™¾åˆ†æ¯”ï¼Œå¹¶æ–°å»ºä¸€ä¸ªdata.frameæŠŠè¿™ä¸‰ä¸ªå€¼æ”¾è¿›å»ä»¥æ–¹ä¾¿ç”»å›¾ï¼š</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">perc_border=(number_border/tot_tweets)*<span class="number">100</span></span><br><span class="line">perc_jobs=(number_jobs/tot_tweets)*<span class="number">100</span></span><br><span class="line">perc_other=(number_other/tot_tweets)*<span class="number">100</span></span><br><span class="line"><span class="comment"># æ–°å»ºä¸€ä¸ªä¸ºäº†ç”»å›¾çš„dataframeï¼ŒæŠ½è±¡ç†è§£ä¸€ä¸‹ï¼Œä¸¤è¡Œåˆ†åˆ«æ˜¯labelå’Œpercï¼Œä¸‰åˆ—åˆ†åˆ«æ˜¯xxxxx</span></span><br><span class="line">perc_all = data.frame(labels=c(<span class="string">&#x27;Border Security&#x27;</span>,<span class="string">&#x27;Others&#x27;</span>, <span class="string">&#x27;Jobs&#x27;</span>),</span><br><span class="line">                      percentage=c(perc_border,perc_other,perc_jobs))</span><br></pre></td></tr></table></figure><p>æœ€åç”»å›¾ï¼š</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#  å…ˆç”»æ¡å½¢å›¾,è®°å¾—fill=labelsæ˜¯æŒ‰ç…§labelåŒºåˆ†å¡«å……è‰²çš„æ„æ€</span></span><br><span class="line">bp&lt;- ggplot(perc_all, aes(x=<span class="string">&quot;&quot;</span>,y=percentage, fill=labels))+</span><br><span class="line">  geom_bar(width = <span class="number">1</span>, stat = <span class="string">&quot;identity&quot;</span>) + xlab(<span class="string">&quot;&quot;</span>)</span><br><span class="line"><span class="comment"># å†è½¬æˆä»¥ç™¾åˆ†æ¯”ä¸ºè½´çš„é¥¼çŠ¶å›¾</span></span><br><span class="line">pie &lt;- bp + coord_polar(<span class="string">&quot;y&quot;</span>, start=<span class="number">0</span>)</span><br><span class="line"><span class="comment"># è°ƒæ•´å°ºå¯¸</span></span><br><span class="line">options(repr.plot.width=<span class="number">5</span>, repr.plot.height=<span class="number">5</span>)</span><br><span class="line">print(pie)  </span><br></pre></td></tr></table></figure><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/DaveKim3872/blogpics/20200824103742.png" style="zoom:50%;" /><h3 id="åˆ†ææ—¶é—´è½´ä¿¡æ¯"><a href="#åˆ†ææ—¶é—´è½´ä¿¡æ¯" class="headerlink" title="åˆ†ææ—¶é—´è½´ä¿¡æ¯"></a>åˆ†ææ—¶é—´è½´ä¿¡æ¯</h3><p>è¿™é‡Œéœ€è¦ä¸€ä¸ªå«åšlubridateçš„åŒ…ï¼Œæˆ‘ä»¬å·²ç»æå‰è£…å¥½äº†ï¼Œç›´æ¥å¼•å…¥å³å¯ã€‚</p><p>è¿™ä¸ªåŒ…æœ‰ä¸€ä¸ªå‡½æ•°<code>ymd_hms()</code>ï¼Œç»™å®ƒè¾“å…¥ä¸€ä¸ªæ ¼å¼ä¸º<code>å¹´-æœˆ-æ—¥ æ—¶:åˆ†:ç§’</code>æ—¶é—´å­—ç¬¦ä¸²ï¼ˆä½ è¯´å·§ä¸å·§æˆ‘ä»¬åˆšå¥½æ˜¯è¿™ä¸ªï¼Œå…¶å®è¿™æ˜¯æ ‡å‡†æ—¶é—´æ ¼å¼çš„ä¸€ç§å•¦ï¼‰ï¼Œå®ƒå¯ä»¥ç»™ä½ è¾“å‡ºä¸€ä¸ªæ—¶é—´å¯¹è±¡ã€‚è¿™ä¸ªæ—¶é—´å¯¹è±¡å’Œæ—¶é—´å­—ç¬¦ä¸²é•¿çš„å·®ä¸å¤šï¼Œä½†æ˜¯æœ€å¤§åŒºåˆ«æ˜¯ä½ å¯ä»¥é€šè¿‡æŸäº›æ–¹æ³•å–å‡ºå®ƒçš„æ—¥æœŸæˆ–è€…å°æ—¶ç­‰æ•°æ®ï¼Œæ¯”å¦‚æˆ‘ä»¬è¿™é‡Œåªæƒ³åˆ†ææ—¥æœŸï¼Œä½ å°±å¯ä»¥ç”¨<code>date(å¯¹è±¡åç§°)</code>å‡½æ•°ä»æ—¶é—´å¯¹è±¡é‡Œå–å‡ºæ—¥æœŸã€‚</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å¼•å…¥lubricate</span></span><br><span class="line"><span class="keyword">require</span>(lubridate)</span><br><span class="line"></span><br><span class="line">Trumptweets &lt;- Trumptweets %&gt;% </span><br><span class="line"><span class="comment"># æŠŠå­—ç¬¦ä¸²æ ¼å¼çš„æ—¶é—´è½¬ä¸ºæ—¶é—´å¯¹è±¡æ ¼å¼</span></span><br><span class="line">    mutate(Date = ymd_hms(created_at))</span><br><span class="line">head(Trumptweets[<span class="string">&quot;Date&quot;</span>])</span><br></pre></td></tr></table></figure><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/DaveKim3872/blogpics/20200824104459.png" style="zoom:50%;" /><p>æˆ‘ä»¬æƒ³è¦æŒ‰ç…§æ—¥æœŸåˆ†ç»„ï¼Œåˆ†ææ¯å¤©çš„ç‚¹èµå’Œè½¬å‘æ•°ã€‚ä½¿ç”¨ä¸Šæ–‡è¯´çš„<code>date(å¯¹è±¡åç§°)</code>å‡½æ•°ä»æ—¶é—´å¯¹è±¡é‡Œå–å‡ºæ—¥æœŸï¼Œç”¨è¿™ç©æ„åšä¸€ä¸ª<code>group_by()</code>ç„¶åç”¨<code>summarize()</code>åŒ…è£¹<code>sum()</code>å»æ±‚ä¸€ä¸‹ç‚¹èµå’Œè½¬å‘å„è‡ªçš„æ•°é‡ä¹‹å’Œã€‚</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æˆ‘ä»¬ç›´æ¥è¾“å‡ºä¸€ä¸ªæ–°è¡¨å«grouped_tweets</span></span><br><span class="line">grouped_tweets &lt;- Trumptweets %&gt;%</span><br><span class="line">                <span class="comment"># ç”¨date()å¯ä»¥å–æ—¥æœŸï¼Œç±»ä¼¼åœ°è¿˜å¯ä»¥ç”¨year()å–å¹´ï¼Œç”¨month()å–æœˆä»½ä¹‹ç±»çš„ï¼Œè‡ªå·±è¯•ç€ç©</span></span><br><span class="line">                    group_by(days=date(Date)) %&gt;%</span><br><span class="line">                    <span class="comment"># è®¡ç®—è½¬å‘ã€ç‚¹èµæ•°</span></span><br><span class="line">                        summarise(retweets = sum(retweet_count),</span><br><span class="line">                                 Likes = sum(favourite_count))</span><br><span class="line">head(grouped_tweets)</span><br></pre></td></tr></table></figure><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/DaveKim3872/blogpics/20200824104947.png" style="zoom:50%;" /><p>æœ€åï¼Œç”¨grouped_tweetsè¿™ä¹ˆæ£’çš„ä¸€ä¸ªè¡¨æ ¼ç”»ä¸ªæŠ˜çº¿å›¾ååº”ç‚¹èµå’Œè½¬å‘éšç€æ—¥æœŸçš„å˜åŒ–è¶‹åŠ¿å§ã€‚</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ç”»ä¸ªç‚¹èµæ›²çº¿ï¼Œxè½´æ˜¯æ—¥æœŸ</span></span><br><span class="line">pl &lt;- ggplot(grouped_tweets, aes(x=days,y=Likes)) + geom_line(aes(colour=<span class="string">&quot;Likes&quot;</span>))</span><br><span class="line"><span class="comment"># å†åŠ ä¸ªè½¬å‘æ›²çº¿ï¼Œxè½´è¿˜æ˜¯æ—¥æœŸ</span></span><br><span class="line">pl &lt;- pl + geom_line(aes(x=days,y=retweets, colour = <span class="string">&quot;retweets&quot;</span>))</span><br><span class="line"><span class="comment"># æ‰‹åŠ¨å®šä¹‰ä¸€ä¸‹é¢œè‰²ï¼ˆçœŸçš„è„±è£¤å­æ”¾å±ï¼Œä¸ºå•¥ä¸ç›´æ¥åœ¨ä¸Šé¢å†™é¢œè‰²ï¼‰</span></span><br><span class="line">pl &lt;- pl + scale_colour_manual(name=<span class="string">&#x27;&#x27;</span>, values=c(<span class="string">&#x27;retweets&#x27;</span>=<span class="string">&#x27;blue&#x27;</span>, <span class="string">&#x27;Likes&#x27;</span>=<span class="string">&#x27;red&#x27;</span>))</span><br><span class="line"><span class="comment"># å†™ä¸€ä¸‹xè½´å’Œyè½´æ ‡ç­¾</span></span><br><span class="line">pl &lt;- pl + xlab(<span class="string">&quot;Date and time&quot;</span>) + ylab(<span class="string">&quot;Daily retweets, likes and fans&quot;</span>)</span><br><span class="line">print(pl)</span><br></pre></td></tr></table></figure><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/DaveKim3872/blogpics/20200824105252.png" style="zoom:50%;" /><p>åŸæ¥è¿™è´§çœŸçš„ä¸€ç›´åœ¨æ¶¨ç²‰å—â€¦â€¦ï¼Ÿ</p>]]></content>
      
      
      <categories>
          
          <category> Rè¯­è¨€æ•°æ®ç§‘å­¦ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> R </tag>
            
            <tag> æ•°æ®åˆ†æ </tag>
            
            <tag> Jsonlite </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä½¿ç”¨MacOSå†…å»ºçš„å·¥å…·å½•å±ï¼ˆè§£å†³å½•åˆ¶æ— å£°éŸ³é—®é¢˜ï¼‰</title>
      <link href="/2020/08/21/mac-screen-rec/"/>
      <url>/2020/08/21/mac-screen-rec/</url>
      
        <content type="html"><![CDATA[<h2 id="Mojaveä¸–ä»£å¼•å…¥çš„æˆªå›¾-å½•å±å·¥å…·"><a href="#Mojaveä¸–ä»£å¼•å…¥çš„æˆªå›¾-å½•å±å·¥å…·" class="headerlink" title="Mojaveä¸–ä»£å¼•å…¥çš„æˆªå›¾/å½•å±å·¥å…·"></a>Mojaveä¸–ä»£å¼•å…¥çš„æˆªå›¾/å½•å±å·¥å…·</h2><p>åœ¨MacOS 10.14 Mojaveæˆ–è€…æ›´é«˜ç‰ˆæœ¬ä¸Šï¼Œè‹¹æœå¼•å…¥äº†ç³»ç»Ÿå†…å»ºçš„æˆªå±å’Œå½•å±å·¥å…·ï¼Œåœ¨ä»»ä½•æƒ…å†µä¸‹ä½¿ç”¨shift+command+5å°±å¯ä»¥å‘¼å‡ºæ“æ§é¢æ¿ã€‚</p><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/DaveKim3872/blogpics/20200821140416.png"></p><p>å·¦è¾¹ä¸‰é¡¹åˆ†åˆ«æ˜¯æˆªå–å…¨å±ã€çª—å£å’Œé€‰å®šåŒºåŸŸï¼Œå³è¾¹ä¸¤é¡¹åˆ†åˆ«æ˜¯å½•åˆ¶å…¨å±å’Œé€‰å®šåŒºåŸŸï¼Œç‚¹å‡»æ‰€éœ€é€‰é¡¹åå†æŒ‰ä¸€ä¸‹æœ€å³è¾¹å‡ºç°çš„â€œæ•æ‰â€æˆ–è€…â€œå½•åˆ¶â€å°±å¯ä»¥æˆªå±æˆ–è€…å½•å±äº†ã€‚å¼€å§‹å½•å±åæœ€ä¸Šæ–¹çŠ¶æ€æ ä¼šæœ‰ä¸€ä¸ªåœæ­¢å½•åˆ¶çš„æŒ‰é’®ï¼ŒæŒ‰ä¸€ä¸‹å°±å¯ä»¥åœæ­¢å½•åˆ¶ã€‚è§†é¢‘æˆ–è€…æˆªå›¾æ–‡ä»¶ä¼šè‡ªåŠ¨ä¿å­˜åœ¨æ¡Œé¢ã€‚</p><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/DaveKim3872/blogpics/20200821140729.png"></p><p>ä½†æ˜¯ï¼Œç³»ç»Ÿè‡ªå¸¦çš„å½•å±æ— æ³•å½•åˆ¶åˆ°ç”µè„‘çš„å£°éŸ³ï¼Œåœ¨æœ€å³è¾¹çš„é€‰é¡¹ä¸­ä¹Ÿåªèƒ½çœ‹åˆ°éº¦å…‹é£çš„é€‰é¡¹ï¼Œä¹Ÿå°±æ˜¯è¯´è¦ä¹ˆæ²¡å£°éŸ³ï¼Œè¦ä¹ˆå½•çš„å°±æ˜¯ä½ è¯´çš„è¯ï¼Œåæ­£ä½ ç”µè„‘æ’­æ”¾çš„å£°éŸ³æˆ‘ä»¬æ˜¯å½•ä¸åˆ°ã€‚</p><h2 id="å½•åˆ¶ç³»ç»Ÿå£°éŸ³çš„è§£å†³æ–¹æ¡ˆ"><a href="#å½•åˆ¶ç³»ç»Ÿå£°éŸ³çš„è§£å†³æ–¹æ¡ˆ" class="headerlink" title="å½•åˆ¶ç³»ç»Ÿå£°éŸ³çš„è§£å†³æ–¹æ¡ˆ"></a>å½•åˆ¶ç³»ç»Ÿå£°éŸ³çš„è§£å†³æ–¹æ¡ˆ</h2><p>æ¥ä¸‹æ¥ä¸¥æ ¼æŒ‰ç…§æ­¥éª¤æ“ä½œï¼Œä½ å°±èƒ½å½•åˆ°ç³»ç»Ÿçš„å£°éŸ³äº†ã€‚</p><p>é¦–å…ˆåœ¨ä¸‹è½½å®‰è£…<a href="https://www.macwk.com/soft/loopback">Loopback</a>è¿™ä¸ªè½¯ä»¶ï¼ˆæœ‰èƒ½åŠ›çš„è¯·æ”¯æŒæ­£ç‰ˆï¼‰ï¼Œæ‰“å¼€è½¯ä»¶ç‚¹å‡»å³ä¸Šè§’çš„trial licenseè¾“å…¥æä¾›çš„æ¿€æ´»ç æ¿€æ´»è½¯ä»¶ã€‚</p><p>è½¯ä»¶ç•Œé¢é•¿è¿™æ ·ï¼š</p><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/DaveKim3872/blogpics/20200821141451.png"></p><p>å‡è®¾æˆ‘ä»¬è¦å½•åˆ¶æµè§ˆå™¨æ’­æ”¾çš„è§†é¢‘ï¼ˆå°±é€‰æ‹©å½•åˆ¶å…¨å±å¥½äº†ï¼‰ï¼Œåœ¨Loopbackç•Œé¢çš„sourcesç‚¹å‡»åŠ å·ï¼Œé€‰æ‹©ä½ ä½¿ç”¨çš„æµè§ˆå™¨ï¼ˆæˆ‘ç”¨çš„æ˜¯edgeï¼‰ï¼Œå½“ç„¶ä¸ä¸€å®šæ˜¯æµè§ˆå™¨ï¼Œå¦‚æœæ˜¯zoomæˆ–è€…è…¾è®¯ä¼šè®®ä¹‹ç±»çš„ä¸œè¥¿ä¹ŸåŒç†ã€‚</p><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/DaveKim3872/blogpics/20200821141650.png" style="zoom:50%;" /><p>ç„¶åç•Œé¢å°±å˜æˆäº†è¿™ä¸ªæ ·å­ï¼š</p><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/DaveKim3872/blogpics/20200821141731.png"></p><p>æ’­æ”¾è§†é¢‘çš„æ—¶å€™èƒ½çœ‹åˆ°ä½ çš„åº”ç”¨ç¨‹åºçš„å£°éŸ³åœ¨æ³¢åŠ¨ï¼Œå¯ä»¥ç‚¹ä¸‹é¢çš„opotionsè°ƒèŠ‚éŸ³é‡ï¼Œè¿™ä¸ªå†³å®šäº†ä¹‹åå½•å±ä¸­çš„å£°éŸ³å¤§å°ï¼š</p><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/DaveKim3872/blogpics/20200821141911.png"></p><p>ä¸ºäº†ä¿è¯ä½ è‡ªå·±åœ¨å½•å±çš„æ—¶å€™è¿˜èƒ½å¬åˆ°å£°éŸ³ï¼Œåœ¨æœ€å³è¾¹çš„monitorsåŠ å…¥è¾“å‡ºè®¾å¤‡ï¼Œä¸€èˆ¬æ˜¯internal speakersä»£è¡¨ç”µè„‘æ‰¬å£°å™¨å’Œæœ‰çº¿è€³æœºï¼Œå¦‚æœä½ åœ¨ç”¨airpodsçš„è¯ï¼Œè¿æ¥ä¸Šairpodsåå¯ä»¥çœ‹åˆ°æœ‰airpodsï¼ŒåŠ ä¸Šå°±å¥½äº†ï¼›åæ­£ä½ æƒ³ç”¨ä»€ä¹ˆå¬å°±åŠ ä¸Šä»€ä¹ˆä¸œè¥¿ã€‚</p><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/DaveKim3872/blogpics/20200821142232.png" style="zoom:50%;" /><p>ç„¶åæ’­æ”¾æ—¶çš„ç•Œé¢å°±å˜æˆè¿™æ ·äº†ï¼š</p><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/DaveKim3872/blogpics/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202020-08-21%20%E4%B8%8B%E5%8D%882.23.07.png"></p><p>å¦å¤–æ¯”è¾ƒçµæ´»çš„æ˜¯ï¼Œè¾“å…¥ã€è¾“å‡ºã€ç›‘æ§çš„é€šé“é™¤äº†å¯ä»¥åœ¨é€‰ä¸­åé€šè¿‡command+backspaceåˆ é™¤ä¹‹å¤–ï¼Œè¿˜å¯ä»¥æ‰‹åŠ¨æ§åˆ¶å¼€å…³ã€‚è¿™ä¸ªä½ ä»¬å¯ä»¥è‡ªå·±å°è¯•ã€‚</p><p>å‡†å¤‡å®Œæ¯•ï¼Œæ¥ä¸‹æ¥å¼€å§‹å½•å±ï¼Œ<strong>shift+command+5å‘¼å‡ºæ§åˆ¶å°ï¼Œé€‰æ‹©å½•åˆ¶æ•´ä¸ªå±å¹•ï¼Œåœ¨å³è¾¹çš„é€‰é¡¹-éº¦å…‹é£ä¸€æ é€‰æ‹©Loopback Audio</strong>ã€‚</p><p>å¤§åŠŸå‘Šæˆï¼Œå¯ä»¥å¼€å§‹å½•å±äº†ã€‚å»ºè®®åœ¨æ­£å¼å½•å±ä¹‹å‰<u>å…ˆæµ‹è¯•ä¸€ä¸‹</u>ï¼Œå…å¾—å½•äº†ä¸€ä¸ªå°æ—¶å‘ç°æ²¡è®¾ç½®å¥½ï¼Œäººé—´æƒ¨å‰§ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> å®ç”¨å·¥å…·å’Œæ•™ç¨‹ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MacOS </tag>
            
            <tag> ç³»ç»Ÿå·¥å…· </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Rè¯­è¨€-åˆ†æä¸ç»˜å›¾ï¼ˆ3ï¼‰ï¼šå¯è§†åŒ–å…¥é—¨</title>
      <link href="/2020/08/20/data-visulization-intro/"/>
      <url>/2020/08/20/data-visulization-intro/</url>
      
        <content type="html"><![CDATA[<p>ä¸Šä¸€ç¯‡ï¼š<a href="https://davekim3872.github.io/2020/08/15/webpages-analyze/">Rè¯­è¨€-åˆ†æä¸ç»˜å›¾ï¼ˆ2ï¼‰ï¼šä½¿ç”¨rveståº“æŠ“å–å’Œåˆ†æç½‘é¡µä¿¡æ¯</a></p><p>@Keren Wangï¼šå‡½æ•°åç§°ä¸ç”¨è®°ï¼Œç”¨çš„æ—¶å€™å¯ä»¥æŸ¥ï¼›ä½†æ˜¯ä¸ºäº†å¯¹åç§°ã€åŠŸèƒ½å’Œç”¨æ³•æœ‰å°è±¡ï¼Œè¿˜æ˜¯å»ºè®®å¤šå†™ä»£ç è®­ç»ƒä¸€ä¸‹è‚Œè‚‰è®°å¿†ï¼Œä¸ç„¶è€ƒè¯•çš„æ—¶å€™å¯èƒ½æŸ¥ä¹Ÿæ¥ä¸åŠã€‚</p><p>å­¦ä¹ å¦‚ä½•æ”¶é›†å’Œåˆ†ææ•°æ®æ˜¯å•†ä¸š/é‡‘è/å¸‚åœºé¢†åŸŸä¸­çš„ä¸€é¡¹å…³é”®æŠ€èƒ½ï¼Œä½†æ˜¯å¦‚æœæ²¡æœ‰æœ‰æ•ˆè¡¨å¾ç»“æœçš„èƒ½åŠ›ï¼Œè¿™äº›æ•°æ®å¯èƒ½æ¯«æ— æ„ä¹‰ã€‚â€œæ•°æ®å¯è§†åŒ–â€ä¸€è¯æè¿°äº†å°†ä¿¡æ¯åœ¨å¯è§†åŒ–çš„ä¸Šä¸‹æ–‡ä¸­å±•ç°å‡ºæ¥çš„è¿‡ç¨‹ï¼Œä»¥å¸®åŠ©æˆ‘ä»¬ä»¥æ›´å®Œæ•´å’Œæœ‰æ•ˆçš„æ–¹å¼ç†è§£æ•°æ®ã€‚ æˆ‘ä»¬å¯ä»¥ç”¨å›¾è¡¨å¯ä»¥æ˜¾ç¤ºå¤šä¸ªå˜é‡ä¹‹é—´çš„å…³ç³»ï¼Œæˆ–è€…ä»¥å›¾å½¢æ–¹å¼çªå‡ºæ˜¾ç¤ºä¸åŒæ•°æ®é›†ä¹‹é—´çš„å·®å¼‚ã€‚</p><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/DaveKim3872/blogpics/20200820100952.png"></p><p>æœ¬æ¨¡å—ä»‹ç»äº†ä¸€äº›ä½¿ç”¨Rç»˜å›¾çš„åŸºæœ¬æŠ€æœ¯ï¼Œç‰¹åˆ«æ˜¯æ‰©å±•äº†ä½¿ç”¨tidyverseå·¥å…·åŒ…ä¸­çš„ggplot2çš„çŸ¥è¯†ã€‚æˆ‘ä»¬å°†ä½¿ç”¨æ¥è‡ªNASAç³»å¤–è¡Œæ˜Ÿæ¡£æ¡ˆçš„çœŸå®å¤©æ–‡æ•°æ®æ¥æ”¯æŒæœ¬ç« èŠ‚çš„æ•°æ®å¯è§†åŒ–å­¦ä¹ ã€‚é™¤äº†æˆ‘ä»¬ä»‹ç»åˆ°çš„å†…å®¹ï¼Œä½ ä¹Ÿå¯ä»¥åœ¨ <a href="http://www.cookbook-r.com/Graphs/">R cookbook for graphs</a> è·å–æœ‰ç”¨çš„å­¦ä¹ èµ„æºã€‚</p><p>é¦–å…ˆï¼Œæˆ‘ä»¬åŠ è½½tidyverseåº“å¹¶è¯»å–è¡Œæ˜Ÿæ•°æ®è¡¨<code>planets.csv</code>ã€‚åœ¨æå‰è¢«å‘ŠçŸ¥è¯¥è¡¨æœ‰32è¡Œæ˜¯è¡¨å¤´ï¼ˆä»‹ç»è¡¨æ ¼çš„å†…å®¹ï¼Œè€Œéæœ‰ç”¨çš„æ•°æ®ï¼‰çš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä½¿ç”¨<code>read_delim()</code>å‡½æ•°ä¸­çš„<code>skip = 32</code>å‚æ•°æ¥æŒ‡å®šâ€œåœ¨è¯»å–æ•°æ®å‰å…ˆè·³è¿‡32è¡Œâ€ã€‚</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">library</span>(tidyverse)</span><br><span class="line">kdf &lt;- read_delim(<span class="string">&quot;planets.csv&quot;</span>, delim=<span class="string">&quot;,&quot;</span>, skip=<span class="number">32</span>)</span><br><span class="line">head(kdf)</span><br></pre></td></tr></table></figure><h2 id="ç¤ºä¾‹ï¼šä½¿ç”¨ggplot2åº“ç»˜åˆ¶ç¬¬ä¸€ä¸ªæ›²çº¿å›¾"><a href="#ç¤ºä¾‹ï¼šä½¿ç”¨ggplot2åº“ç»˜åˆ¶ç¬¬ä¸€ä¸ªæ›²çº¿å›¾" class="headerlink" title="ç¤ºä¾‹ï¼šä½¿ç”¨ggplot2åº“ç»˜åˆ¶ç¬¬ä¸€ä¸ªæ›²çº¿å›¾"></a>ç¤ºä¾‹ï¼šä½¿ç”¨ggplot2åº“ç»˜åˆ¶ç¬¬ä¸€ä¸ªæ›²çº¿å›¾</h2><h3 id="ggplot-å‡½æ•°"><a href="#ggplot-å‡½æ•°" class="headerlink" title="ggplot() å‡½æ•°"></a><code>ggplot()</code> å‡½æ•°</h3><p>ggplot2æ˜¯tidyverseé‡Œç»˜å›¾çš„åº“ã€‚<code>ggplot(data=df, aes(x,y))</code> å‡½æ•°çš„ä½œç”¨æ˜¯ä½¿ç”¨<code>df</code>è¿™å¼ è¡¨ä¸­çš„<code>x</code>å’Œ<code>y</code>ä¸¤åˆ—ä½œä¸ºxè½´å’Œyè½´ï¼Œåœ¨äºŒç»´åæ ‡ç³»ä¸‹ç»˜åˆ¶å›¾åƒã€‚å¦‚æœå†™æˆ<code>data = NULL</code>ï¼Œåˆ™éœ€è¦è‡ªå·±å»ºç«‹ä¸¤ä¸ªé•¿åº¦ç›¸åŒçš„å‘é‡xå’Œå‘é‡yä½œä¸ºæ¨ªè½´å’Œçºµè½´çš„åæ ‡ã€‚æ³¨æ„ï¼Œè¿™ä¸€æ­¥åªæ˜¯ç»˜åˆ¶å‡ºæ¥äº†ç”»å¸ƒ<code>p</code>ï¼Œæˆ‘ä»¬è¿˜æ²¡æœ‰å®šä¹‰æ›²çº¿ã€‚å¦‚æœåªæ‰§è¡Œ<code>ggplot()</code> å‡½æ•°ï¼Œæˆ‘ä»¬å°†ä¼šå¾—åˆ°ä¸‹é¢çš„ç»“æœï¼š</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å»ºç«‹ä¸¤ä¸ªå‘é‡xå’Œyä½œä¸ºæ¨ªè½´å’Œçºµè½´åæ ‡</span></span><br><span class="line">x &lt;- c(<span class="number">0.</span>  ,  <span class="number">0.15</span>,  <span class="number">0.3</span> ,  <span class="number">0.45</span>,  <span class="number">0.6</span> ,  <span class="number">0.75</span>,  <span class="number">0.9</span> ,  <span class="number">1.05</span>,  <span class="number">1.2</span> ,</span><br><span class="line">        <span class="number">1.35</span>,  <span class="number">1.5</span> ,  <span class="number">1.65</span>,  <span class="number">1.8</span> ,  <span class="number">1.95</span>,  <span class="number">2.1</span> ,  <span class="number">2.25</span>,  <span class="number">2.4</span> ,  <span class="number">2.55</span>,</span><br><span class="line">        <span class="number">2.7</span> ,  <span class="number">2.85</span>)</span><br><span class="line">y &lt;- c(-<span class="number">0.51</span>, -<span class="number">0.29</span>,  <span class="number">1.13</span>, -<span class="number">2.06</span>, -<span class="number">0.63</span>, -<span class="number">0.36</span>,  <span class="number">1.41</span>, -<span class="number">0.24</span>,  <span class="number">1.27</span>,</span><br><span class="line">        <span class="number">0.37</span>,  <span class="number">0.23</span>,  <span class="number">2.96</span>,  <span class="number">2.54</span>,  <span class="number">1.11</span>,  <span class="number">2.92</span>,  <span class="number">0.95</span>,  <span class="number">2.17</span>,  <span class="number">3.41</span>,</span><br><span class="line">        <span class="number">4.87</span>,  <span class="number">5.36</span>) </span><br><span class="line"> </span><br><span class="line">p &lt;- ggplot(<span class="literal">NULL</span>,aes(x,y)) <span class="comment"># NULLè¡¨ç¤ºæˆ‘ä»¬ä¸ä»è¡¨ä¸­å–æ•°æ®ï¼Œç›´æ¥ä½¿ç”¨è‡ªå·±åˆ›å»ºçš„å‘é‡ä½œä¸ºæ•°æ®æº</span></span><br><span class="line">print(p)</span><br></pre></td></tr></table></figure><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/DaveKim3872/blogpics/20200820103347.png" style="zoom: 50%;" /><h3 id="ç”¨geom-line-å‡½æ•°æ·»åŠ æ›²çº¿"><a href="#ç”¨geom-line-å‡½æ•°æ·»åŠ æ›²çº¿" class="headerlink" title="ç”¨geom_line()å‡½æ•°æ·»åŠ æ›²çº¿"></a>ç”¨<code>geom_line()</code>å‡½æ•°æ·»åŠ æ›²çº¿</h3><p>æ¥ä¸‹æ¥æˆ‘ä»¬éœ€è¦åœ¨ç”»å¸ƒ<code>p</code>ä¸Šæ·»åŠ å…ƒç´ ï¼ˆç‚¹ã€çº¿ç­‰ï¼‰ã€‚ggplot2åº“è§„å®šæˆ‘ä»¬ä½¿ç”¨åŠ å·<code>+</code>è¡¨ç¤ºåœ¨å›¾ä¸Šå¢åŠ å…ƒç´ ã€‚æ¯”å¦‚æƒ³è¦åœ¨åˆšæ‰å»ºç«‹çš„ç”»å¸ƒ<code>p</code>ä¸Šç»˜åˆ¶ä¸€ä¸ªæ›²çº¿ï¼Œæˆ‘ä»¬éœ€è¦åœ¨<code>p</code>ä¸Šä½¿ç”¨åŠ å·å åŠ ä¸€ä¸ª<code>geom_line()</code>å‡½æ•°ï¼Œé»˜è®¤ç”»çš„æ˜¯é»‘è‰²å®çº¿ã€‚</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">p &lt;- ggplot(<span class="literal">NULL</span>,aes(x,y)) <span class="comment"># NULLè¡¨ç¤ºæˆ‘ä»¬ä¸ä»è¡¨ä¸­å–æ•°æ®ï¼Œç›´æ¥ä½¿ç”¨è‡ªå·±åˆ›å»ºçš„å‘é‡ä½œä¸ºæ•°æ®æº</span></span><br><span class="line">p &lt;- p + geom_line() <span class="comment"># ç”»ä¸Šä¸€æ¡æ›²çº¿</span></span><br><span class="line">print(p)</span><br></pre></td></tr></table></figure><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/DaveKim3872/blogpics/20200820104017.png" style="zoom:50%;" /><p>æ›²çº¿å‡ºæ¥äº†ï¼Œä½†ä¸æ˜¯å¾ˆå¥½çœ‹ã€‚è¿™æ˜¯å› ä¸ºæˆ‘ä»¬åœ¨<code>geom_line()</code>å‡½æ•°ä¸­æ²¡æœ‰å®šä¹‰æ ·å¼ã€‚ä¸‹é¢å°è¯•æŠŠåˆšæ‰çš„ä»£ç ä¿®æ”¹ä¸€ä¸‹ï¼ŒæŠŠç»˜åˆ¶æ›²çº¿çš„å‡½æ•°æ”¹ä¸º<code>geom_line(colour = &#39;red&#39;, linetype=2)</code>ï¼Œå…¶ä¸­<code>colour = &#39;red&#39;</code>ä»£è¡¨æ›²çº¿é¢œè‰²æ˜¯çº¢è‰²ï¼Œ<code>linetype=2</code>ä»£è¡¨æˆ‘ä»¬ä½¿ç”¨é•¿è™šçº¿ï¼ˆä½ å¯ä»¥è¯•ç€ä¿®æ”¹è¿™ä¸ªæ•°å­—ï¼Œçœ‹çœ‹å„ä¸ªæ•°å­—åˆ†åˆ«ä»£è¡¨ä»€ä¹ˆæ ·å¼ï¼‰ã€‚å½“ç„¶ä½ ä¹Ÿå¯ä»¥åªå®šä¹‰é¢œè‰²æˆ–è€…åªå®šä¹‰çº¿æ¡ç§ç±»ã€‚</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">p &lt;- ggplot(<span class="literal">NULL</span>,aes(x,y)) <span class="comment"># NULLè¡¨ç¤ºæˆ‘ä»¬ä¸ä»è¡¨ä¸­å–æ•°æ®ï¼Œç›´æ¥ä½¿ç”¨è‡ªå·±åˆ›å»ºçš„å‘é‡ä½œä¸ºæ•°æ®æº</span></span><br><span class="line">p &lt;- p + geom_line(colour=<span class="string">&quot;red&quot;</span>, linetype=<span class="number">2</span>) <span class="comment"># ç”»ä¸Šä¸€æ¡æ›²çº¿</span></span><br><span class="line">print(p)</span><br></pre></td></tr></table></figure><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/DaveKim3872/blogpics/20200820104626.png" style="zoom:50%;" /><h3 id="ç”¨geom-point-å‡½æ•°æ·»åŠ åæ ‡ç‚¹"><a href="#ç”¨geom-point-å‡½æ•°æ·»åŠ åæ ‡ç‚¹" class="headerlink" title="ç”¨geom_point()å‡½æ•°æ·»åŠ åæ ‡ç‚¹"></a>ç”¨<code>geom_point()</code>å‡½æ•°æ·»åŠ åæ ‡ç‚¹</h3><p>æ›²çº¿ç”»å®Œäº†ï¼Œå¦‚æœæˆ‘ä»¬æƒ³æŠŠè¿™äº›ç‚¹éƒ½æ ‡å‡ºæ¥å‘¢ï¼ŸåŒæ ·åœ°ï¼Œggplot2ä¹Ÿæä¾›äº†<code>geom_point()</code>å‡½æ•°ç”¨æ¥ç”»ç‚¹ï¼Œé»˜è®¤ç”»çš„æ˜¯é»‘è‰²å®å¿ƒç‚¹ã€‚</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">p &lt;- ggplot(<span class="literal">NULL</span>,aes(x,y)) <span class="comment"># NULLè¡¨ç¤ºæˆ‘ä»¬ä¸ä»è¡¨ä¸­å–æ•°æ®ï¼Œç›´æ¥ä½¿ç”¨è‡ªå·±åˆ›å»ºçš„å‘é‡ä½œä¸ºæ•°æ®æº</span></span><br><span class="line">p &lt;- p + geom_line(colour=<span class="string">&quot;red&quot;</span>, linetype=<span class="number">2</span>) <span class="comment"># ç”»ä¸Šä¸€æ¡æ›²çº¿</span></span><br><span class="line">p &lt;- p + geom_point() <span class="comment"># æŠŠç‚¹ä¹Ÿç”»ä¸Š</span></span><br><span class="line">print(p)</span><br></pre></td></tr></table></figure><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/DaveKim3872/blogpics/20200820105101.png" style="zoom:50%;" /><p>å¦‚æœä½ è§‰å¾—ä¸å¥½çœ‹ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥è‡ªå®šä¹‰ç‚¹çš„æ ·å¼ã€‚æˆ‘ä»¬æŠŠç”»ç‚¹çš„å‡½æ•°ä¿®æ”¹ä¸º<code>geom_point(colour=&quot;blue&quot;, shape=0)</code>ï¼Œ<code>colour=&quot;blue&quot;</code>å«ä¹‰ä¸ºç‚¹çš„é¢œè‰²ä¸ºè“è‰²ï¼Œ<code>shape=0</code>çš„å«ä¹‰ä¸ºæ­£æ–¹å½¢ç©ºå¿ƒç‚¹ï¼ˆä½ å¯ä»¥è¯•ç€ä¿®æ”¹è¿™ä¸ªæ•°å­—ï¼Œçœ‹çœ‹å„ä¸ªæ•°å­—åˆ†åˆ«ä»£è¡¨ä»€ä¹ˆæ ·å¼ï¼‰ã€‚åŒæ ·åœ°ï¼Œä½ ä¹Ÿå¯ä»¥åªå®šä¹‰é¢œè‰²æˆ–è€…å½¢çŠ¶ã€‚</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å»ºç«‹ä¸¤ä¸ªå‘é‡xå’Œyä½œä¸ºæ¨ªè½´å’Œçºµè½´åæ ‡</span></span><br><span class="line">x &lt;- c(<span class="number">0.</span>  ,  <span class="number">0.15</span>,  <span class="number">0.3</span> ,  <span class="number">0.45</span>,  <span class="number">0.6</span> ,  <span class="number">0.75</span>,  <span class="number">0.9</span> ,  <span class="number">1.05</span>,  <span class="number">1.2</span> ,</span><br><span class="line">        <span class="number">1.35</span>,  <span class="number">1.5</span> ,  <span class="number">1.65</span>,  <span class="number">1.8</span> ,  <span class="number">1.95</span>,  <span class="number">2.1</span> ,  <span class="number">2.25</span>,  <span class="number">2.4</span> ,  <span class="number">2.55</span>,</span><br><span class="line">        <span class="number">2.7</span> ,  <span class="number">2.85</span>)</span><br><span class="line">y &lt;- c(-<span class="number">0.51</span>, -<span class="number">0.29</span>,  <span class="number">1.13</span>, -<span class="number">2.06</span>, -<span class="number">0.63</span>, -<span class="number">0.36</span>,  <span class="number">1.41</span>, -<span class="number">0.24</span>,  <span class="number">1.27</span>,</span><br><span class="line">        <span class="number">0.37</span>,  <span class="number">0.23</span>,  <span class="number">2.96</span>,  <span class="number">2.54</span>,  <span class="number">1.11</span>,  <span class="number">2.92</span>,  <span class="number">0.95</span>,  <span class="number">2.17</span>,  <span class="number">3.41</span>,</span><br><span class="line">        <span class="number">4.87</span>,  <span class="number">5.36</span>) </span><br><span class="line"> </span><br><span class="line">p &lt;- ggplot(<span class="literal">NULL</span>,aes(x,y)) <span class="comment"># NULLè¡¨ç¤ºæˆ‘ä»¬ä¸ä»è¡¨ä¸­å–æ•°æ®ï¼Œç›´æ¥ä½¿ç”¨è‡ªå·±åˆ›å»ºçš„å‘é‡ä½œä¸ºæ•°æ®æº</span></span><br><span class="line">p &lt;- p + geom_line(colour=<span class="string">&quot;red&quot;</span>, linetype=<span class="number">2</span>) <span class="comment"># ç”»ä¸Šä¸€æ¡æ›²çº¿</span></span><br><span class="line">p &lt;- p + geom_point(colour=<span class="string">&quot;blue&quot;</span>, shape=<span class="number">0</span>) <span class="comment"># æŠŠç‚¹ä¹Ÿç”»ä¸Š</span></span><br><span class="line">print(p)</span><br></pre></td></tr></table></figure><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/DaveKim3872/blogpics/20200820105700.png" style="zoom:50%;" /><h3 id="åæ ‡è½´å’Œå›¾è¡¨çš„æ ‡é¢˜ï¼šxlab-ï¼Œylab-å’Œggtitle"><a href="#åæ ‡è½´å’Œå›¾è¡¨çš„æ ‡é¢˜ï¼šxlab-ï¼Œylab-å’Œggtitle" class="headerlink" title="åæ ‡è½´å’Œå›¾è¡¨çš„æ ‡é¢˜ï¼šxlab()ï¼Œylab()å’Œggtitle()"></a>åæ ‡è½´å’Œå›¾è¡¨çš„æ ‡é¢˜ï¼š<code>xlab()</code>ï¼Œ<code>ylab()</code>å’Œ<code>ggtitle()</code></h3><p>è¿™ä¸‰ä¸ªå°±æ²¡å•¥å¥½ç†è§£çš„å•¦ï¼Œ<code>xlab()</code>å’Œ<code>ylab()</code>æ˜æ˜¾å°±æ˜¯è®¾å®šxå’Œyè½´çš„æ ‡é¢˜ï¼ˆä¸å†™è¿™ä¸¤ä¸ªå‡½æ•°çš„è¯å°±é»˜è®¤åƒä¸Šé¢ä¸€æ ·æ˜¾ç¤ºxå’Œyï¼‰ï¼Œ<code>ggtitle()</code>ä¹Ÿå¾ˆæ˜¾ç„¶å°±æ˜¯è®¾å®šå›¾è¡¨çš„æ ‡é¢˜ã€‚è¿™ä¸‰ä¸ªé»˜è®¤éƒ½ä¸æ”¯æŒä¸­æ–‡å“ˆï¼Œå¦‚æœéœ€è¦æ˜¾ç¤ºä¸­æ–‡çš„è¯å¯ä»¥æ‰¾æˆ‘å¸®ä½ è§£å†³ï¼ˆå¯èƒ½å’Œpythonçš„matplotlibä¸€æ ·éœ€è¦ä¿®æ”¹å­—ä½“æ–‡ä»¶ï¼‰ã€‚è¿è¡Œä¸€ä¸‹è¯•è¯•ï¼š</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">p &lt;- p + xlab(<span class="string">&quot;hahahahaha&quot;</span>) + ylab(<span class="string">&quot;hehehehehe&quot;</span>) + ggtitle(<span class="string">&quot;lalalalala&quot;</span>)</span><br><span class="line">print(p)</span><br></pre></td></tr></table></figure><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/DaveKim3872/blogpics/20200820110358.png" style="zoom:50%;" /><h3 id="è®¾å®šå›¾ç‰‡å°ºå¯¸ï¼šä½¿ç”¨options-å‡½æ•°"><a href="#è®¾å®šå›¾ç‰‡å°ºå¯¸ï¼šä½¿ç”¨options-å‡½æ•°" class="headerlink" title="è®¾å®šå›¾ç‰‡å°ºå¯¸ï¼šä½¿ç”¨options()å‡½æ•°"></a>è®¾å®šå›¾ç‰‡å°ºå¯¸ï¼šä½¿ç”¨<code>options()</code>å‡½æ•°</h3><p>å›¾ç”»çš„å®åœ¨æ˜¯å¤ªå°äº†æ€ä¹ˆåŠï¼Ÿå¯ä»¥ä½¿ç”¨<code>options(repr.plot.width=8, repr.plot.height=6)</code>æ¥è§£å†³ã€‚è¿™å¥è¯çš„æ„æ€å°±æ˜¯æŠŠå®½åº¦å’Œé«˜åº¦è®¾ä¸ºæŸä¸ªå€¼ï¼Œè¿™ä¸ªå€¼ä½ å¯ä»¥è‡ªå®šä¹‰ã€‚</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">options(repr.plot.width=<span class="number">8</span>, repr.plot.height=<span class="number">6</span>)</span><br><span class="line">print(p)</span><br></pre></td></tr></table></figure><p>æ•ˆæœå¦‚ä¸‹ï¼š</p><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/DaveKim3872/blogpics/20200820110838.png" style="zoom:50%;" /><h2 id="ä½¿ç”¨NASAè¡Œæ˜Ÿæ•°æ®ç”»åŸºæœ¬æ•£ç‚¹å›¾"><a href="#ä½¿ç”¨NASAè¡Œæ˜Ÿæ•°æ®ç”»åŸºæœ¬æ•£ç‚¹å›¾" class="headerlink" title="ä½¿ç”¨NASAè¡Œæ˜Ÿæ•°æ®ç”»åŸºæœ¬æ•£ç‚¹å›¾"></a>ä½¿ç”¨NASAè¡Œæ˜Ÿæ•°æ®ç”»åŸºæœ¬æ•£ç‚¹å›¾</h2><h3 id="ç»˜åˆ¶è½¨é“å‘¨æœŸå’Œè½¨é“åå¿ƒç‡å…³ç³»çš„æ•£ç‚¹å›¾"><a href="#ç»˜åˆ¶è½¨é“å‘¨æœŸå’Œè½¨é“åå¿ƒç‡å…³ç³»çš„æ•£ç‚¹å›¾" class="headerlink" title="ç»˜åˆ¶è½¨é“å‘¨æœŸå’Œè½¨é“åå¿ƒç‡å…³ç³»çš„æ•£ç‚¹å›¾"></a>ç»˜åˆ¶è½¨é“å‘¨æœŸå’Œè½¨é“åå¿ƒç‡å…³ç³»çš„æ•£ç‚¹å›¾</h3><p>åœ¨æœ¬èŠ‚ä¸­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨æ•°æ®åº“ä¸­çš„ä¸¤ä¸ªå…³é”®å‚æ•°æ¥åˆ›å»º2Då›¾å½¢ï¼špl_orbopriodï¼ˆè½¨é“å‘¨æœŸperiodï¼‰å’Œpl_orbeccenï¼ˆè½¨é“åå¿ƒç‡eccentricityï¼‰ã€‚è½¨é“å‘¨æœŸå®šä¹‰äº†è¡Œæ˜Ÿå®Œæˆç»•æ’æ˜Ÿè½¨é“æ‰€èŠ±è´¹çš„æ—¶é—´ï¼›è½¨é“åå¿ƒç‡æ˜¯ä»‹äº0å’Œ1ä¹‹é—´çš„æ•°å­—ï¼Œå®ƒç¡®å®šè¡Œæ˜Ÿè½¨é“æ˜¯å®Œç¾çš„åœ†å½¢ï¼ˆ0ï¼‰è¿˜æ˜¯æ¤­åœ†å½¢ï¼ˆ1ï¼‰ã€‚</p><h4 id="æ•°æ®é¢„å¤„ç†â€”â€”åˆ†ç»„ã€æŒ‰éœ€å–å‡ºå­é›†"><a href="#æ•°æ®é¢„å¤„ç†â€”â€”åˆ†ç»„ã€æŒ‰éœ€å–å‡ºå­é›†" class="headerlink" title="æ•°æ®é¢„å¤„ç†â€”â€”åˆ†ç»„ã€æŒ‰éœ€å–å‡ºå­é›†"></a>æ•°æ®é¢„å¤„ç†â€”â€”åˆ†ç»„ã€æŒ‰éœ€å–å‡ºå­é›†</h4><p>é¦–å…ˆï¼Œç”±äºæˆ‘ä»¬æƒ³æ¯”è¾ƒç”¨ä¸åŒæ–¹æ³•å‘ç°çš„ç³»å¤–è¡Œæ˜Ÿçš„å±æ€§ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¹‹å‰å­¦ä¹ è¿‡çš„åˆ†ç»„ç»Ÿè®¡æ–¹æ³•ï¼Œå¯¹æ‰€æœ‰è¡Œæ˜Ÿçš„æ•°æ®æŒ‰ç…§â€œpl_discmethodâ€åˆ—ä¹Ÿå°±æ˜¯â€œå‘ç°æ–¹å¼â€å¯¹æ•°æ®è¿›è¡Œåˆ†ç»„å’Œé¢‘ç‡çš„ç»Ÿè®¡ã€‚</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æŒ‰ç…§â€œpl_discmethodâ€åˆ—å¯¹æ•°æ®è¿›è¡Œåˆ†ç»„å¹¶ç”Ÿæˆé¢‘ç‡ç»Ÿè®¡è¡¨</span></span><br><span class="line">kdf_new &lt;- kdf %&gt;%</span><br><span class="line">    group_by(pl_discmethod) %&gt;%</span><br><span class="line">    summarise(n = n())</span><br><span class="line"></span><br><span class="line">print(kdf_new)</span><br></pre></td></tr></table></figure><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/DaveKim3872/blogpics/20200820112141.png" style="zoom:50%;" /><p>å‡è®¾æˆ‘ä»¬æƒ³è¦æŠŠTransitã€Radial Velocityã€Imagingä¸‰ç§â€œå‘ç°æ–¹å¼â€çš„è¡Œæ˜Ÿæ”¾åˆ°ä¸€ä¸ªè¡¨é‡Œå»ä½œå›¾ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ä¸¤ç§æ–¹æ³•åˆ¶ä½œè¿™æ ·ä¸€ä¸ªæ•°æ®é›†ã€‚ç¬¬ä¸€ç§æ˜¯ä½¿ç”¨<code>filter()</code>å…ˆæŒ‰ç…§å‘ç°æ–¹å¼åˆ†åˆ«æŠŠè¿™ä¸‰ç§è¿‡æ»¤åˆ°ä¸‰ä¸ªè¡¨ä¸­ï¼Œå†é€šè¿‡ä¸€ä¸ªå«åš<code>rbind()</code>çš„å‡½æ•°æŠŠè¿™ä¸‰ä¸ªè¡¨å †å èµ·æ¥ï¼Œå°±åˆå¹¶æˆäº†ä¸€ä¸ªè¡¨ã€‚</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åˆ†åˆ«è¿‡æ»¤å‡ºä¸‰ä¸ªå‘ç°æ–¹å¼çš„æ‰€æœ‰æ•°æ®</span></span><br><span class="line">T_group &lt;- kdf %&gt;%</span><br><span class="line">    filter(pl_discmethod == <span class="string">&quot;Transit&quot;</span>)</span><br><span class="line">RV_group &lt;- kdf %&gt;%</span><br><span class="line">    filter(pl_discmethod == <span class="string">&quot;Radial Velocity&quot;</span>)</span><br><span class="line">I_group&lt;- kdf %&gt;%</span><br><span class="line">    filter(pl_discmethod == <span class="string">&quot;Imaging&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># å †å å¹¶æ‰“å°</span></span><br><span class="line">plot.df &lt;- rbind(T_group, RV_group, I_group)</span><br><span class="line">print(plot.df)</span><br></pre></td></tr></table></figure><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/DaveKim3872/blogpics/20200820123529.png" style="zoom:50%;" /><p>ç¬¬äºŒç§æ–¹å¼æ˜¯åœ¨è¿‡æ»¤å™¨ä¸­ç›´æ¥ä½¿ç”¨â€œæˆ–â€ï¼Œä¹Ÿå°±æ˜¯<code>|</code>ç¬¦å·ï¼Œæ¥å–ä¸‰ä¸ªæ¡ä»¶çš„å¹¶é›†ã€‚ï¼ˆæ˜¾ç„¶è¿™ç§æ›´æ¨èï¼‰</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">plot.df &lt;- kdf %&gt;%</span><br><span class="line">    filter(pl_discmethod == <span class="string">&quot;Transit&quot;</span> | pl_discmethod == <span class="string">&quot;Radial Velocity&quot;</span> | pl_discmethod == <span class="string">&quot;Imaging&quot;</span>)</span><br><span class="line">print(plot.df)</span><br></pre></td></tr></table></figure><p>è¿™ä¸¤è¡Œä»£ç çš„è¾“å‡ºå’Œä¸Šé¢çš„åŸºæœ¬æ˜¯ä¸€æ ·çš„ï¼Œå¦‚æœçœ‹ä¸Šå»ä¸å¤ªä¸€æ ·ï¼Œé‚£æ˜¯å› ä¸ºå †å æ˜¯ä¸€ç§ä¸€ç§å èµ·æ¥ï¼Œè€Œå¤šæ¡ä»¶ç­›é€‰æ˜¾ç„¶æ˜¯åœ¨åŸè¡¨ä¸­ä¸€è¡Œä¸€è¡Œç­›é€‰çš„ï¼Œé¡ºåºä¼šä¸å¤ªä¸€æ ·ï¼Œæ€»å½’æ²¡ä»€ä¹ˆåŒºåˆ«å°±æ˜¯äº†ã€‚</p><h4 id="æŒ‰ç…§å–å‡ºçš„æ•°æ®é›†ç”»æ•£ç‚¹å›¾"><a href="#æŒ‰ç…§å–å‡ºçš„æ•°æ®é›†ç”»æ•£ç‚¹å›¾" class="headerlink" title="æŒ‰ç…§å–å‡ºçš„æ•°æ®é›†ç”»æ•£ç‚¹å›¾"></a>æŒ‰ç…§å–å‡ºçš„æ•°æ®é›†ç”»æ•£ç‚¹å›¾</h4><p>æˆ‘ä»¬æ¥å˜æ¸…ä¸€ä¸‹è¦æ±‚ï¼šç»˜åˆ¶æ•£ç‚¹å›¾ï¼Œæ¨ªè½´æ˜¯è½¨é“å‘¨æœŸï¼Œçºµè½´æ˜¯è½¨é“åå¿ƒç‡ï¼Œç”¨é¢œè‰²åŒºåˆ†ä¸åŒçš„â€œå‘ç°æ–¹å¼â€â€”â€”è¿™ä¸ªåŠŸèƒ½å¯ä»¥åœ¨ç”Ÿæˆç”»å¸ƒçš„æ—¶å€™ä½¿ç”¨<code>colour = pl_discmethod</code>å‚æ•°æ¥å®ç°ã€‚ggplot2ä¸­ï¼Œå¦‚æœæˆ‘ä»¬æƒ³è®©é¢œè‰²colouræˆ–è€…å°ºå¯¸sizeè¿™ç§æ ·å¼çš„å·®åˆ«æ¥åŒºåˆ†ä¸åŒç±»åˆ«ï¼Œéœ€è¦åœ¨<code>ggplot()</code>çš„å‚æ•°<code>aes()</code>ä¸­è¡¥å……å½¢å¦‚aes(x, y, size=â€¦, colour=â€¦)è¿™ç§å½¢å¼çš„å‚æ•°ã€‚è€Œå¦‚æœæˆ‘ä»¬åªæ˜¯æƒ³è®¾å®šç”»çº¿æˆ–è€…ç”»ç‚¹çš„å°ºå¯¸ï¼Œåˆ™æ˜¯åœ¨<code>geom_line()</code>æˆ–è€…<code>geom_point()</code>å‡½æ•°ä¸­æŒ‡å®š<code>colour=..., size=...</code>ç­‰ï¼ŒåŒæ—¶ä½¿ç”¨<code>scale_colour_discrete(name=&#39;name&#39;)</code>æˆ–è€…<code>scale_size=(name=name)</code>æ¥ç»˜åˆ¶å›¾ä¾‹å’Œå›¾ä¾‹çš„titleã€‚è¿™ä¸€ç‚¹è¦è®°å¾—åŒºåˆ†ä¸€ä¸‹ã€‚</p><p>é¦–å…ˆè¾“å…¥xyè½´å‚æ•°å’Œé¢œè‰²å‚æ•°ç”Ÿæˆç”»å¸ƒï¼Œç„¶åå†åŠ å…¥ç»˜åˆ¶æ•£ç‚¹çš„å‡½æ•°<code>geom_point()</code>ï¼Œä¼¼ä¹å°±å¤§åŠŸå‘Šæˆäº†ã€‚æˆ‘ä»¬æ¥å†™ä¸€ä¸‹ä»£ç ï¼š</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ç”¨ pl_discmethod è¿™ä¸€åˆ—æ•°æ®æ¥åŒºåˆ†é¢œè‰²</span></span><br><span class="line">p &lt;- ggplot(plot.df, aes(pl_orbper,pl_orbeccen, colour = pl_discmethod)) + geom_point()</span><br><span class="line"><span class="comment"># åŠ ä¸Šä¸¤ä¸ªåæ ‡è½´çš„æ ‡é¢˜</span></span><br><span class="line">p &lt;- p + xlab(<span class="string">&quot;Period (Days)&quot;</span>) + ylab(<span class="string">&quot;Eccentricity&quot;</span>)</span><br><span class="line"><span class="comment"># å›¾ç‰‡æå¤§ä¸€ç‚¹æ–¹ä¾¿çœ‹</span></span><br><span class="line">options(repr.plot.width=<span class="number">9</span>, repr.plot.height=<span class="number">6</span>)</span><br><span class="line">print(p)</span><br></pre></td></tr></table></figure><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/DaveKim3872/blogpics/20200820125621.png" style="zoom:50%;" /><p>å•Šè¿™â€¦â€¦ç‚¹æ€ä¹ˆéƒ½æŒ¤åœ¨ä¸€èµ·äº†ï¼Œå³è¾¹ç©ºç©ºè¡è¡ï¼Œå·¦è¾¹å‡ ä¹å˜æˆä¸€æ¡å®çº¿ï¼Œè¿™èƒ½çœ‹å‡ºæ¥ä¸ªå•¥ï¼Ÿæ‰€ä»¥æˆ‘ä»¬ä¸èƒ½å°±æ­¤ç½¢ä¼‘ï¼Œè¿˜æ˜¯è¦ç»§ç»­æä¸€ä¸‹ã€‚</p><p>æˆ‘ä»¬å‘ç°ï¼Œé—®é¢˜ä¸»è¦æ˜¯å‡ºåœ¨å› ä¸ºxè½´çš„å°ºåº¦ä¸Šã€‚yè½´çš„æ•°æ®åªåœ¨0-1çš„åŒºé—´ä¸Šå˜åŒ–ï¼Œè€Œè½¨é“å‘¨æœŸé™¤äº†æä¸ªåˆ«çš„å¤§æ•°å€¼ä»¥å¤–ï¼Œä¹Ÿåœ¨è¾ƒå°çš„æ•°å­—åŒºé—´ä¸Šå¯†é›†åˆ†å¸ƒã€‚è¿™ç§ä¸å‡åŒ€åˆ†å¸ƒæˆ‘ä»¬ç§°ä¹‹ä¸ºå€¾æ–œåˆ†å¸ƒ/åæ–œåˆ†å¸ƒã€‚è¿™æ—¶å€™å¦‚æœæˆ‘ä»¬èƒ½æŠŠåˆ»åº¦è½¬ä¸ºéçº¿æ€§çš„å½¢å¼ï¼Œå°±èƒ½å¤Ÿæ¸…æ™°åœ°å±•ç¤ºæ›´å¤šæ•°æ®ã€‚</p><p>æˆ‘ä»¬å°è¯•åœ¨ç»˜å›¾è¿‡ç¨‹ä¸­å¢åŠ <code>scale_x_log10()</code>æŠŠxè½´å°ºåº¦è½¬æ¢æˆä»¥10ä¸ºåº•çš„å¯¹æ•°åˆ»åº¦æ¥ç»˜åˆ¶è¿™ä¸ªæ•£ç‚¹å›¾ï¼ˆå¯¹åº”çš„å¦‚æœæ•°æ®åœ¨yè½´ä¸Šå€¾æ–œåˆ†å¸ƒå¯ä»¥ç”¨<code>scale_y_log10()</code>ï¼‰ã€‚åŒæ—¶ï¼Œæˆ‘ä¹Ÿå¸Œæœ›èƒ½å¤Ÿä½¿ç”¨<code>scale_colour_discrete(name = &quot;Discovery Method&quot;)</code>ç»™å›¾ä¾‹å‘½åæˆâ€œDiscovery Methodâ€ï¼Œæ¯•ç«Ÿâ€œpl_discmethodâ€å¾ˆå°‘æœ‰äººèƒ½ç†è§£æ˜¯ä»€ä¹ˆæ„æ€ã€‚</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å’Œä¸Šé¢ä¸€æ ·çš„ä»£ç </span></span><br><span class="line">p &lt;- ggplot(plot.df, aes(pl_orbper,pl_orbeccen, colour = pl_discmethod)) + geom_point()</span><br><span class="line">p &lt;- p + xlab(<span class="string">&quot;Period (Days)&quot;</span>) + ylab(<span class="string">&quot;Eccentricity&quot;</span>)</span><br><span class="line">p  &lt;- p + ggtitle(<span class="string">&quot;Figure 1: Discovery methods&quot;</span>)</span><br><span class="line"><span class="comment"># xè½´è½¬æ¢ä¸ºéçº¿æ€§çš„å¯¹æ•°å°ºåº¦ï¼ŒåŒæ—¶ç»™åŒºåˆ†é¢œè‰²çš„å›¾ä¾‹åŠ ä¸Šæ ‡é¢˜</span></span><br><span class="line">p &lt;- p + scale_x_log10() + scale_colour_discrete(name = <span class="string">&quot;Discovery Method&quot;</span>)</span><br><span class="line"><span class="comment"># å›¾æå¤§ç‚¹</span></span><br><span class="line">options(repr.plot.width=<span class="number">9</span>, repr.plot.height=<span class="number">6</span>)</span><br><span class="line">print(p)</span><br></pre></td></tr></table></figure><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/DaveKim3872/blogpics/20200820140626.png" style="zoom:50%;" /><p>è¿™æ ·æ•ˆæœå°±å¾ˆæ£’æ£’äº†ã€‚</p><p>â€œè¿™å¼ å›¾æ˜¾ç¤ºäº†æœ‰å…³æˆ‘ä»¬å¤ªé˜³ç³»çš„ä¸€äº›æœ‰è¶£ä¿¡æ¯ã€‚ å°½ç®¡æˆ‘ä»¬ç³»ç»Ÿä¸­çš„æ‰€æœ‰è¡Œæ˜Ÿéƒ½å…·æœ‰ç›¸ä¼¼çš„ä½åå¿ƒç‡ï¼Œä½†ç³»å¤–è¡Œæ˜Ÿçš„åå¿ƒç‡èŒƒå›´æ›´å¹¿ï¼Œä»0åˆ°0.8ã€‚ åŒæ ·ï¼Œä½åå¿ƒç‡çš„è¡Œæ˜Ÿçš„å‘¨æœŸå¾ˆçŸ­ï¼Œè¿™è¡¨æ˜å®ƒä»¬ç¦»æ’æ˜Ÿéå¸¸è¿‘ï¼Œè¿™æ˜¯æˆ‘ä»¬åœ¨å¤ªé˜³ç³»ä¸­æ²¡æœ‰è§‚å¯Ÿåˆ°çš„ï¼Œè¿™ä½¿æˆ‘ä»¬æˆä¸ºç¨€æœ‰ä¸”ç‹¬ç‰¹çš„è¡Œæ˜Ÿç³»ã€‚â€</p><h3 id="ç»˜åˆ¶æ’æ˜Ÿè´¨é‡å’Œè½¨é“å‘¨æœŸå…³ç³»çš„æ•£ç‚¹å›¾"><a href="#ç»˜åˆ¶æ’æ˜Ÿè´¨é‡å’Œè½¨é“å‘¨æœŸå…³ç³»çš„æ•£ç‚¹å›¾" class="headerlink" title="ç»˜åˆ¶æ’æ˜Ÿè´¨é‡å’Œè½¨é“å‘¨æœŸå…³ç³»çš„æ•£ç‚¹å›¾"></a>ç»˜åˆ¶æ’æ˜Ÿè´¨é‡å’Œè½¨é“å‘¨æœŸå…³ç³»çš„æ•£ç‚¹å›¾</h3><p>ä¸‹é¢è¦æ±‚ç»˜åˆ¶<strong>xè½´å’Œyè½´å‡ä½¿ç”¨å¯¹æ•°å°ºåº¦</strong>çš„æ’æ˜Ÿè´¨é‡ï¼ˆst_massï¼‰ä¸è¡Œæ˜Ÿè½¨é“å‘¨æœŸï¼ˆpl_orbperï¼‰çš„å‡½æ•°å…³ç³»ï¼Œæˆ‘ä»¬è¯•è¯•ç»™æ•°æ®ç‚¹æŒ‡å®šsizeä¸º10ä¸”é¢œè‰²ä¸ºè“è‰²ï¼Œçœ‹çœ‹æ•ˆæœæ˜¯å¦å¾ˆæ€ªå¼‚ã€‚</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ•°æ®ç‚¹æŒ‡å®šsizeä¸º10ä¸”é¢œè‰²ä¸ºè“è‰²ï¼Œæ³¨æ„ä¸éœ€è¦åŒºåˆ†ç±»çš„æƒ…å†µä¸‹ï¼Œæ ·å¼å‚æ•°æ˜¯å†™åœ¨aeså¤–é¢çš„</span></span><br><span class="line">p &lt;- ggplot(kdf, aes(pl_orbper,st_mass)) + geom_point(size=<span class="number">10</span>,colour=<span class="string">&#x27;blue&#x27;</span>)</span><br><span class="line"><span class="comment"># è®¾ç½®xå’Œyä¸¤ä¸ªåæ ‡è½´æ ‡é¢˜</span></span><br><span class="line">p  &lt;- p + xlab(<span class="string">&#x27;Planet Orbital Period (days)&#x27;</span>) + ylab(<span class="string">&#x27;Stellar Mass (Solar mass)&#x27;</span>)</span><br><span class="line"><span class="comment"># è®¾ç½®å›¾ç‰‡æ ‡é¢˜</span></span><br><span class="line">p &lt;- p + ggtitle(<span class="string">&#x27;Figure 2: Log-Log Plot&#x27;</span>)</span><br><span class="line"><span class="comment"># è½¬æ¢åæ ‡è½´å°ºåº¦ï¼Œxè½´å’Œyè½´å‡ä½¿ç”¨å¯¹æ•°å°ºåº¦</span></span><br><span class="line">p &lt;- p + scale_x_log10() + scale_y_log10()</span><br><span class="line"><span class="comment"># ç”»å¤§ä¸€ç‚¹</span></span><br><span class="line">options(repr.plot.width=<span class="number">7</span>, repr.plot.height=<span class="number">7</span>)</span><br><span class="line">print(p)</span><br></pre></td></tr></table></figure><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/DaveKim3872/blogpics/20200820142100.png" style="zoom:50%;" /><h2 id="ç»˜åˆ¶æ›´å¤æ‚çš„æ•£ç‚¹å›¾"><a href="#ç»˜åˆ¶æ›´å¤æ‚çš„æ•£ç‚¹å›¾" class="headerlink" title="ç»˜åˆ¶æ›´å¤æ‚çš„æ•£ç‚¹å›¾"></a>ç»˜åˆ¶æ›´å¤æ‚çš„æ•£ç‚¹å›¾</h2><p>æ¥ä¸‹æ¥è¿™æ®µä»£ç å¯èƒ½çœ‹èµ·æ¥å¾ˆå”¬äººï¼Œä½†æ˜¯åˆ†è§£å¼€æ¥ç†è§£è¿˜æ˜¯æ¯”è¾ƒç›´è§‚çš„ã€‚</p><p>æˆ‘ä»¬çš„ç›®çš„æ˜¯ä½¿ç”¨é¢œè‰²åŒºåˆ†â€œè¡Œæ˜Ÿå¹³è¡¡æ¸©åº¦â€çš„å·®åˆ«ï¼Œå¸Œæœ›æ•£ç‚¹çš„é¢œè‰²ä¸å†æ˜¯ç®€å•çš„çº¢ç»¿è“ï¼Œè€Œæ˜¯å¯ä»¥åœ¨ä¸€ä¸ªè‰²å¸¦ä¸­å¹³æ»‘è¿‡åº¦ï¼Œå°±å¥½åƒç”¨çº¢å¤–çº¿æˆåƒä»ªæ‹å‡ºæ¥çš„çƒ­åŠ›å›¾ä¸€æ ·ï¼Œé¢œè‰²è¶Šå†·ä»£è¡¨æ¸©åº¦è¶Šä½ï¼Œé¢œè‰²è¶Šæš–ä»£è¡¨æ¸©åº¦è¶Šé«˜ï¼Œé¢œè‰²æ€»ä½“åœ¨çº¢å’Œè“ä¹‹é—´è¿‡æ¸¡ã€‚</p><p>ä½†æ˜¯æˆ‘ä»¬ä¼šé‡åˆ°ä¸€äº›é˜»åŠ›ã€‚é¦–å…ˆæ˜¯å¹³æ»‘è¿‡æ¸¡çš„â€œjet coloursâ€åœ¨Rè¯­è¨€ä¸­å¹¶æ²¡æœ‰å®šä¹‰å‡ºæ¥ï¼Œæˆ‘ä»¬éœ€è¦å•ç‹¬ä½¿ç”¨ä¸€ä¸ªå‘é‡ã€åˆ©ç”¨<code>colorRampPalette()</code>è°ƒè‰²ç›˜å‡½æ•°åˆ›å»ºä¸€ä¸ªå¹³æ»‘è¿‡æ¸¡çš„jetè‰²å¸¦ã€‚ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è‡ªå·±å»å®šä¹‰è‰²è°±èŒƒå›´ï¼šè“è‰²ã€é›é’ã€äº®é»„ã€çº¢è‰²ä½œä¸ºå››ä¸ªåŸºå‡†ç‚¹è¿‡æ¸¡çš„å¹³æ»‘è‰²å¸¦</span></span><br><span class="line">jet.colors &lt;-</span><br><span class="line">  colorRampPalette(c(<span class="string">&quot;#00007F&quot;</span>, <span class="string">&quot;blue&quot;</span>, <span class="string">&quot;#007FFF&quot;</span>, <span class="string">&quot;cyan&quot;</span>,</span><br><span class="line">                     <span class="string">&quot;#7FFF7F&quot;</span>, <span class="string">&quot;yellow&quot;</span>, <span class="string">&quot;#FF7F00&quot;</span>, <span class="string">&quot;red&quot;</span>, <span class="string">&quot;#7F0000&quot;</span>))</span><br></pre></td></tr></table></figure><p>ç¬¬äºŒä¸ªæ˜¯åœ¨åŸå§‹æ•°æ®è¡¨ä¸­ï¼Œæœ‰äº›æ˜Ÿçƒç”±äºå°šæœªæ¢æµ‹ï¼Œæ‰€ä»¥æ¸©åº¦æ ‡æ³¨ä¸ºâ€œNAâ€ã€‚è¿™å¯¹äºç”»å›¾çš„å‡½æ•°æ¥è¯´æ˜¯ä¸€ä¸ªå›°æ‰°ï¼Œå› ä¸ºæ— æ³•ç»™å®ƒåˆ†é…é¢œè‰²ã€‚æˆ‘ä»¬å¸Œæœ›èƒ½å¤Ÿç®€å•åœ°å°†NAçš„æ•°æ®æ”¹å†™ä¸º1ï¼Œä¿è¯å›¾åƒé¡ºåˆ©ç”Ÿæˆã€‚<code>is.na(table[&quot;col&quot;])</code>å¯ä»¥è¿”å›ä¸€ä¸ªå‘é‡ï¼Œè¿™ä¸ªå‘é‡åŒ…å«äº†tablenameè¡¨å†…colè¿™ä¸€åˆ—çš„å€¼ä¸ºNAçš„æ‰€æœ‰è¡Œå·ã€‚æˆ‘ä»¬ä½¿ç”¨è¿™ä¸ªè¡Œå·å’Œcolä½œä¸ºä¸‹æ ‡ï¼ŒæŠŠæ‰€æœ‰NAæ”¹ä¸º1ã€‚</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># is.na(kdf[&#x27;pl_eqt&#x27;])è¾“å‡ºkdfè¡¨å†…pl_eqtè¿™ä¸€åˆ—ä¸ºNAçš„æ‰€æœ‰è¡Œåºå·çš„å‘é‡ï¼ŒæŠŠè¿™äº›è¡Œçš„pl_eqtæ”¹ä¸º1</span></span><br><span class="line">kdf[is.na(kdf[<span class="string">&#x27;pl_eqt&#x27;</span>]),<span class="string">&#x27;pl_eqt&#x27;</span>] &lt;- <span class="number">1</span></span><br></pre></td></tr></table></figure><p>æœ€åä¸€ä¸ªé—®é¢˜å°±æ˜¯ï¼Œå‰é¢åˆ›å»ºçš„è‰²å¸¦æ€ä¹ˆè®¾ç½®ä¸ºæˆ‘ä»¬ç”»å›¾çš„é¢œè‰²ï¼Ÿè¿˜è®°å¾—ä¸Šé¢æœ‰ä¸€ä¸ªç»™å›¾ä¾‹å‘½åçš„å‡½æ•°ï¼Œæˆ‘ä»¬åªéœ€è¦åœ¨è¿™ä¸ªå‡½æ•°é‡ŒåŠ ä¸€ä¸ª<code>colours=jet.colors(10)</code>å°±å¯ä»¥è°ƒç”¨æˆ‘ä»¬çš„è‰²å¸¦ï¼Œå…¶ä¸­10çš„æ„æ€æ˜¯æˆ‘ä»¬ä½¿ç”¨è¿™ä¸ªè‰²å¸¦ä¸­çš„10ä¸ªè‰²é˜¶ï¼Œä¹Ÿå°±æ˜¯åªç”¨è¿™ä¸ªè‰²å¸¦ä¸­çš„10ä¸ªâ€œæ–­ç‚¹â€ä½œä¸ºæˆ‘ä»¬ç»˜å›¾çš„é¢œè‰²ã€‚</p><p>äº†è§£äº†è¿™äº›ï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹å®Œæ•´çš„ä»£ç ã€‚</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è‡ªå·±å»å®šä¹‰è‰²è°±èŒƒå›´ï¼šè“è‰²ã€é›é’ã€äº®é»„ã€çº¢è‰²ä½œä¸ºå››ä¸ªåŸºå‡†ç‚¹è¿‡æ¸¡çš„å¹³æ»‘è‰²å¸¦</span></span><br><span class="line">jet.colors &lt;-</span><br><span class="line">  colorRampPalette(c(<span class="string">&quot;#00007F&quot;</span>, <span class="string">&quot;blue&quot;</span>, <span class="string">&quot;#007FFF&quot;</span>, <span class="string">&quot;cyan&quot;</span>,</span><br><span class="line">                     <span class="string">&quot;#7FFF7F&quot;</span>, <span class="string">&quot;yellow&quot;</span>, <span class="string">&quot;#FF7F00&quot;</span>, <span class="string">&quot;red&quot;</span>, <span class="string">&quot;#7F0000&quot;</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># is.na(kdf[&#x27;pl_eqt&#x27;])è¾“å‡ºkdfè¡¨å†…pl_eqtè¿™ä¸€åˆ—ä¸ºNAçš„æ‰€æœ‰è¡Œåºå·çš„å‘é‡ï¼ŒæŠŠè¿™äº›è¡Œçš„pl_eqtæ”¹ä¸º1</span></span><br><span class="line">kdf[is.na(kdf[<span class="string">&#x27;pl_eqt&#x27;</span>]),<span class="string">&#x27;pl_eqt&#x27;</span>] &lt;- <span class="number">1</span></span><br><span class="line"><span class="comment"># åˆ›å»ºç”»å¸ƒï¼Œpl_orbperä½œä¸ºæ¨ªè½´ï¼Œst_massä½œä¸ºçºµè½´ï¼Œä½¿ç”¨é¢œè‰²ç¼–ç æ•°æ®+ç»˜åˆ¶æ•£ç‚¹</span></span><br><span class="line">p &lt;- ggplot(kdf, aes(pl_orbper,st_mass,colour=pl_eqt)) + geom_point()</span><br><span class="line"><span class="comment"># åˆ›å»ºè‰²å¸¦å›¾ä¾‹å’Œæ ‡é¢˜</span></span><br><span class="line">p &lt;- p + scale_colour_gradientn(name=<span class="string">&#x27;Planet Equilibrium Temperature (K)&#x27;</span>,</span><br><span class="line">                              colours=jet.colors(<span class="number">10</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ ‡è®°åæ ‡è½´å’Œå›¾è¡¨æ ‡é¢˜</span></span><br><span class="line">p &lt;- p + xlab(<span class="string">&#x27;Planet Orbital Period (days)&#x27;</span>) + ylab(<span class="string">&#x27;Solar Mass (Solar mass)&#x27;</span>) + ggtitle(<span class="string">&#x27;Figure 3: Colour-Coded scatter plot&#x27;</span>)</span><br><span class="line"><span class="comment"># ä¸¤ä¸ªåæ ‡è½´éƒ½ç”¨log10å°ºåº¦</span></span><br><span class="line">p &lt;- p + scale_x_log10() + scale_y_log10()</span><br><span class="line"><span class="comment"># è®¾å®šä¸€ä¸‹ç”»å¸ƒå°ºå¯¸</span></span><br><span class="line">options(repr.plot.width=<span class="number">7</span>, repr.plot.height=<span class="number">5</span>)</span><br><span class="line">print(p)</span><br></pre></td></tr></table></figure><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/DaveKim3872/blogpics/20200820144213.png" style="zoom:67%;" /><p>ç»“æœéå¸¸çš„amazingå•Šï¼æ¸©åº¦åˆ†å¸ƒä¸€ç›®äº†ç„¶ï¼Œå¤„äºå·¦ä¸Šè§’çš„æ˜æ˜¾æ¸©åº¦åé«˜ã€‚@Keren Wang è¯·é—®è¿™ä¸ªä½ ç”¨excelèƒ½ç”»å˜›ï¼Ÿä¸‰ä¸ªç»´åº¦ï¼Œå¹³æ»‘è¿‡æ¸¡ï¼Œç”»æ­»ä½ ã€‚</p><p>å½“ç„¶ä½ ä¹Ÿå¯ä»¥è¯•ç€ç”¨sizeæ¥ååº”æ¸©åº¦çš„å·®åˆ«ï¼šæ¸©åº¦è¶Šé«˜ç‚¹è¶Šå¤§ã€‚è¿™éƒ¨åˆ†è¯•ç€è‡ªå·±ç†è§£ä¸€ä¸‹æƒå½“å¤ä¹ äº†ï¼Œåæ­£æˆ‘ä¹Ÿæ˜¯è‡ªå·±è¯•å‡ºæ¥çš„ï¼ˆç”¨ä½ è€å¸ˆçš„è¯è¯´ï¼šå¤šè¯•å‡ érun several more goesï¼‰ï¼Œç›´æ¥æ”¾ä»£ç ï¼š</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># is.na(kdf[&#x27;pl_eqt&#x27;])è¾“å‡ºkdfè¡¨å†…pl_eqtè¿™ä¸€åˆ—ä¸ºNAçš„æ‰€æœ‰è¡Œåºå·çš„å‘é‡ï¼ŒæŠŠè¿™äº›è¡Œçš„pl_eqtæ”¹ä¸º1</span></span><br><span class="line">kdf[is.na(kdf[<span class="string">&#x27;pl_eqt&#x27;</span>]),<span class="string">&#x27;pl_eqt&#x27;</span>] &lt;- <span class="number">1</span></span><br><span class="line"><span class="comment"># åˆ›å»ºç”»å¸ƒï¼Œpl_orbperä½œä¸ºæ¨ªè½´ï¼Œst_massä½œä¸ºçºµè½´ï¼Œä½¿ç”¨â€œå°ºå¯¸/10â€ ç¼–ç æ•°æ®+ç»˜åˆ¶æ•£ç‚¹</span></span><br><span class="line">p &lt;- ggplot(kdf, aes(pl_orbper,st_mass,size=pl_eqt/<span class="number">10</span>)) + geom_point()</span><br><span class="line"><span class="comment"># åˆ›å»ºå°ºå¯¸å›¾ä¾‹å’Œæ ‡é¢˜</span></span><br><span class="line">p &lt;- p + scale_size(name=<span class="string">&#x27;Planet Equilibrium Temperature (K)&#x27;</span>)</span><br><span class="line"><span class="comment"># æ ‡è®°åæ ‡è½´å’Œå›¾è¡¨æ ‡é¢˜</span></span><br><span class="line">p &lt;- p + xlab(<span class="string">&#x27;Planet Orbital Period (days)&#x27;</span>) + ylab(<span class="string">&#x27;Solar Mass (Solar mass)&#x27;</span>) + ggtitle(<span class="string">&#x27;Figure 3: Colour-Coded scatter plot&#x27;</span>)</span><br><span class="line"><span class="comment"># ä¸¤ä¸ªåæ ‡è½´éƒ½ç”¨log10å°ºåº¦</span></span><br><span class="line">p &lt;- p + scale_x_log10() + scale_y_log10()</span><br><span class="line"><span class="comment"># è®¾å®šä¸€ä¸‹ç”»å¸ƒå°ºå¯¸</span></span><br><span class="line">options(repr.plot.width=<span class="number">7</span>, repr.plot.height=<span class="number">5</span>)</span><br><span class="line">print(p)</span><br></pre></td></tr></table></figure><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/DaveKim3872/blogpics/20200820145041.png" style="zoom: 67%;" /><p>æˆ–è€…åœ¨å½©è‰²å›¾çš„åŸºç¡€ä¸Šç›´æ¥æ”¹ï¼š</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è‡ªå·±å»å®šä¹‰è‰²è°±èŒƒå›´ï¼šè“è‰²ã€é›é’ã€äº®é»„ã€çº¢è‰²ä½œä¸ºå››ä¸ªåŸºå‡†ç‚¹è¿‡æ¸¡çš„å¹³æ»‘è‰²å¸¦</span></span><br><span class="line">jet.colors &lt;-</span><br><span class="line">  colorRampPalette(c(<span class="string">&quot;#00007F&quot;</span>, <span class="string">&quot;blue&quot;</span>, <span class="string">&quot;#007FFF&quot;</span>, <span class="string">&quot;cyan&quot;</span>,</span><br><span class="line">                     <span class="string">&quot;#7FFF7F&quot;</span>, <span class="string">&quot;yellow&quot;</span>, <span class="string">&quot;#FF7F00&quot;</span>, <span class="string">&quot;red&quot;</span>, <span class="string">&quot;#7F0000&quot;</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># is.na(kdf[&#x27;pl_eqt&#x27;])è¾“å‡ºkdfè¡¨å†…pl_eqtè¿™ä¸€åˆ—ä¸ºNAçš„æ‰€æœ‰è¡Œåºå·çš„å‘é‡ï¼ŒæŠŠè¿™äº›è¡Œçš„pl_eqtæ”¹ä¸º1</span></span><br><span class="line">kdf[is.na(kdf[<span class="string">&#x27;pl_eqt&#x27;</span>]),<span class="string">&#x27;pl_eqt&#x27;</span>] &lt;- <span class="number">1</span></span><br><span class="line"><span class="comment"># åˆ›å»ºç”»å¸ƒï¼Œpl_orbperä½œä¸ºæ¨ªè½´ï¼Œst_massä½œä¸ºçºµè½´ï¼Œä½¿ç”¨é¢œè‰²ç¼–ç æ•°æ®+ç»˜åˆ¶æ•£ç‚¹</span></span><br><span class="line">p &lt;- ggplot(kdf, aes(pl_orbper,st_mass,colour=pl_eqt,size=pl_eqt/<span class="number">10</span>)) + geom_point()</span><br><span class="line"><span class="comment"># åˆ›å»ºå›¾ä¾‹å’Œæ ‡é¢˜</span></span><br><span class="line">p &lt;- p + scale_colour_gradientn(name=<span class="string">&#x27;Planet Equilibrium Temperature (K)&#x27;</span>,</span><br><span class="line">                              colours=jet.colors(<span class="number">10</span>))</span><br><span class="line">p &lt;- p + scale_size_continuous(name=<span class="string">&#x27;Planet Equilibrium Temperature (K)&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ ‡è®°åæ ‡è½´å’Œå›¾è¡¨æ ‡é¢˜</span></span><br><span class="line">p &lt;- p + xlab(<span class="string">&#x27;Planet Orbital Period (days)&#x27;</span>) + ylab(<span class="string">&#x27;Solar Mass (Solar mass)&#x27;</span>) + ggtitle(<span class="string">&#x27;Figure 3: Colour-Coded scatter plot&#x27;</span>)</span><br><span class="line"><span class="comment"># ä¸¤ä¸ªåæ ‡è½´éƒ½ç”¨log10å°ºåº¦</span></span><br><span class="line">p &lt;- p + scale_x_log10() + scale_y_log10()</span><br><span class="line"><span class="comment"># è®¾å®šä¸€ä¸‹ç”»å¸ƒå°ºå¯¸</span></span><br><span class="line">options(repr.plot.width=<span class="number">7</span>, repr.plot.height=<span class="number">5</span>)</span><br><span class="line">print(p)</span><br></pre></td></tr></table></figure><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/DaveKim3872/blogpics/20200820145630.png" style="zoom:67%;" /><p>è¿™å‡ ç§å‘ˆç°æ–¹å¼éƒ½æ˜¯éå¸¸ç»¼åˆä¸”ç›´è§‚çš„ã€‚å°è´´å£«ï¼šå¦‚æœä½ ä¸æƒ³è¦æŸä¸ªå›¾ä¾‹ï¼Œé‚£å°±æŠŠguideè®¾ç½®æˆNoneå°±å¥½äº†ï¼Œæ¯”å¦‚ä¸Šé¢è¿™ä¸ªä¾‹å­é‡Œæˆ‘ä»¬æƒ³æŠŠsizeçš„ç¤ºä¾‹å»æ‰ï¼Œåªç”¨æ”¹ä¸€å¥ï¼š</p><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/DaveKim3872/blogpics/20200820150037.png"></p><p>çœ‹çœ‹æ˜¯ä¸æ˜¯ä½ ä¸æƒ³è¦çš„å›¾ä¾‹å·²ç»æ²¡æœ‰äº†ï¼Ÿ</p><h2 id="ä½¿ç”¨geom-histogram-å‡½æ•°ç»˜åˆ¶ç›´æ–¹å›¾"><a href="#ä½¿ç”¨geom-histogram-å‡½æ•°ç»˜åˆ¶ç›´æ–¹å›¾" class="headerlink" title="ä½¿ç”¨geom_histogram()å‡½æ•°ç»˜åˆ¶ç›´æ–¹å›¾"></a>ä½¿ç”¨<code>geom_histogram()</code>å‡½æ•°ç»˜åˆ¶ç›´æ–¹å›¾</h2><p>æˆ‘ä»¬çš„æ•°æ®è¡¨ä¸­æœ‰ä¸€åˆ—pl_discè®°å½•äº†è¿™ä¸ªè¡Œæ˜Ÿè¢«å‘ç°çš„å¹´ä»½ã€‚å¦‚æœæˆ‘ä»¬æƒ³çŸ¥é“æ¯å¹´æœ‰å¤šå°‘è¡Œæ˜Ÿè¢«å‘ç°ï¼Œä¹Ÿå°±æ˜¯ä¸€ä¸ªå¹´ä»½ä¸ºæ¨ªåæ ‡çš„é¢‘åº¦å›¾ï¼Œé‚£ä¹ˆç›´æ–¹å›¾ä¼šæ˜¯ä¸€ä¸ªæ¯”è¾ƒåˆé€‚çš„é€‰æ‹©ã€‚<code>geom_histogram(binwidth=2, fill=&quot;red&quot;)</code>è¡¨ç¤ºç»˜åˆ¶å®½åº¦ä¸º2ã€å¡«å……è‰²ä¸ºçº¢è‰²çš„ç›´æ–¹å›¾ã€‚è¿˜æ˜¯ä¾ç…§åŸæ¥çš„è€æ ·å­ï¼Œæˆ‘ä»¬ç»˜åˆ¶<code>aes(pl_disc)</code>çš„ç”»å¸ƒï¼ˆå¦‚æœaesåªæœ‰ä¸€ä¸ªå‚æ•°ï¼Œé‚£ä¹ˆå®ƒä¼šå»ç»Ÿè®¡è¿™ä¸ªå‚æ•°çš„é¢‘ç‡åˆ†å¸ƒï¼‰ï¼Œç„¶ååœ¨ä¸Šé¢å¢åŠ ç›´æ–¹å›¾ã€‚</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åˆ›å»ºç”»å¸ƒå¹¶æ·»åŠ å®½åº¦ä¸º2ã€å¡«å……è‰²ä¸ºçº¢è‰²çš„ç›´æ–¹å›¾</span></span><br><span class="line">p &lt;- ggplot(kdf,aes(pl_disc)) + geom_histogram(binwidth=<span class="number">2</span>, fill=<span class="string">&quot;red&quot;</span>)</span><br><span class="line"><span class="comment"># æ·»åŠ xyè½´æ ‡é¢˜å’Œå›¾è¡¨æ ‡é¢˜</span></span><br><span class="line">p &lt;- p + xlab(<span class="string">&quot;Years&quot;</span>) + ylab(<span class="string">&quot;Number of exoplanets&quot;</span>)</span><br><span class="line">p &lt;- p + ggtitle(<span class="string">&quot;Histogram of number of discovered exoplanets&quot;</span>)</span><br><span class="line"><span class="comment"># æŒ‡å®šç”»å¸ƒå°ºå¯¸</span></span><br><span class="line">options(repr.plot.width=<span class="number">8</span>, repr.plot.height=<span class="number">6</span>)</span><br><span class="line">print(p)</span><br></pre></td></tr></table></figure><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/DaveKim3872/blogpics/20200820150802.png" style="zoom:67%;" /><p>æ›²çº¿ã€æ•£ç‚¹ã€ç›´æ–¹å›¾ï¼Œè¿™å°±æ˜¯ä½¿ç”¨Rè¯­è¨€ç»˜å›¾çš„ä¸‰ä¸ªæœ€åŸºç¡€çš„å†…å®¹ï¼Œæ›´å¤šçš„æ–¹æ³•å¯ä»¥åœ¨ä¹¦ä¸­ã€ç½‘ä¸Šæ¢ç´¢ã€‚</p><p><a href="https://davekim3872.github.io/2020/08/23/text-mining-twitter/">ä¸‹ä¸€ç¯‡ï¼šRè¯­è¨€-åˆ†æä¸ç»˜å›¾ï¼ˆ4ï¼‰ï¼šå¯¹twitteræ•°æ®è¿›è¡Œæ–‡æœ¬æŒ–æ˜</a></p>]]></content>
      
      
      <categories>
          
          <category> Rè¯­è¨€æ•°æ®ç§‘å­¦ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> R </tag>
            
            <tag> Tidyverse </tag>
            
            <tag> æ•°æ®åˆ†æ </tag>
            
            <tag> å¯è§†åŒ– </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Rè¯­è¨€-åˆ†æä¸ç»˜å›¾ï¼ˆ2ï¼‰ï¼šä½¿ç”¨rveståº“æŠ“å–å’Œåˆ†æç½‘é¡µä¿¡æ¯</title>
      <link href="/2020/08/15/webpages-analyze/"/>
      <url>/2020/08/15/webpages-analyze/</url>
      
        <content type="html"><![CDATA[<p>ä¸Šä¸€ç¯‡ï¼š<a href="https://davekim3872.github.io/2020/08/14/R-tidyverse-one/">Rè¯­è¨€-åˆ†æä¸ç»˜å›¾ï¼ˆ1ï¼‰ï¼šä½¿ç”¨tidyverseå·¥å…·åŒ…å¤„ç†æ•°æ®</a></p><p>å¹¶ä¸æ˜¯æ‰€æœ‰ç½‘ç«™éƒ½ä¼šæä¾›å¯ä¸‹è½½çš„æ•°æ®æ–‡ä»¶ï¼Œå› æ­¤åœ¨æŸäº›åœºæ™¯ä¸‹éœ€è¦æˆ‘ä»¬ä½¿ç”¨rvestå·¥å…·åŒ…å»çˆ¬å–ç½‘é¡µä¸Šå±•ç¤ºå‡ºæ¥çš„æ•°æ®å¹¶æ•´ç†æˆRæˆ–è€…è¯´tidyverseå¯ä»¥å¤„ç†çš„æ•°æ®æ ¼å¼ã€‚å¯ä»¥ç†è§£æˆå®ç°ç®€å•çš„çˆ¬è™«ã€‚</p><h2 id="rvestå·¥å…·åŒ…"><a href="#rvestå·¥å…·åŒ…" class="headerlink" title="rvestå·¥å…·åŒ…"></a>rvestå·¥å…·åŒ…</h2><p><a href="https://www.rdocumentation.org/packages/rvest/versions/0.3.6">å®˜æ–¹æ–‡æ¡£</a>å¯¹äºrvestçš„ä»‹ç»éå¸¸ç®€æ´ï¼š</p><ul><li><em>rvestå¸®åŠ©ä½ ä»ç½‘é¡µä¸­æŠ“å–ä¿¡æ¯ã€‚å®ƒè¢«è®¾è®¡æˆä¸magritträ¸€èµ·å·¥ä½œï¼Œä½¿å…¶æ›´å®¹æ˜“è¡¨è¾¾å¸¸è§çš„webæŠ“å–ä»»åŠ¡ï¼Œçµæ„Ÿæ¥è‡ªäºåƒbeautiful soupè¿™æ ·çš„åº“ã€‚</em></li></ul><p>è™½ç„¶æ²¡å¬è¯´è¿‡magrittrè¿™ä¸ªä¸œè¥¿ï¼Œä½†æ˜¯beautiful soupæˆ‘æ˜¯å¬è¯´è¿‡çš„ã€‚æ‰€ä»¥åœ¨æˆ‘çš„ç†è§£ä¸‹ï¼Œrvestå¤§æŠµå°±æ˜¯ä¸€ç§htmlè§£æå™¨ã€‚å®ƒç‹¬ç«‹äºä¸Šä¸€æ¬¡çš„tidyverseï¼Œæ‰€ä»¥éœ€è¦å•ç‹¬å®‰è£…ï¼ˆä¹Ÿéœ€è¦å®‰è£…å…¶ä¾èµ–çš„xml2ï¼‰ç„¶åå¯¼å…¥ï¼š</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">install.packages(c(<span class="string">&quot;rvest&quot;</span>, <span class="string">&quot;xml2&quot;</span>))</span><br><span class="line"><span class="keyword">library</span>(tidyverse)</span><br><span class="line"><span class="keyword">library</span>(rvest)</span><br></pre></td></tr></table></figure><p>ç½‘ç«™çš„é¡µé¢ä¸€èˆ¬ä½¿ç”¨htmlï¼ˆè¶…æ–‡æœ¬æ ‡è®°è¯­è¨€ï¼‰ä¹¦å†™ï¼Œä¸ºäº†æµè§ˆå™¨èƒ½æˆåŠŸè§£æå¹¶å±•ç¤ºå†…å®¹ï¼Œhtmlçš„å„ä¸ªç‰ˆæœ¬æœ‰ç€éå¸¸<del>ä¹±ä¸ƒå…«ç³Ÿ</del>è§„èŒƒç»Ÿä¸€çš„æ ¼å¼è¦æ±‚ï¼Œä¸åŒçš„å†…å®¹åœ¨ä»£ç ä¸­ä½¿ç”¨æ ‡ç­¾è¿›è¡Œåˆ†å—ã€‚è¿™ç§ç‰¹æ€§ä¸ºå„ç§å·¥å…·è§£æhtmlæä¾›äº†éå¸¸å¤§çš„ä¾¿åˆ©ã€‚</p><p>ä¸ºäº†æŠ“å–ç½‘é¡µæ–‡ä»¶åŠå…¶ä¸­æŸäº›åŒºåŸŸï¼ˆå¦‚é¡µé¢ä¸Šæ˜¾ç¤ºçš„è¡¨æ ¼ï¼‰çš„ä¿¡æ¯ï¼Œé™¤äº†å¤åˆ¶ç²˜è´´ã€æ‰‹åŠ¨è¾“å…¥è¿™ç§éå¸¸ä½æ•ˆçš„åŠæ³•ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥é€‰æ‹©ä½¿ç”¨rvestç­‰å·¥å…·å®šä½åˆ°htmlçš„å›ºå®šä»£ç å—å¹¶æŒ‰ç…§è§„åˆ™è¿›è¡Œè§£æã€‚</p><h2 id="çˆ¬å–ç½‘é¡µæ–‡ä»¶åŠå…¶ä¸­çš„è¡¨æ ¼"><a href="#çˆ¬å–ç½‘é¡µæ–‡ä»¶åŠå…¶ä¸­çš„è¡¨æ ¼" class="headerlink" title="çˆ¬å–ç½‘é¡µæ–‡ä»¶åŠå…¶ä¸­çš„è¡¨æ ¼"></a>çˆ¬å–ç½‘é¡µæ–‡ä»¶åŠå…¶ä¸­çš„è¡¨æ ¼</h2><p>æˆ‘ä»¬ä»¥<a href="https://en.wikipedia.org/wiki/List_of_Academy_Award-winning_films">ç»´åŸºç™¾ç§‘-å¥¥æ–¯å¡å­¦é™¢å¥–</a>æ¡ç›®ä¸ºä¾‹ï¼Œå°è¯•è·å–å†å¹´è·å¥–ç”µå½±çš„è¡¨æ ¼ã€‚è¯¥è¡¨æ ¼åœ¨ç½‘é¡µä¸Šæ˜¾ç¤ºå¦‚ä¸‹ï¼š</p><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/DaveKim3872/blogpics/20200815163837.png" style="zoom: 50%;" /><p>ä¸ºäº†å®Œæˆè¿™ä¸ªç›®æ ‡ï¼Œæˆ‘ä»¬éœ€è¦ç”¨åˆ°rvestçš„ä¸‰ä¸ªæ¯”è¾ƒå…³é”®çš„æ–¹æ³•ï¼š<code>read_html()</code>ï¼Œ<code>html_nodes()</code>å’Œ<code>html_table()</code>ã€‚</p><h3 id="read-html"><a href="#read-html" class="headerlink" title="read_html()"></a><code>read_html()</code></h3><p><code>read_html()</code>çš„ä½œç”¨æ˜¯æŠŠé¡µé¢æºä»£ç htmlæ–‡ä»¶è¯»å–æˆä¸€ä¸ªåˆ—è¡¨ï¼Œè¿™ä¸ªåˆ—è¡¨ä¸­å­˜å‚¨ç€é¡µé¢ä¸­ä¸åŒçš„å¯¹è±¡ã€‚æˆ‘ä»¬ä½¿ç”¨ä»¥ä¸‹ç¤ºä¾‹ä»£ç çˆ¬å–ä¸Šè¿°ç½‘é¡µhtmlä¸­çš„å¯¹è±¡åˆ—è¡¨ã€‚</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># é¡µé¢url</span></span><br><span class="line">url &lt;- <span class="string">&quot;https://en.wikipedia.org/wiki/List_of_Academy_Award-winning_films&quot;</span></span><br><span class="line"><span class="comment"># è¯»å–é¡µé¢æºç </span></span><br><span class="line">wikipage &lt;- read_html(url)</span><br><span class="line"><span class="comment"># ç”¨å­—ç¬¦ä¸²å½¢å¼å±•ç¤ºè¯»å–å†…å®¹çš„æ ¼å¼</span></span><br><span class="line">str(wikipage)</span><br></pre></td></tr></table></figure><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè®¿é—®ç»´åŸºç™¾ç§‘éœ€è¦ä½¿ç”¨ä»£ç†ä»¥ç»•å¼€GFWï¼Œè¯·è‡ªè¡Œç™¾åº¦â€œåœ¨ç»ˆç«¯ä¸­ä½¿ç”¨ä»£ç†çš„æ–¹æ³•â€æˆ–è€…åœ¨ä»£ç†è½¯ä»¶ä¸­ç›´æ¥è®¾ç½®ç³»ç»Ÿä»£ç†+å…¨å±€æ¨¡å¼ã€‚å¦åˆ™ï¼Œç»ˆç«¯æˆ–è€…jupyterä¼šæŠ¥é”™ï¼š</p><ul><li>Error in open.connection(x, â€œrbâ€): LibreSSL SSL_connect: SSL_ERROR_SYSCALL in connection to en.wikipedia.org:443. </li></ul><p>å¤‡ç”¨çš„è§£å†³æ–¹æ¡ˆæ˜¯ä¸‹è½½<a href="https://wwa.lanzous.com/i1VSUfnhvde">æˆ‘ä¸Šä¼ çš„å‹ç¼©åŒ…</a>å¹¶æŠŠå…¶ä¸­çš„æ‰€æœ‰æ–‡ä»¶æ”¾åˆ°ä»£ç ç›¸åŒç›®å½•ä¸‹ï¼Œé‡Œé¢æœ‰æœ¬æ–‡éœ€è¦çš„æ‰€æœ‰htmlæ–‡ä»¶ï¼›ç„¶åå°†ä¸Šæ–‡çš„ç¬¬äºŒè¡Œä»£ç ä¿®æ”¹ä¸ºï¼š</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æœ¬åœ°é¡µé¢æºç ï¼ˆç›¸å¯¹ï¼‰è·¯å¾„</span></span><br><span class="line">url &lt;- <span class="string">&quot;Award.html&quot;</span></span><br><span class="line"><span class="comment"># è¯»å–é¡µé¢æºç </span></span><br><span class="line">wikipage &lt;- read_html(url)</span><br><span class="line"><span class="comment"># ç”¨å­—ç¬¦ä¸²å½¢å¼å±•ç¤ºè¯»å–å†…å®¹çš„æ ¼å¼</span></span><br><span class="line">str(wikipage)</span><br></pre></td></tr></table></figure><p>å¦‚æœæˆåŠŸè¯»å–ï¼Œè¾“å‡ºçš„å­—ç¬¦ä¸²åº”è¯¥æ˜¯è¿™æ ·å­ï¼š</p><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/DaveKim3872/blogpics/20200815165446.png" style="zoom: 50%;" /><h3 id="html-nodes"><a href="#html-nodes" class="headerlink" title="html_nodes()"></a><code>html_nodes()</code></h3><p>ä¸Šæ–‡è¯´è¿‡ï¼Œ<code>read_html()</code>çš„ä½œç”¨æ˜¯æŠŠé¡µé¢æºä»£ç htmlæ–‡ä»¶è¯»å–æˆä¸€ä¸ªåˆ—è¡¨ã€‚è¿™ä¸ªåˆ—è¡¨ä¸­å­˜å‚¨çš„å…¶å®æ˜¯ä¸åŒçš„æºä»£ç å—æ‰€è¡¨ç¤ºçš„å¯¹è±¡ã€‚è¿™ä¸ªç½‘é¡µä¸Šå¯èƒ½æœ‰å¤šä¸ªâ€œtableâ€å¯¹è±¡ï¼Œè€Œæˆ‘ä»¬åªéœ€è¦çˆ¬å–é¡µé¢ä¸Šçš„ç¬¬ä¸€ä¸ªè¡¨æ ¼ã€‚å› æ­¤ï¼Œéœ€è¦å†æ¬¡è§£æä¸Šæ–‡å­˜å‚¨çš„å¯¹è±¡åˆ—è¡¨<code>wikipage</code>ï¼Œä»ä¸­æœç´¢å…³é”®å­—ä¸ºâ€œtableâ€çš„å¯¹è±¡åˆ—è¡¨ï¼Œå¹¶å–å‡ºåˆ—è¡¨å½“ä¸­çš„ç¬¬ä¸€ä¸ªå¯¹è±¡ã€‚</p><p><code>html_nodes()</code>å‡½æ•°çš„ä½œç”¨æ˜¯åœ¨<code>read_html()</code>è¯»å‡ºæ¥çš„å¯¹è±¡åˆ—è¡¨ä¸­é€šè¿‡å…³é”®å­—å–å‡ºæˆ‘ä»¬éœ€è¦çš„å¯¹è±¡çš„åˆ—è¡¨ï¼ˆæ¯”å¦‚æˆ‘ä»¬éœ€è¦æ‰¾å‡ºæ‰€æœ‰â€œtableâ€å…³é”®å­—çš„å¯¹è±¡ï¼‰ï¼Œè€Œæˆ‘ä»¬å¯ä»¥åœ¨è¿™æ ·çš„ä¸€ä¸ªåˆ—è¡¨ä¸­é€šè¿‡ä¸‹æ ‡å–å‡ºå…¶ä¸­çš„ä¸€ä¸ªDataFrameå¯¹è±¡ï¼ˆæ¯”å¦‚æŒ‰ç…§æˆ‘ä»¬ä¸Šæ–‡çš„éœ€æ±‚å–å‡ºç¬¬ä¸€ä¸ªï¼‰ã€‚ç¤ºä¾‹ä»£ç å¦‚ä¸‹ã€‚</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å–å‡ºå¯¹è±¡åˆ—è¡¨ä¸­å…³é”®å­—ä¸ºâ€œtableâ€çš„ç¬¬ä¸€ä¸ªå¯¹è±¡</span></span><br><span class="line">movies_alt &lt;- html_nodes(wikipage, <span class="string">&quot;table&quot;</span>)[[<span class="number">1</span>]]</span><br></pre></td></tr></table></figure><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåœ¨Rè¯­è¨€ä¸­å¯¹äºlistå¯¹è±¡è€Œè¨€ï¼Œå•å±‚çš„ä¸­æ‹¬å·å½¢å¦‚<code>object[1]</code>å¹¶ä¸æ˜¯å…¶ä»–è¯­è¨€å½“ä¸­æŒ‰ç…§ä¸‹æ ‡ç´¢å¼•å–å¯¹è±¡çš„æ„æ€ï¼Œè€Œæ˜¯æŒ‡å‘è‡ªå·±æœ¬èº«ã€‚å¦‚æœæˆ‘ä»¬éœ€è¦æŒ‰ç…§ä¸‹æ ‡ç´¢å¼•å–listä¸­çš„å¯¹è±¡ï¼Œå¿…é¡»ä½¿ç”¨åŒå±‚ä¸­æ‹¬å·å½¢å¦‚<code>object[[1]]</code>ï¼ˆå°½ç®¡åŒªå¤·æ‰€æ€ï¼Œä½†æ˜¯è¯­æ³•å’Œè§„åˆ™æœ¬å°±æ˜¯åº”è¯¥æ— æ¡ä»¶éµå®ˆçš„ä¸œè¥¿ï¼Œå¦åˆ™å¤§å®¶å£å‘³å–œå¥½ä¸åŒï¼Œå…¨ä¸–ç•Œå¯èƒ½æ¯ä¸ªäººéƒ½åœ¨è®²ä¸åŒçš„è¯­è¨€äº†ï¼‰ã€‚</p><h3 id="html-table"><a href="#html-table" class="headerlink" title="html_table()"></a><code>html_table()</code></h3><p>åœ¨ä¸Šä¸€æ­¥ï¼Œæˆ‘ä»¬ä½¿ç”¨<code>html_nodes(wikipage, &quot;table&quot;)[[1]]</code>è¯»å‡ºæ¥çš„<code>movies_alt</code>æ˜¯å•¥ï¼Ÿæ˜¯ä¸ªå¯¹è±¡ã€‚ä½†æˆ‘ä»¬åšæ•°æ®åˆ†æéœ€è¦çš„æ˜¯DataFrameï¼Œæ‰€ä»¥<code>html_table()</code>å‡½æ•°å°±æ˜¯ç”¨æ¥æŠŠDataFrameçš„å¯¹è±¡è½¬ä¸ºçœŸæ­£çš„DataFrameæ ¼å¼ã€‚å¦‚ä¸‹æ‰€ç¤ºæ‰§è¡Œå‡½æ•°ï¼Œå¹¶ä½¿ç”¨<code>head()</code>å±•ç¤ºä¸€ä¸‹æˆ‘ä»¬å†ç»åƒè¾›ä¸‡è‹¦æ‰’å‡ºæ¥çš„è¡¨æ ¼ã€‚</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æŠŠå¯¹è±¡è½¬ä¸ºçœŸæ­£çš„DataFrameæ ¼å¼</span></span><br><span class="line">movies &lt;- html_table(movies_alt)</span><br><span class="line"><span class="comment"># å±•ç¤ºè¡¨æ ¼å‰å‡ è¡Œ</span></span><br><span class="line">head(movies)</span><br></pre></td></tr></table></figure><p>å½“ç„¶ï¼Œå¦‚æœæƒ³é¿å…ä½¿ç”¨é‚£ä¹ˆå¤šä¸­é—´å˜é‡å€’æ¥å€’å»ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ä¹‹å‰å­¦è¿‡çš„ç®¡é“<code>%&gt;%</code>è¿›è¡Œä¸€æ®µå‰åè¿è´¯çš„æ“ä½œã€‚</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å–å‡ºå¯¹è±¡åˆ—è¡¨ä¸­å…³é”®å­—ä¸ºâ€œtableâ€çš„ç¬¬ä¸€ä¸ªå¯¹è±¡</span></span><br><span class="line">movies &lt;- html_nodes(wikipage, <span class="string">&quot;table&quot;</span>)[[<span class="number">1</span>]] %&gt;%</span><br><span class="line">  <span class="comment"># æŠŠå¯¹è±¡è½¬ä¸ºçœŸæ­£çš„DataFrameæ ¼å¼</span></span><br><span class="line">  html_table()</span><br><span class="line"><span class="comment"># å±•ç¤ºè¡¨æ ¼å‰å‡ è¡Œ</span></span><br><span class="line">head(movies)</span><br></pre></td></tr></table></figure><p>è¿™ä¸¤æ®µä»£ç çš„è¾“å‡ºç›¸åŒï¼Œé•¿è¿™ä¸ªæ ·å­ï¼š</p><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/DaveKim3872/blogpics/20200815174156.png" style="zoom:50%;" /><h2 id="æ•´ç†è¯»å–å‡ºæ¥çš„è¡¨æ ¼"><a href="#æ•´ç†è¯»å–å‡ºæ¥çš„è¡¨æ ¼" class="headerlink" title="æ•´ç†è¯»å–å‡ºæ¥çš„è¡¨æ ¼"></a>æ•´ç†è¯»å–å‡ºæ¥çš„è¡¨æ ¼</h2><p>ç»†å¿ƒçš„ä½ å¯èƒ½å·²ç»å‘ç°äº†ï¼Œä¸Šé¢è¯»å‡ºæ¥çš„è¡¨æ ¼æœ‰ä¸€äº›å°é—®é¢˜ï¼šYearï¼ŒAwardsï¼ŒNominationsä¸‰åˆ—éƒ½æ˜¯<code>&lt;chr&gt;</code>æ ¼å¼ã€‚æ•°æ®åˆ†æçš„åŸºç¡€æ˜¯æ•°å€¼å‹æ•°æ®ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦æŠŠè¿™å‡ åˆ—æ•°å­—è½¬æ¢ä¸ºæ•°å€¼æ ¼å¼çš„æ•°æ®ã€‚ä¹‹å‰å­¦è¿‡ç±»å‹è½¬æ¢å‡½æ•°<code>as_numeric()</code>å’Œä¿®æ”¹è¡¨æ ¼åˆ—çš„å‡½æ•°<code>mutate()</code>ï¼Œè¿™æ—¶å€™å°±èµ·ä½œç”¨äº†ï¼šæˆ‘ä»¬åªéœ€è¦æŠŠå¯¹åº”çš„åˆ—ä¿®æ”¹æˆè¿™ä¸€åˆ—ç±»å‹è½¬æ¢åçš„ç»“æœå³å¯ã€‚</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 1. ä½¿ç”¨ç®¡é“çš„å†™æ³•ï¼ˆæ¨èç”¨è¿™ä¸ªï¼ï¼‰</span></span><br><span class="line">movies &lt;- movies %&gt;%</span><br><span class="line">    mutate(Awards = as.numeric(Awards))</span><br><span class="line">head(movies)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 2. ä¸ä½¿ç”¨ç®¡é“çš„å†™æ³•ï¼ˆä¸å¤ªå¥½ï¼‰</span></span><br><span class="line">movies &lt;- mutate(movies, Awards = as.numeric(Awards))</span><br><span class="line">head(movies)</span><br></pre></td></tr></table></figure><p>é™¤äº†ä½¿ç”¨mutateå‡½æ•°ä¹‹å¤–ï¼Œä½¿ç”¨<code>$</code>ç¾å…ƒç¬¦å·ä¹Ÿå¯ä»¥ç›´æ¥æŒ‡å®šDataFrameä¸­çš„æ•°æ®åˆ—å¹¶è¿›è¡Œä¿®æ”¹ï¼ˆæ–°çŸ¥è¯†å“¦ï¼‰ï¼š</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ–°æ–¹æ³•ï¼š$ç¬¦å·ç›´æ¥æŠŠæŸä¸€åˆ—æ‹¿å‡ºæ¥æ”¹</span></span><br><span class="line">movies$Awards &lt;- as.numeric(movies$Awards)</span><br><span class="line">head(movies)</span><br></pre></td></tr></table></figure><p>è¾“å‡ºé•¿è¿™æ ·ï¼š</p><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/DaveKim3872/blogpics/20200815182421.png" style="zoom:50%;" /><p>å“ˆï¼Œä¸Šé¢æŠ¥äº†ä¸€ä¸ªWarningï¼Œå­—é¢æ„æ€æ˜¯æœ‰çš„åˆ—çš„å€¼æ— æ³•è½¬ä¸ºæ•°å€¼ï¼Œå¯èƒ½å› ä¸ºå®ƒæ ¹æœ¬ä¸æ˜¯ä¸€ä¸ªæ•°å­—ã€‚æˆ‘ä»¬çœ‹åˆ°çš„è¿™å‡ è¡Œé‡Œå¥½åƒæ²¡æœ‰å‡ºç°è¿™ç§æƒ…å†µï¼Œä½†æ˜¯æ—¢ç„¶æŠ¥äº†è­¦å‘Šå°±è¯´æ˜ç¡®å®å­˜åœ¨è¿™æ ·çš„æ•°æ®ã€‚è¿™æ ·çš„æ•°æ®ä¼šè¢«è¡¨ç¤ºä¸º<code>NA</code>ï¼Œä¹Ÿå°±æ˜¯Not Availableçš„æ„æ€ã€‚ä¸ºäº†å±•ç¤ºä¸€ä¸‹ï¼Œå¯ä»¥å°è¯•è¾“å‡º2017å¹´çš„æœ€åå‡ è¡Œæ•°æ®ï¼š</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ç”¨filterç­›é€‰ä¸€ä¸‹2017å¹´çš„æ•°æ®</span></span><br><span class="line">mov_2017 = filter(movies, Year == <span class="number">2017</span>)</span><br><span class="line">tail(mov_2017)</span><br></pre></td></tr></table></figure><p>çœ‹çœ‹è¾“å‡ºï¼Œä½ å°±çŸ¥é“ä¸Šé¢ä¸ºå•¥æŠ¥é”™äº†ã€‚2017å¹´çš„ç”µå½±Flesh and Sandçš„Awardsè¿™ä¸€åˆ—æ˜¯ä¸€ä¸ªæ— æ³•è½¬æ¢ä¸ºæ•°å€¼çš„å˜é‡ã€‚</p><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/DaveKim3872/blogpics/20200815183830.png" style="zoom:50%;" /><p>å›å»çœ‹ä¸€ä¸‹ç½‘é¡µä¸Šè¿™ä¸€è¡Œé•¿ä»€ä¹ˆæ ·å­ï¼š</p><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/DaveKim3872/blogpics/20200815183925.png" style="zoom: 50%;" /><p>Fineï¼Œå¥½åƒç¡®å®ä¸æ˜¯ä¸€ä¸ªè§„èŒƒçš„æ•°å­—ï¼Œåˆå¸¦æ‹¬å·åˆå¸¦ä¸‹æ ‡çš„ã€‚æˆ‘ä»¬å¤§å¯ä»¥ä¸€é€šæ“ä½œæ‰‹åŠ¨ä¿®æ”¹è¿™ä¸ªæ•°æ®ä¸º0æˆ–è€…1ï¼Œåƒä¸‹é¢è¿™æ ·ï¼š</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ‰¾åˆ°è¿™ä¸ªç”µå½±çš„ç´¢å¼•</span></span><br><span class="line">idx &lt;- summarize(movies, which(Film == <span class="string">&quot;Flesh and Sand (Carne y arena)&quot;</span>))</span><br><span class="line"><span class="comment"># ç´¢å¼•è½¬ä¸ºæ•°å€¼ï¼ŒæŠŠè¿™ä¸€è¡Œçš„Awardsä¿®æ”¹ä¸º1</span></span><br><span class="line">movies$Awards[[as.numeric(idx)]] &lt;- <span class="number">1</span></span><br><span class="line"><span class="comment"># é‡æ–°ç­›é€‰ä¸€ä¸‹2017å¹´çš„ç”µå½±</span></span><br><span class="line">mov_2017 = filter(movies, Year == <span class="number">2017</span>)</span><br><span class="line"><span class="comment"># çœ‹ä¸€ä¸‹å°¾éƒ¨å‡ è¡Œ</span></span><br><span class="line">tail(mov_2017)</span><br></pre></td></tr></table></figure><p>ç»“æœæ˜¯okçš„ï¼Œä½†æ˜¯é‚£æ ·çš„æ“ä½œæ—¢è´¹äº‹åˆæ²¡æœ‰æ„ä¹‰ï¼Œæ‰€ä»¥æˆ‘ä»¬å¹²è„†ç”¨ä¸€ç§å«åš<code>na.omit()</code>çš„æ–¹æ³•æŠŠæ‰€æœ‰æœ‰NAæ•°å€¼çš„è¡Œéƒ½å»æ‰ã€‚</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">table &lt;- na.omit(mov_2017)</span><br><span class="line">tail(table)</span><br></pre></td></tr></table></figure><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/DaveKim3872/blogpics/20200815185729.png" style="zoom:50%;" /><p>æœ€åè®©æˆ‘ä»¬æ¥å°è¯•ä½¿ç”¨ç®¡é“æŠŠä¸Šé¢è¿™äº›ä»£ç å°è£…ä¸€ä¸‹ï¼Œä¸è¦ç”¨é‚£ä¹ˆå¤šçš„ä¸­é—´å˜é‡å€’æ¥å€’å»ã€‚å°è¯•ä¸€è¡Œä¸€è¡Œç†è§£è¿™äº›ä»£ç ï¼Œå°è¯•å¯¹ç…§ç€å†™ä¸€éï¼Œå¹¶ä¸”å°è¯•è‡ªå·±ç‹¬ç«‹å†™ä¸€éã€‚</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">movies &lt;- html_nodes(wikipage, <span class="string">&quot;table&quot;</span>)[[<span class="number">1</span>]]  %&gt;%</span><br><span class="line">    html_table() %&gt;%</span><br><span class="line">    mutate(Awards = as.numeric(Awards),</span><br><span class="line">           Nominations = as.numeric(Nominations)) %&gt;%</span><br><span class="line">    na.omit()</span><br><span class="line">    </span><br><span class="line">head(movies)</span><br></pre></td></tr></table></figure><h3 id="å˜é€šåœ°ä½¿ç”¨ä¹‹å‰å­¦è¿‡çš„æ–¹æ³•"><a href="#å˜é€šåœ°ä½¿ç”¨ä¹‹å‰å­¦è¿‡çš„æ–¹æ³•" class="headerlink" title="å˜é€šåœ°ä½¿ç”¨ä¹‹å‰å­¦è¿‡çš„æ–¹æ³•"></a>å˜é€šåœ°ä½¿ç”¨ä¹‹å‰å­¦è¿‡çš„æ–¹æ³•</h3><p>è¿˜è®°ä¸è®°å¾—ä¹‹å‰å­¦è¿‡çš„<a href="https://davekim3872.github.io/2020/08/14/R-tidyverse-one/#%E6%9C%80%E5%A4%A7-%E6%9C%80%E5%B0%8F%E5%80%BC%E8%AE%A1%E7%AE%97">summarizeæ–¹æ³•</a>ï¼Ÿ<code>summarize()</code>å‡½æ•°çš„<strong>è¾“å‡ºæ˜¯ä¸€ä¸ªDataFrame</strong>ï¼Œè¿™ä¸€ç‚¹è¦åˆ‡è®°ã€‚é‡Œå¯ä»¥å¼•ç”¨å‡½æ•°<code>which.max()</code>å’Œ<code>which.min()</code>ï¼Œå½“æ—¶æˆ‘ä»¬è¿˜ä¸ä¼š<code>$</code>ç›´æ¥å¼•ç”¨DataFrameé‡Œçš„åˆ—ã€‚ä»Šå¤©æˆ‘ä»¬å­¦äº†è¿™ä¸ªæ–¹æ³•åï¼Œè¿™ä¸¤ä¸ªæ–¹æ³•å¯ä»¥ä½œä¸ºè¿”å›æ•´æ•°çš„å‡½æ•°ä½¿ç”¨äº†â€”â€”ä¹Ÿå°±æ˜¯è¯´ï¼Œè¾“å…¥ä¸€åˆ—ï¼Œè¿”å›ä¸€ä¸ªæ•´æ•°ã€‚æ¯”å¦‚ä¸‹é¢è¿™è¡Œè¿è¡Œçš„ç»“æœç›´æ¥å°±æ˜¯è¾“å‡º47.</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">which.max(movies$Nominations)</span><br></pre></td></tr></table></figure><p>å†ç»“åˆæˆ‘ä»¬ä¹‹å‰å­¦çš„<a href="https://davekim3872.github.io/2020/08/14/R-tidyverse-one/#%E9%80%89%E5%8F%96%E6%9F%90%E4%B8%80%E9%83%A8%E5%88%86%E6%95%B0%E6%8D%AE%EF%BC%88%E8%A1%8C%E4%B8%8E%E5%88%97%E7%9A%84%E7%BB%84%E5%90%88%EF%BC%89">æ“ä½œDataFrame</a>ï¼ˆæˆ–è€…DataFrameçš„é«˜çº§ç‰ˆâ€”â€”tibbleï¼ŒäºŒè€…å·®åˆ«ä¸å¤§ï¼‰çš„æ–¹æ³•ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨<code>è¡¨[è¡Œ, åˆ—]</code>çš„æ–¹å¼è¾“å‡ºæˆ‘ä»¬éœ€è¦çš„ä¿¡æ¯å•¦ã€‚</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è¾“å‡ºmoviesè¡¨é‡ŒNominationsè¿™ä¸€åˆ—å€¼æœ€å¤§çš„è¿™ä¸€è¡Œçš„æ‰€æœ‰åˆ—ï¼ˆè®°å¾—ç•™é€—å·ï¼‰</span></span><br><span class="line">movies[which.max(movies$Nominations),]</span><br></pre></td></tr></table></figure><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/DaveKim3872/blogpics/20200815191637.png" style="zoom: 50%;" /><p>å½“ç„¶ä¹Ÿå¯ä»¥ç”¨<code>filter()</code>ç­›é€‰æˆ‘ä»¬æƒ³è¦çš„å­é›†ï¼Œåœ¨è¿™é‡Œåªå†™ç®¡é“çš„å†™æ³•äº†ï¼Œä»¥åéƒ½å°½é‡ç”¨ç®¡é“æ¥å®Œæˆå¤šæ­¥æ“ä½œï¼Œè¿™æ ·ä¼šæ¯”è¾ƒç¬¦åˆäººç±»æ€è€ƒçš„é€»è¾‘ï¼ˆæ‹¿æ¥ä¸€ä¸ªä¸œè¥¿ï¼Œå¯¹å®ƒå…ˆè¿›è¡ŒæŸæ“ä½œï¼Œå†è¿›è¡ŒæŸæ“ä½œï¼‰ã€‚æˆ‘ä»¬è¯•è¯•åœ¨åŸå§‹æ•°æ®é›†ä¸­ç­›é€‰2018å¹´çš„å­é›†ã€‚</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">movies2018 &lt;- movies %&gt;%</span><br><span class="line">    <span class="comment"># å…ˆæŠŠå¹´ä»½è½¬æ¢ä¸ºæ•°å€¼</span></span><br><span class="line">    mutate(Year = as.numeric(Year)) %&gt;%</span><br><span class="line">    <span class="comment"># å†è¿‡æ»¤ä¸€ä¸‹ï¼Œç•™2018å¹´çš„</span></span><br><span class="line">    filter(Year == <span class="number">2018</span>)</span><br><span class="line"></span><br><span class="line">head(movies2018)</span><br></pre></td></tr></table></figure><h2 id="çˆ¬å–æ›´å¤æ‚çš„è¡¨æ ¼"><a href="#çˆ¬å–æ›´å¤æ‚çš„è¡¨æ ¼" class="headerlink" title="çˆ¬å–æ›´å¤æ‚çš„è¡¨æ ¼"></a>çˆ¬å–æ›´å¤æ‚çš„è¡¨æ ¼</h2><p>è¿™ä¸ªè¡¨æ ¼åªæä¾›äº†æœ¬åœ°çš„htmlæºç ï¼Œå…ˆè€æ ·å­è¯»å–è¡¨æ ¼ã€‚</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è®¾ç½®æœ¬åœ°htmlè·¯å¾„</span></span><br><span class="line">url=<span class="string">&quot;MovieBudgets.html&quot;</span></span><br><span class="line"><span class="comment"># è¯»å–htmlæ–‡ä»¶</span></span><br><span class="line">m_numbers &lt;-  read_html(url)</span><br><span class="line"><span class="comment"># æŠŠç¬¬ä¸€ä¸ªè¡¨æ ¼å…³é”®å­—çš„å¯¹è±¡è½¬ä¸ºDataFrame</span></span><br><span class="line">table &lt;- html_nodes(m_numbers,<span class="string">&quot;table&quot;</span>)[[<span class="number">1</span>]] %&gt;%</span><br><span class="line">      <span class="comment"># ä¸‹é¢è¿™å¥é‡ŒåŠ äº†fillå‚æ•°ä¸ºTRUEï¼Œæ„æ€æ˜¯è‡ªåŠ¨ç”¨NAå¡«å……ä¸å®Œæ•´çš„è¡Œ</span></span><br><span class="line">         html_table(fill=<span class="literal">TRUE</span>)</span><br><span class="line">head(table)</span><br></pre></td></tr></table></figure><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/DaveKim3872/blogpics/20200815193624.png" style="zoom:50%;" /><p>çœ‹çœ‹çˆ¬å‡ºæ¥çš„è¡¨æ ¼ç»“æ„æ˜¯å•¥ã€‚å¯ä»¥ç”¨ä¹‹å‰çš„<code>summary(table)</code>ï¼Œä¹Ÿå¯ä»¥ç”¨<code>str(table)</code>ç”¨å­—ç¬¦ä¸²å½¢å¼å±•ç¤ºç»“æ„ã€‚åè€…è¾“å‡ºç»“æœé•¿è¿™æ ·ï¼š</p><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/DaveKim3872/blogpics/20200815193101.png"></p><p>ä¸ç®¡ä½ ç”¨äº†å“ªç§æ–¹æ³•ï¼Œåº”è¯¥éƒ½èƒ½çœ‹åˆ°ç¬¬ä¸€åˆ—æ•°å€¼æ˜¯æ²¡æœ‰åå­—çš„ã€‚æˆ‘ä»¬å¯ä»¥ç”¨<code>names()</code>æˆ–è€…<code>colnames()</code>å‡½æ•°ä¸ºç¬¬ä¸€åˆ—åˆ†é…ä¸€ä¸ªåå­—â€œNameâ€ã€‚</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># option 1</span></span><br><span class="line">names(table)[<span class="number">1</span>] &lt;- <span class="string">&quot;Number&quot;</span></span><br><span class="line"><span class="comment"># option 2</span></span><br><span class="line">colnames(table)[<span class="number">1</span>] &lt;- <span class="string">&quot;Number&quot;</span></span><br><span class="line">head(table)</span><br></pre></td></tr></table></figure><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/DaveKim3872/blogpics/20200815193732.png" style="zoom:50%;" /><h3 id="åœ¨å­—ç¬¦ä¸²ä¸­æœç´¢æ•°å­—"><a href="#åœ¨å­—ç¬¦ä¸²ä¸­æœç´¢æ•°å­—" class="headerlink" title="åœ¨å­—ç¬¦ä¸²ä¸­æœç´¢æ•°å­—"></a>åœ¨å­—ç¬¦ä¸²ä¸­æœç´¢æ•°å­—</h3><p>æ¥ä¸‹æ¥çš„ä»»åŠ¡æ˜¯æƒ³åŠæ³•æŠŠé‚£å‡ åˆ—ç¾å…ƒå•ä½çš„å­—ç¬¦ä¸²è½¬æ¢ä¸ºæ•°å€¼ã€‚tidyverseä¹Ÿè´´å¿ƒåœ°æä¾›äº†ä¸€ä¸ª<code>parse_number()</code>æ–¹æ³•ï¼Œå¯ä»¥å¯¹å®ƒè¾“å…¥ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå®ƒèƒ½å¸®ä½ æ‰¾å‡ºè¿™æ®µå­—ç¬¦ä¸²é‡Œç¬¬ä¸€æ®µæ•°å­—ï¼ˆæ¯”å¦‚è¾“å…¥@#abc1234$%^def5678ghiï¼Œä¼šè¾“å‡º1234ï¼‰ã€‚è¿™åˆšå¥½èƒ½æ»¡è¶³æˆ‘ä»¬çš„éœ€æ±‚ã€‚</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ä¸ºè¿™ä¸ªç®¡é“è¾“å…¥table</span></span><br><span class="line">table_1 &lt;- table %&gt;%</span><br><span class="line">    <span class="comment"># ä¿®æ”¹è¡¨æ ¼ï¼šDomesticGrosså’ŒProductionBudgetä¸¤åˆ—è½¬ä¸ºæ•°å­—</span></span><br><span class="line">    mutate(DomesticGross = parse_number(DomesticGross),</span><br><span class="line">           ProductionBudget = parse_number(ProductionBudget))</span><br><span class="line">head(table_1)</span><br></pre></td></tr></table></figure><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/DaveKim3872/blogpics/20200815194623.png" style="zoom:50%;" /><p>å†é‡ç”³ä¸€ä¸‹ï¼Œä¸ºå•¥ä¸€å®šè¦è½¬ä¸ºæ•°å­—å‘¢ï¼Œå› ä¸ºæˆ‘ä»¬è¦åšæ•°æ®çš„åˆ†æè¿ç®—å•¥çš„ï¼Œå­—ç¬¦ä¸²åšä¸äº†è¿™ä¸ªã€‚æ¯”å¦‚æˆ‘æƒ³æ±‚ä¸€ä¸‹ç”µå½±ç¥¨æˆ¿æ”¶å…¥å’Œå›½å†…æ€»æ”¶å…¥çš„æ¯”ç‡ï¼Œè¿™æ—¶å€™æ‰å¯ä»¥è®¡ç®—ï¼š</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åœ¨æœ€åæ’ä¸€åˆ—å‘—</span></span><br><span class="line">table_1 &lt;- mutate(table_1, <span class="string">&quot;DomesticRatio&quot;</span> = ProductionBudget / DomesticGross)</span><br><span class="line">head(table_1)</span><br></pre></td></tr></table></figure><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/DaveKim3872/blogpics/20200815195433.png" style="zoom:50%;" /><h2 id="åˆ›å»ºä¸€ä¸ªé¢‘ç‡è¡¨ï¼ˆfrequency-tableï¼‰"><a href="#åˆ›å»ºä¸€ä¸ªé¢‘ç‡è¡¨ï¼ˆfrequency-tableï¼‰" class="headerlink" title="åˆ›å»ºä¸€ä¸ªé¢‘ç‡è¡¨ï¼ˆfrequency tableï¼‰"></a>åˆ›å»ºä¸€ä¸ªé¢‘ç‡è¡¨ï¼ˆfrequency tableï¼‰</h2><p><code>n()</code>æ˜¯è®¡ç®—é¢‘ç‡çš„å‡½æ•°ï¼Œä½¿ç”¨å½¢å¦‚<code>group_by(xxx) %&gt;% summarize(freq = n())</code>çš„ç®¡é“å‡½æ•°å¯ä»¥å¾ˆå¿«æ·åœ°ç”Ÿæˆä¸€åˆ—åä¸ºfreqçš„xxxé¢‘ç‡çš„è¡¨ã€‚</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æœ¬åœ°htmlè·¯å¾„</span></span><br><span class="line">url=<span class="string">&quot;BigFiveAcademyAwardwinners.html&quot;</span></span><br><span class="line"><span class="comment"># è¯»å–html</span></span><br><span class="line">m_numbers &lt;-  read_html(url)</span><br><span class="line"><span class="comment"># è½¬æ¢ä¸ºData Frameæ•°æ®è¡¨ï¼ˆè¿™æ¬¡æˆ‘ä»¬éœ€è¦çš„è¡¨æ˜¯ç¬¬äºŒä¸ªï¼‰</span></span><br><span class="line">Table &lt;- html_nodes(m_numbers,<span class="string">&quot;table&quot;</span>)[[<span class="number">2</span>]] %&gt;%</span><br><span class="line">         html_table(fill=<span class="literal">TRUE</span>) </span><br><span class="line">head(Table)</span><br><span class="line"><span class="comment"># å¯¹TableæŒ‰ç…§Best Actressè¿›è¡Œåˆ†ç»„ï¼Œå»ºç«‹é¢‘ç‡è¡¨</span></span><br><span class="line">BestActress_df &lt;- Table %&gt;%</span><br><span class="line">   group_by(`Best Actress`) %&gt;%</span><br><span class="line">   mutate(summarise(n = n())</span><br><span class="line"></span><br><span class="line">head(BestActress_df)</span><br></pre></td></tr></table></figure><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/DaveKim3872/blogpics/20200815203725.png" style="zoom:50%;" /><h3 id="æŒ‰ç…§æŸä¸€åˆ—è¿›è¡Œå‡-é™åºæ’åº"><a href="#æŒ‰ç…§æŸä¸€åˆ—è¿›è¡Œå‡-é™åºæ’åº" class="headerlink" title="æŒ‰ç…§æŸä¸€åˆ—è¿›è¡Œå‡/é™åºæ’åº"></a>æŒ‰ç…§æŸä¸€åˆ—è¿›è¡Œå‡/é™åºæ’åº</h3><p>ç»ˆäºæ¥åˆ°äº†â€œæˆ‘ç”¨excelä¸€ä¸‹å°±åšå‡ºæ¥äº†â€çš„ç¯èŠ‚ï¼Œé—®é¢˜æ˜¯excelæ²¡æ³•çˆ¬ç½‘é¡µä¸Šçš„tableå•Š ğŸ¶</p><p>ä½¿ç”¨<code>arrange()</code>å‡½æ•°å¯ä»¥å¿«æ·åœ°å¯¹æŒ‰ç…§æŸä¸€åˆ—è¿›è¡Œæ’åºã€‚è¿™ä¸ªåœ°æ–¹æ³¨æ„æœ‰ä¸ªå‘ï¼š<code>group_by()</code>å‡½æ•°é‡Œé¢å¡«å†™çš„åˆ—åå‰åè¦åŠ é‡éŸ³è®°å· `  ï¼ˆé”®ç›˜å·¦ä¸Šè§’é‚£ä¸ªç¬¦å·ï¼‰ï¼Œæˆ‘ä»¬åœ¨ä¸‹é¢ä»£ç ä¸­å°è¯•æŒ‰ç…§ä¸Šé¢è®¡ç®—çš„é¢‘ç‡è¿›è¡Œå‡åºæ’åºã€‚</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">BestActress_df &lt;- Table %&gt;%</span><br><span class="line">    <span class="comment"># è®°å¾—åŠ ``</span></span><br><span class="line">    group_by(`Best Actress`) %&gt;%</span><br><span class="line">    <span class="comment"># æ’å…¥ä¸€åˆ—é¢‘ç‡</span></span><br><span class="line">    mutate(Freq = n()) %&gt;%</span><br><span class="line">    <span class="comment"># æŒ‰ç…§é¢‘ç‡è¿›è¡Œå‡åºæ’åºï¼Œé™åºæ’åºæ˜¯arrange(desc(Freq))</span></span><br><span class="line">    arrange(Freq)</span><br><span class="line"></span><br><span class="line"><span class="comment"># è¿™æ¬¡æ”¹æˆçœ‹å±è‚¡</span></span><br><span class="line">tail(BestActress_df)</span><br></pre></td></tr></table></figure><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/DaveKim3872/blogpics/20200815210408.png" style="zoom:50%;" /><p>æœ€åä¸€åˆ—å¯ä»¥çœ‹å‡ºæ¥ï¼Œæ˜¯å‡åºæ’åºäº†ã€‚</p><h2 id="ç”»ä¸ªå›¾å§ï¼Ÿ"><a href="#ç”»ä¸ªå›¾å§ï¼Ÿ" class="headerlink" title="ç”»ä¸ªå›¾å§ï¼Ÿ"></a>ç”»ä¸ªå›¾å§ï¼Ÿ</h2><p>ä¸Šä¸€ç¯‡é‡Œå¥½åƒæäº†ä¸€å˜´ggplot2ï¼Œè¿™æ˜¯å‡ºè‡ªtidyverseä½œè€…ä¹‹æ‰‹çš„ç»˜å›¾å·¥å…·åŒ…ã€‚æˆ‘ä»¬å…ˆä¸å±•å¼€è®²ï¼Œå…ˆæ¬£èµä¸€ä¸‹ä»£ç å’Œç»“æœï¼ˆæˆ‘ä¼šå†™ä¸€ç‚¹ç®€å•çš„æ³¨é‡Šï¼Œä½†æ˜¯è¿™ä¸ªå·¥å…·åœ¨åé¢çš„notesä¸­ä¼šå±•å¼€èŠä¸€ä¸‹ï¼‰</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ç¬¬ä¸€è¡Œæ˜¯ä½¿ç”¨reorderå‡½æ•°å¯¹åŸæ¥çš„è¡¨ä¾ç…§Freqè¿›è¡Œé‡æ–°æ’åºï¼Œç¡®å®šxã€yè½´çš„å«ä¹‰</span></span><br><span class="line">ggplot(BestActress,aes(x = reorder(`Best Actress`, Freq), y=Freq)) + </span><br><span class="line">        <span class="comment"># è®¾ç½®å¤–è§‚å‚æ•°</span></span><br><span class="line">        geom_bar(stat=<span class="string">&#x27;identity&#x27;</span>,fill=<span class="string">&#x27;darkgreen&#x27;</span>) +</span><br><span class="line">        <span class="comment"># åæ ‡è½´ä¸Šçš„æ–‡å­—æ ‡è®°</span></span><br><span class="line">        coord_flip() +</span><br><span class="line">        labs(x = <span class="string">&quot;Best Actress&quot;</span>, y = <span class="string">&quot;Nominations&quot;</span>)</span><br><span class="line"></span><br><span class="line">ggsave(<span class="string">&#x27;result.pdf&#x27;</span>)</span><br></pre></td></tr></table></figure><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/DaveKim3872/blogpics/20200815212041.png" style="zoom: 33%;" /><p>æˆ‘è§‰å¾—æ¯”Excelç”»çš„å›¾æ˜¾å¾—Professionalï¼</p><p>ä¸‹ä¸€ç¯‡ï¼š<a href="https://davekim3872.github.io/2020/08/20/data-visulization-intro/">Rè¯­è¨€-åˆ†æä¸ç»˜å›¾ï¼ˆ3ï¼‰ï¼šå¯è§†åŒ–å…¥é—¨</a></p>]]></content>
      
      
      <categories>
          
          <category> Rè¯­è¨€æ•°æ®ç§‘å­¦ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> R </tag>
            
            <tag> æ•°æ®åˆ†æ </tag>
            
            <tag> Rvest </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Rè¯­è¨€-åˆ†æä¸ç»˜å›¾ï¼ˆ1ï¼‰ï¼šä½¿ç”¨tidyverseå·¥å…·åŒ…å¤„ç†æ•°æ®</title>
      <link href="/2020/08/14/R-tidyverse-one/"/>
      <url>/2020/08/14/R-tidyverse-one/</url>
      
        <content type="html"><![CDATA[<p>ä¸Šä¸€ç¯‡ï¼š<a href="https://davekim3872.github.io/2020/08/12/jupyter-notebook-R/">åœ¨MacOSä¸Šå®‰è£…ä»¥åŠä½¿ç”¨Jupyter Notebookè¿è¡ŒRè¯­è¨€</a></p><p>ç»™åª³å¦‡@Keren Wangæ•´ç†çš„ä¸€ç‚¹å­¦ä¹ ç¬”è®°ã€‚å¸Œæœ›å¯ä»¥å¸®ä½ æŠŠè¿™éƒ¨åˆ†å†…å®¹æŒæ¡é€å½»ã€‚</p><h2 id="tidyverseå’Œé¹¦é¹‰ä¹¦"><a href="#tidyverseå’Œé¹¦é¹‰ä¹¦" class="headerlink" title="tidyverseå’Œé¹¦é¹‰ä¹¦"></a>tidyverseå’Œé¹¦é¹‰ä¹¦</h2><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/DaveKim3872/blogpics/R-datascience.png" style="zoom:50%;" /><p>æ‚‰å°¼å¤§å­¦*OLET1601 Analysing and Plotting Data: R (Online)*çš„å­¦ä¹ è·¯çº¿æ˜¯å…ˆä»tidyverseè¿™ä¸ªå·¥å…·åŒ…å¼€å§‹ã€‚å…³äºè¿™ä¸ªå·¥å…·åŒ…ï¼Œç½‘ä¸Šçš„ä¸­æ–‡èµ„æ–™å‡ ä¹æ²¡æœ‰ï¼Œä½†æ˜¯ç»†å¿ƒçš„åŒå­¦ä¼šå‘ç°OREILLYç»å…¸çš„ã€ŠR for Data Scienceã€‹çŒ«å¤´é¹°é¹¦é¹‰ä¹¦å°±æ˜¯å›´ç»•ç€tidyverseå±•å¼€çš„ã€‚äº‹å®ä¸Šï¼Œè¿™æœ¬ä¹¦çš„ä½œè€…ã€RStudioé¦–å¸­ç§‘å­¦å®¶Hadley Wickhamå°±æ˜¯tidyverseå’Œggplot2çš„ä½œè€…ã€‚æ‰€ä»¥å…¶å®é™¤äº†<a href="https://www.tidyverse.org/packages/">å®˜æ–¹çš„è‹±æ–‡æ–‡æ¡£</a>ä»¥å¤–ï¼Œä¸­è‹±æ–‡ç‰ˆæœ¬çš„çŒ«å¤´é¹°é¹¦é¹‰ä¹¦ä¹Ÿæ˜¯éå¸¸ç†æƒ³çš„å‚è€ƒèµ„æ–™ã€‚<a href="https://r4ds.had.co.nz/">è‹±æ–‡ç‰ˆæœ¬</a>çš„å¯ä»¥åœ¨çº¿é˜…è¯»ï¼Œ<a href="https://wwa.lanzous.com/i2LJffm0kxa">ä¸­æ–‡ç‰ˆæœ¬</a>çš„æˆ‘ä¸Šä¼ äº†ä¸€ç‰ˆpdfï¼Œæœ‰éœ€è¦çš„è‡ªå–ï¼Œå¦‚æœ‰ä¾µæƒè¯·è”ç³»æœ¬äººåˆ é™¤ã€‚</p><p>å¦‚æœæ˜¯åœ¨æœ¬åœ°ç¯å¢ƒè€Œéåœ¨çº¿ç»ƒä¹ ç½‘ç«™ä¸Šè¿è¡Œtidyverseç›¸å…³ä»£ç ï¼Œæˆ‘ä»¬éœ€è¦åœ¨Rè¯­è¨€ä¸­å®‰è£…è¿™ä¸ªå·¥å…·åŒ…ï¼š</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">install.packages(<span class="string">&quot;tidyverse&quot;</span>)</span><br></pre></td></tr></table></figure><h2 id="éœ€è¦é‡ç”³çš„åŸºæœ¬æ¦‚å¿µ"><a href="#éœ€è¦é‡ç”³çš„åŸºæœ¬æ¦‚å¿µ" class="headerlink" title="éœ€è¦é‡ç”³çš„åŸºæœ¬æ¦‚å¿µ"></a>éœ€è¦é‡ç”³çš„åŸºæœ¬æ¦‚å¿µ</h2><p>ï¼ˆè¿™ä¸€æ®µä¸»è¦å†™ç»™ç¬¬ä¸€èŠ‚è¯¾æ²¡æœ‰å¥½å¥½å¤ç›˜çš„@Keren Wangã€‚ï¼‰</p><ul><li><p><strong>è¿”å›å€¼ï¼ˆreturnï¼‰</strong>ï¼šå¯ä»¥ç†è§£ä¸ºä¸€ä¸ªå‡½æ•°æ‰§è¡Œåçš„è¾“å‡ºã€‚</p></li><li><p><strong>èµ‹å€¼è¯­å¥</strong>ï¼šå°†æŸä¸ªå€¼ï¼ˆæ•°å€¼ã€æ•°æ®ç»“æ„ï¼‰èµ‹ç»™æŸä¸ªå˜é‡çš„è¿‡ç¨‹ã€‚ç®€å•æ¥è¯´ï¼Œä»¥ä¸‹è¯­å¥éƒ½æ˜¯å…¸å‹çš„èµ‹å€¼è¯­å¥ã€‚</p></li></ul><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">a &lt;- <span class="number">1</span></span><br><span class="line">b = <span class="string">&#x27;hello world&#x27;</span></span><br><span class="line">c = c(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>)</span><br><span class="line">d &lt;- paste(a, b, c, <span class="string">&#x27;yes&#x27;</span>)</span><br></pre></td></tr></table></figure><p>â€‹        åœ¨æ‰§è¡Œå®Œèµ‹å€¼è¡¨è¾¾å¼åï¼Œèµ‹å€¼ç¬¦å·ï¼ˆ<code>&lt;-</code>æˆ–è€…<code>=</code>ï¼‰å·¦è¾¹çš„å˜é‡å°±è¢«èµ‹äºˆäº†ä»£è¡¨å³è¾¹çš„å€¼ï¼ˆæ•°å€¼ã€æ•°æ®ç»“æ„ã€è¡¨è¾¾å¼æ‰§        è¡Œ    ç»“æœï¼‰çš„å«ä¹‰ã€‚</p><ul><li><p><strong>å‘é‡ï¼ˆVectorï¼‰</strong>ï¼šå‘é‡ä»æ•°æ®ç»“æ„ä¸Šçœ‹å°±æ˜¯ä¸€ä¸ªçº¿æ€§è¡¨ï¼ˆåˆ—è¡¨ï¼‰ï¼Œå¯ä»¥çœ‹æˆä¸€ä¸ªæ•°ç»„ã€‚R è¯­è¨€ä¸­å‘é‡ä½œä¸ºä¸€ç§ç±»å‹å­˜åœ¨å¯ä»¥è®©å‘é‡çš„æ“ä½œå˜å¾—æ›´åŠ å®¹æ˜“ã€‚</p></li><li><p><strong><code>c()</code></strong> ï¼šæ˜¯ä¸€ä¸ªåˆ›é€ å‘é‡çš„å‡½æ•°ã€‚æˆ‘ä»¬æ–°å»ºä¸¤ä¸ªå‘é‡<code>a, b</code>å¹¶è¾“å‡ºå‘é‡åŠ æ³•çš„ç»“æœä½œä¸ºç¤ºä¾‹ã€‚</p></li></ul><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">a = c(<span class="number">3</span>, <span class="number">4</span>)</span><br><span class="line">b = c(<span class="number">5</span>, <span class="number">0</span>)</span><br><span class="line">a + b</span><br></pre></td></tr></table></figure><p>â€‹        è¿è¡Œä»£ç ï¼Œå¾—åˆ°ä¸‹å›¾çš„ç»“æœï¼Œå³è¾“å‡º<code>[3, 4] + [5, 0]</code>çš„è¿ç®—ç»“æœï¼šå‘é‡<code>[8, 4]</code></p><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/DaveKim3872/blogpics/20200814130610.png" style="zoom: 67%;" /><ul><li><p><strong>åŠ æˆ–è€…ä¸åŠ <code>print()</code>çš„åŒºåˆ«</strong>ï¼šåœ¨ä¸Šå›¾æ‰€ç¤ºçš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°å³ä½¿æ²¡æœ‰<code>print(a + b)</code>ä¹Ÿè¾“å‡ºäº†ç»“æœã€‚å¦‚æœåŠ ä¸Šï¼Œé‚£è¾“å‡ºæ˜¯è¿™æ ·ï¼š</p><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/DaveKim3872/blogpics/20200814132503.png" style="zoom:67%;" /><p>çœ‹èµ·æ¥å¥½åƒåªæ˜¯å¤šäº†ä¸ªè¡Œåºå·è€Œå·²ã€‚é‚£ä¹ˆåŠ ä¸åŠ <code>print()</code>æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿäº‹å®ä¸Šï¼Œåªæœ‰åœ¨ç»ˆç«¯ã€jupyterç­‰å·¥ä½œç©ºé—´ä¸­é€è¡Œè¿è¡Œç¨‹åºçš„æ—¶å€™ï¼Œç›´æ¥æŠŠæŸä¸ªå€¼ä½œä¸ºè¯­å¥æ‰§è¡Œæ‰ä¼šè¾“å‡ºç»“æœï¼›è€Œåœ¨è¿è¡Œä¸€æ®µè„šæœ¬æ–‡ä»¶ï¼ˆxxx.Rï¼‰çš„æ—¶å€™ï¼Œæ²¡æœ‰ä½¿ç”¨<code>print()</code>å‡½æ•°çš„å€¼è¯­å¥æ˜¯æ— æ³•æ‰“å°å‡ºæ¥çš„ã€‚</p></li><li><p><strong>æ‹¼æ¥å­—ç¬¦ä¸²</strong>ï¼šRè¯­è¨€ä¸­ä½¿ç”¨<code>paste()</code>å‡½æ•°å¯¹å­—ç¬¦ä¸²è¿›è¡Œæ‹¼æ¥ï¼Œè¯¥å‡½æ•°æ¥æ”¶æ•°ä¸ªå€¼ä½œä¸ºå‚æ•°ï¼Œæ‹¼æ¥æ—¶ä¼šè‡ªåŠ¨åœ¨å€¼ä¹‹é—´æ·»åŠ ç©ºæ ¼ï¼Œè¿”å›å€¼ä¸ºä¸€ä¸ªå­—ç¬¦ä¸²ã€‚</p></li></ul><h2 id="è½½å…¥åŒ…ã€è¯»å–å’Œå±•ç¤ºæ•°æ®"><a href="#è½½å…¥åŒ…ã€è¯»å–å’Œå±•ç¤ºæ•°æ®" class="headerlink" title="è½½å…¥åŒ…ã€è¯»å–å’Œå±•ç¤ºæ•°æ®"></a>è½½å…¥åŒ…ã€è¯»å–å’Œå±•ç¤ºæ•°æ®</h2><h3 id="è½½å…¥tidyverse"><a href="#è½½å…¥tidyverse" class="headerlink" title="è½½å…¥tidyverse"></a>è½½å…¥tidyverse</h3><p>æˆ‘ä»¬ä½¿ç”¨ä¸‹åˆ—ä¸¤æ¡è¯­å¥ä¹‹ä¸€è½½å…¥tidyverseå·¥å…·åŒ…ï¼š</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># option 1:</span></span><br><span class="line"><span class="keyword">library</span>(tidyverse)</span><br><span class="line"><span class="comment"># option 2:</span></span><br><span class="line"><span class="keyword">require</span>(tidyverse)</span><br></pre></td></tr></table></figure><p>åœ¨Rè¯­è¨€ä¸­ï¼Œ<code>library()</code>å’Œ<code>require()</code>éƒ½å¯ä»¥è½½å…¥å·¥å…·åŒ…ï¼ŒäºŒè€…ä¹‹é—´çš„åŒºåˆ«æ˜¯åè€…å…·æœ‰<code>bool</code>ç±»å‹çš„è¿”å›å€¼ï¼šåœ¨ä¸€ä¸ªå‡½æ•°ä¸­ï¼Œå¦‚æœä¸€ä¸ªåŒ…ä¸å­˜åœ¨ï¼Œæ‰§è¡Œåˆ°<code>library()</code>å°†ä¼šåœæ­¢æ‰§è¡Œï¼Œ<code>require()</code>åˆ™ä¼šè¿”å›<code>false</code>åç»§ç»­æ‰§è¡Œã€‚ä¸‹å›¾å°±æ˜¯è·å–äº†<code>require(tidyverse)</code>çš„è¿”å›å€¼å¹¶è¾“å‡ºç»“æœï¼Œå¯ä»¥çœ‹åˆ°ï¼Œå› ä¸ºè½½å…¥äº†æ­£ç¡®çš„åŒ…ï¼Œ<code>require()</code>è¾“å‡ºäº†<code>true</code>ã€‚</p><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/DaveKim3872/blogpics/2020-08-14%20at%201.35%20PM.png"  /><p>è€Œå¦‚æœè½½å…¥äº†ä¸å­˜åœ¨æˆ–è€…æœªå®‰è£…çš„åŒ…ï¼Œåˆ™ä¼šè¿”å›<code>false</code>ï¼š</p><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/DaveKim3872/blogpics/2020-08-14%20at%201.38%20PM.png"></p><h3 id="è¯»å–æ•°æ®"><a href="#è¯»å–æ•°æ®" class="headerlink" title="è¯»å–æ•°æ®"></a>è¯»å–æ•°æ®</h3><p>ä½¿ç”¨<code>read_delim()</code>å¯ä»¥è¯»å–ä»»æ„åˆ†éš”ç¬¦çš„æ–‡ä»¶ã€‚åœ¨æœ¬ç« æˆ‘ä»¬åªéœ€è¦äº†è§£è¯¥å‡½æ•°çš„ä¸¤ä¸ªå‚æ•°å³å¯ï¼š<code>read_delim(&quot;æ–‡ä»¶å&quot;, delim = &quot;åˆ†éš”ç¬¦ç±»å‹&quot;)</code>ã€‚ä¸‹é¢ä¸¤è¡Œä»£ç åˆ†åˆ«ä»£è¡¨è¯»å–ä½¿ç”¨é€—å·åˆ†éš”çš„â€OECDpop.csvâ€æ–‡ä»¶å’Œè¯»å–ä½¿ç”¨ç©ºæ ¼åˆ†éš”çš„â€œAustraliaDemographics.datâ€æ–‡ä»¶ï¼ˆ<a href="https://wwa.lanzous.com/if67Ufm7l5a">ç‚¹å‡»ä¸‹è½½ä¸Šè¿°æ–‡ä»¶</a>ï¼‰ï¼Œè¿”å›ä¸€ä¸ª<code>tibble()</code>ç±»å‹çš„æ•°æ®è¡¨ï¼ˆdataframeï¼‰ï¼Œå¹¶èµ‹ç»™åä¸º<code>pop_data</code>çš„å˜é‡ã€‚</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è¯»å–ä½¿ç”¨é€—å·åˆ†éš”çš„&quot;OECDpop.csv&quot;æ–‡ä»¶</span></span><br><span class="line">pop_data = read_delim(<span class="string">&#x27;OECDpop.csv&#x27;</span>,delim = <span class="string">&#x27;,&#x27;</span>)</span><br><span class="line"><span class="comment"># è¯»å–ä½¿ç”¨ç©ºæ ¼åˆ†éš”çš„â€œAustraliaDemographics.datâ€æ–‡ä»¶</span></span><br><span class="line">pop_data &lt;- read_delim(<span class="string">&quot;AustraliaDemographics.dat&quot;</span>, delim = <span class="string">&quot; &quot;</span>)</span><br></pre></td></tr></table></figure><h3 id="å±•ç¤ºæ•°æ®"><a href="#å±•ç¤ºæ•°æ®" class="headerlink" title="å±•ç¤ºæ•°æ®"></a>å±•ç¤ºæ•°æ®</h3><ul><li>å¯¹äºtibbleç±»å‹çš„æ•°æ®è¡¨ï¼Œ<code>tail()</code>å’Œ<code>head()</code>å‡½æ•°åˆ†åˆ«å¯ä»¥è¿”å›æ•°æ®è¡¨çš„æœ€åå’Œæœ€å‰6è¡Œã€‚</li></ul><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è¿”å›æœ€å6è¡Œ</span></span><br><span class="line">tail(pop_data)</span><br><span class="line"><span class="comment"># è¿”å›æœ€å‰6è¡Œ</span></span><br><span class="line">head(pop_data)</span><br></pre></td></tr></table></figure><ul><li>å¯¹äºtibbleç±»å‹çš„æ•°æ®è¡¨ï¼Œ<code>summary()</code>å‡½æ•°å¯ä»¥è¾“å‡ºæ•°æ®è¡¨æ¯ä¸€åˆ—çš„åç§°ã€æ•°æ®ç±»å‹ã€æ•°å€¼å‹æ•°æ®çš„å„ç§ç»Ÿè®¡å€¼å’Œéæ•°å€¼å‹æ•°æ®çš„é•¿åº¦ã€‚</li></ul><h3 id="é€‰å–æŸä¸€éƒ¨åˆ†æ•°æ®ï¼ˆè¡Œä¸åˆ—çš„ç»„åˆï¼‰"><a href="#é€‰å–æŸä¸€éƒ¨åˆ†æ•°æ®ï¼ˆè¡Œä¸åˆ—çš„ç»„åˆï¼‰" class="headerlink" title="é€‰å–æŸä¸€éƒ¨åˆ†æ•°æ®ï¼ˆè¡Œä¸åˆ—çš„ç»„åˆï¼‰"></a>é€‰å–æŸä¸€éƒ¨åˆ†æ•°æ®ï¼ˆè¡Œä¸åˆ—çš„ç»„åˆï¼‰</h3><ul><li>å‡å¦‚æˆ‘æƒ³åœ¨pop_dataè¿™ä¸ªè¡¨ä¸­é€‰å–â€œTotalâ€è¿™ä¸€åˆ—ï¼Œå¯ä»¥ä½¿ç”¨ç±»ä¼¼æ•°ç»„ä¸‹æ ‡çš„æ–¹å¼ã€‚åŒæ—¶ï¼Œå¦‚æœä¸‹æ ‡æœ‰ä¸¤é¡¹ï¼Œç¬¬ä¸€é¡¹ä»£è¡¨çš„å°±æ˜¯è¡Œå·ã€‚</li></ul><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å–å‡ºTotalè¿™ä¸€åˆ—</span></span><br><span class="line">a &lt;- pop_data[<span class="string">&quot;Total&quot;</span>]</span><br><span class="line"><span class="comment"># å–å‡ºTotalè¿™ä¸€åˆ—çš„ç¬¬äº”è¡Œ</span></span><br><span class="line">b &lt;- pop_data[<span class="number">5</span>, <span class="string">&quot;Total&quot;</span>]</span><br></pre></td></tr></table></figure><ul><li>å¦‚æœæˆ‘æƒ³é€‰æ‹©æŸå‡ åˆ—çš„æ•°æ®ï¼Œéœ€è¦å…ˆæŠŠè¿™å‡ åˆ—çš„æ ‡é¢˜å»ºç«‹æˆä¸€ä¸ªå‘é‡ï¼Œç„¶åå†å¯¹è¿™ä¸ªå‘é‡å–ä¸‹æ ‡ã€‚åŒæ—¶ï¼Œå¦‚æœä¸‹æ ‡æœ‰ä¸¤é¡¹ï¼Œç¬¬ä¸€é¡¹ä»£è¡¨çš„æ˜¯è¡Œå·ï¼Œä¸”è¡Œå·ä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªå‘é‡ï¼ˆä»£è¡¨å–ä¸æ­¢ä¸€è¡Œï¼‰</li></ul><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å–å‡ºè¿™ä¸‰åˆ—</span></span><br><span class="line">a &lt;- pop_data[c(<span class="string">&quot;Male&quot;</span>, <span class="string">&quot;Female&quot;</span>, <span class="string">&quot;Total&quot;</span>)]</span><br><span class="line"><span class="comment"># å–å‡ºè¿™ä¸‰åˆ—çš„ç¬¬äº”è¡Œ</span></span><br><span class="line">b &lt;- pop_data[<span class="number">5</span>, c(<span class="string">&quot;Male&quot;</span>, <span class="string">&quot;Female&quot;</span>, <span class="string">&quot;Total&quot;</span>)]</span><br><span class="line"><span class="comment"># å–å‡ºè¿™ä¸‰åˆ—çš„ç¬¬5ã€6ã€7è¡Œ</span></span><br><span class="line">c &lt;- pop_data[c(<span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>), c(<span class="string">&quot;Male&quot;</span>, <span class="string">&quot;Female&quot;</span>, <span class="string">&quot;Total&quot;</span>)]</span><br><span class="line"><span class="comment"># å–å‡ºTotalè¿™ä¸€åˆ—çš„ç¬¬5ã€6ã€7è¡Œ</span></span><br><span class="line">d &lt;- pop_data[c(<span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>), <span class="string">&quot;Total&quot;</span>]</span><br></pre></td></tr></table></figure><ul><li>æ€»è€Œè¨€ä¹‹ï¼Œå°±æ˜¯å•ä¸ªå€¼å’Œå‘é‡çš„<strong>è‡ªç”±ç»„åˆ</strong>ã€‚ä½†æ˜¯æ³¨æ„âš ï¸ï¼šå³ä½¿æƒ³å–æ‰€æœ‰åˆ—ï¼ŒæŠŠåˆ—æ ‡é¢˜ç•™ç©ºï¼Œä¹Ÿå¿…é¡»åœ¨è¡Œå·åé¢ä¿ç•™é€—å·ã€‚å¦‚ä¸‹æ‰€ç¤ºï¼š</li></ul><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å–å‡ºæ‰€æœ‰åˆ—çš„ç¬¬5ã€6ã€7è¡Œçš„é”™è¯¯åšæ³•</span></span><br><span class="line">a &lt;- pop_data[c(<span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>)]</span><br><span class="line"><span class="comment"># å–å‡ºæ‰€æœ‰åˆ—çš„ç¬¬5ã€6ã€7è¡Œçš„æ­£ç¡®åšæ³•</span></span><br><span class="line">a &lt;- pop_data[c(<span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>), ]</span><br></pre></td></tr></table></figure><h2 id="ä½¿ç”¨tidyverseç®€å•åˆ†ææ•°æ®"><a href="#ä½¿ç”¨tidyverseç®€å•åˆ†ææ•°æ®" class="headerlink" title="ä½¿ç”¨tidyverseç®€å•åˆ†ææ•°æ®"></a>ä½¿ç”¨tidyverseç®€å•åˆ†ææ•°æ®</h2><h3 id="æœ€å¤§-æœ€å°å€¼è®¡ç®—"><a href="#æœ€å¤§-æœ€å°å€¼è®¡ç®—" class="headerlink" title="æœ€å¤§/æœ€å°å€¼è®¡ç®—"></a>æœ€å¤§/æœ€å°å€¼è®¡ç®—</h3><p>å‡å¦‚æˆ‘æƒ³è®¡ç®—æŸä¸€åˆ—çš„æœ€å¤§å€¼æˆ–è€…æœ€å°å€¼ï¼Œå¯ä»¥ä½¿ç”¨<code>summarize()</code>å‡½æ•°ã€‚è¯¥å‡½æ•°æ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼š<code>summarize(æ•°æ®è¡¨å, which.max(åˆ—æ ‡é¢˜)æˆ–è€…which.min(åˆ—æ ‡é¢˜))</code>ï¼Œè¾“å‡ºçš„æ˜¯tibble DataFrameæ ¼å¼å½“ä¸­çš„ä¸€ä¸ªå•å…ƒæ ¼ï¼Œéœ€è¦é€šè¿‡ä¸‹æ–‡çš„å¼ºåˆ¶ç±»å‹è½¬æ¢ä¸ºæ­£å¸¸çš„æ•°å€¼æ‰èƒ½è¿›è¡Œè¿ç®—ã€‚</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è®¡ç®—pop_dataè¡¨ä¸­Femaleè¿™ä¸€åˆ—çš„æœ€å¤§å€¼</span></span><br><span class="line">idx &lt;- summarize(pop_data, which.max(Female))</span><br></pre></td></tr></table></figure><p>æ³¨æ„ï¼š</p><ul><li><p><code>summarize()</code>å‡½æ•°æ˜¯ä¸€ç§é€šè¿‡æŸäº›è®¡ç®—è¾“å‡ºæ–°çš„DataFrameçš„å‡½æ•°ï¼Œå®ƒæ¥æ”¶DataFrameå’Œéœ€è¦ç”Ÿæˆçš„å†…å®¹çš„è§„åˆ™ä½œä¸ºå‚æ•°ï¼Œè¾“å‡ºä¸€ä¸ªDataFrameæ ¼å¼çš„æ•°æ®ï¼ˆå¯ä»¥æ˜¯è¡Œå·æ•°æ®æˆ–è€…æ˜¯ä¸€åˆ—æ•°æ®ï¼‰ã€‚</p></li><li><p>åé¢æˆ‘ä»¬ä¼šäº†è§£åˆ°ï¼Œ<code>summarize()</code>å‡½æ•°ä¸­çš„å‚æ•°å¦‚æœæ˜¯which/which.xxxå‡½æ•°çš„è¯ï¼Œè¾“å‡ºçš„å°±æ˜¯æŸä¸€è¡Œçš„indexï¼›è€Œå¦‚æœæ˜¯æ¡ä»¶è¡¨è¾¾å¼<code>xx == &quot;xxx&quot;</code>çš„è¯ï¼Œè¾“å‡ºçš„å°±æ˜¯ä¸€åˆ—å®Œæ•´çš„æ•°æ®ã€‚ä¸‹ä¸€ç« ä¸­æˆ‘ä»¬ä¼šä½¿ç”¨è¿™ä¸ªç‰¹æ€§å»ºç«‹é¢‘ç‡è¡¨ã€‚</p></li></ul><h3 id="ç±»å‹è½¬æ¢"><a href="#ç±»å‹è½¬æ¢" class="headerlink" title="ç±»å‹è½¬æ¢"></a>ç±»å‹è½¬æ¢</h3><p>åœ¨æ•°æ®è¡¨ä¸­å³ä½¿ç²¾ç¡®å®šä½äº†æŸä¸€è¡Œã€æŸä¸€åˆ—çš„æ•°æ®ï¼Œè¾“å‡ºçš„æ•°æ®ç±»å‹ä¹Ÿä»ç„¶æ˜¯tibbleç±»å‹ï¼Œå¦‚ä¸Šæ–‡çš„<code>idx</code>å˜é‡ã€‚ä¸ºäº†å¯¹è¿™äº›æ•°æ®è¿›è¡Œè¿ç®—æˆ–è€…æ“ä½œï¼Œtidyverseå®šä¹‰äº†å¼ºåˆ¶ç±»å‹è½¬æ¢å‡½æ•°å¦‚<code>as.numeric()</code>å’Œ<code>as.character()</code>ï¼š</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å°†idxè½¬ä¸ºæ•°å­—åä½œä¸ºè¡Œæ ‡ï¼Œå–å‡ºè¿™ä¸€è¡Œçš„Stateè¿™ä¸€åˆ—ï¼Œå³å¾—åˆ°äº†å¥³æ€§æœ€å¤šçš„å·</span></span><br><span class="line">fem_max_state &lt;- pop_data[as.numeric(idx),<span class="string">&quot;State&quot;</span>]</span><br></pre></td></tr></table></figure><h3 id="ç®¡é“ï¼ˆpipelineï¼‰"><a href="#ç®¡é“ï¼ˆpipelineï¼‰" class="headerlink" title="ç®¡é“ï¼ˆpipelineï¼‰"></a>ç®¡é“ï¼ˆpipelineï¼‰</h3><p>ç®¡é“æ˜¯ä¸€ç§ç»„åˆå¤šä¸ªæ“ä½œçš„æ–¹å¼ã€‚ç®€å•æ¥è¯´ï¼Œå¦‚æœä½ æƒ³å¯¹aè¿›è¡Œbæ“ä½œåè®¡ç®—å¾—åˆ°cå€¼ï¼Œä½ å¤§å¯ä»¥ä¸€æ­¥æ­¥ä¿å­˜ä¸­é—´å˜é‡ï¼Œå†åšä¸‹ä¸€æ­¥æ“ä½œï¼›ä½†æ˜¯ä¹Ÿå¯ä»¥é€šè¿‡ç®¡é“çš„æ–¹å¼ï¼Œä½¿ç”¨<code>%&gt;%</code>è¿æ¥å‰åæ“ä½œã€‚æˆ‘ä»¬ä»¥<em>å¯¹pop_dataæŒ‰ç…§Stateåˆ†ç»„åï¼Œä½¿ç”¨ä¸€ä¸ª<code>summarize</code>å‡½æ•°åˆ†åˆ«è®¡ç®—å‡ºæ¯ä¸ªStateçš„ç”·æ€§äººå£æœ€å¤§å€¼ã€å¹³å‡å€¼å’Œæ ‡å‡†å·®ï¼Œå¹¶ä¿å­˜åˆ°ä¸€ä¸ªå«åšsumçš„æ•°æ®è¡¨å½“ä¸­</em>ä¸ºä¾‹ï¼Œä»‹ç»ç®¡é“çš„ç”¨æ³•ã€‚</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å®šä¹‰ä¿å­˜ç»“æœçš„å˜é‡åsum</span></span><br><span class="line">sum &lt;- pop_data %&gt;%</span><br><span class="line">      <span class="comment"># ä½¿ç”¨group_byè¿›è¡Œåˆ†ç»„å</span></span><br><span class="line">      group_by(`State`) %&gt;%</span><br><span class="line">      <span class="comment"># å¯¹æ¯ä¸€ç»„è¿›è¡Œsummarize</span></span><br><span class="line">      summarize(</span><br><span class="line">          <span class="comment"># è®¡ç®—ç”·æ€§äººå£æœ€å¤§å€¼</span></span><br><span class="line">          max_M = max(Male),</span><br><span class="line">          <span class="comment"># è®¡ç®—ç”·æ€§äººå£å¹³å‡å€¼</span></span><br><span class="line">          average_M = mean(Male),</span><br><span class="line">          <span class="comment"># è®¡ç®—ç”·æ€§äººå£æ ‡å‡†å·®</span></span><br><span class="line">          st_dev_M = sd(Male)</span><br><span class="line">      )</span><br></pre></td></tr></table></figure><p>è¿è¡Œsumè¾“å‡ºä¸€ä¸‹ï¼Œè¡¨æ ¼é•¿è¿™æ ·ï¼š</p><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/DaveKim3872/blogpics/20200814145444.png" style="zoom:67%;" /><h3 id="å¢åŠ æˆ–ä¿®æ”¹åˆ—"><a href="#å¢åŠ æˆ–ä¿®æ”¹åˆ—" class="headerlink" title="å¢åŠ æˆ–ä¿®æ”¹åˆ—"></a>å¢åŠ æˆ–ä¿®æ”¹åˆ—</h3><p>ä½¿ç”¨<code>mutate()</code>å‡½æ•°å¢åŠ æˆ–è€…ä¿®æ”¹åˆ—ï¼Œå‡½æ•°å¿…é¡»æ¥æ”¶æ•°æ®è¡¨çš„åç§°å’Œä½¿ç”¨æ•°æ®è¡¨ä¸­æŸäº›åˆ—è¿›è¡Œçš„è¿ç®—æ“ä½œä½œä¸ºå‚æ•°ã€‚<code>mutate()</code>æ€»æ˜¯å°†æ–°åˆ—æ·»åŠ åœ¨æ•°æ®é›†çš„æœ€åã€‚ä¸¾ä¾‹æ¥è¯´ï¼Œä½¿ç”¨ç®¡é“æ–°å»ºåˆ—è®¡ç®—å¥³æ€§ç™¾åˆ†æ¯”çš„æ“ä½œæ˜¯è¿™æ ·å†™çš„ï¼š</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å¦‚æœä¸æƒ³è¦†ç›–åŸæ¥çš„æ•°æ®è¡¨ï¼Œå¯ä»¥æ–°å»ºå˜é‡å†™æˆ new_pop_data &lt;- pop_data %&gt;%</span></span><br><span class="line">pop_data &lt;- pop_data %&gt;%</span><br><span class="line">    mutate(women_perc = Female/Total*<span class="number">100</span>)</span><br></pre></td></tr></table></figure><p>å¦‚æœä¸æƒ³ä½¿ç”¨ç®¡é“ï¼Œä¹Ÿå¯ä»¥å†™æˆï¼š</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">pop_data &lt;- mutate(</span><br><span class="line">  <span class="comment"># å¦‚æœä¸æƒ³è¦†ç›–åŸæ¥çš„æ•°æ®è¡¨ï¼Œå¯ä»¥æ–°å»ºå˜é‡å†™æˆ new_pop_data,</span></span><br><span class="line">  pop_data,</span><br><span class="line">  women_perc = Female/Total*<span class="number">100</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure><p>è¿è¡Œ<code>head(pop_data)</code>è¾“å‡ºä¸€ä¸‹ï¼Œä¸¤ç§æ–¹æ³•éƒ½è¾“å‡ºäº†è¿™ä¸ªï¼š</p><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/DaveKim3872/blogpics/20200814150631.png"></p><p>å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘ä»¬æ–°å»ºçš„women_percå·²ç»æ·»åŠ åœ¨äº†æœ€åã€‚</p><h3 id="è¿‡æ»¤ï¼ˆfilterï¼‰"><a href="#è¿‡æ»¤ï¼ˆfilterï¼‰" class="headerlink" title="è¿‡æ»¤ï¼ˆfilterï¼‰"></a>è¿‡æ»¤ï¼ˆfilterï¼‰</h3><p><code>filter()</code>æ˜¯tidyverseéå¸¸é‡è¦çš„ä¸€ç§æ–¹æ³•ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œè¿™ä¸ªå‡½æ•°æ¥å—çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯æ•°æ®è¡¨çš„åç§°ï¼Œåé¢æ•°ä¸ªå‚æ•°æ˜¯æˆ‘ä»¬éœ€è¦è®¾å®šçš„è¿‡æ»¤å™¨ï¼Œæ ¼å¼ä¸ºâ€œå±æ€§ == æŸä¸ªå€¼â€ã€‚ç†è§£èµ·æ¥éå¸¸ç›´ç™½ï¼Œä¸‹é¢å±•ç¤ºå‡ ä¸ªä¾‹å­ï¼š</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å–å‡ºå­é›†ï¼šNSWå·çš„äººå£æ•°æ®è¡¨</span></span><br><span class="line">df_nsw_T &lt;- filter(pop_data, State == <span class="string">&quot;NSW&quot;</span>)</span><br><span class="line"><span class="comment"># å–å‡ºå­é›†ï¼šACTå·çš„äººå£æ•°æ®è¡¨ä¸­çš„Maleè¿™ä¸€åˆ—</span></span><br><span class="line">df_act_male &lt;- filter(pop_data, State == <span class="string">&quot;NSW&quot;</span>)[<span class="string">&quot;Male&quot;</span>]</span><br><span class="line"><span class="comment"># å–å‡ºå­é›†ï¼šVICå·çš„äººå£æ•°æ®è¡¨ä¸­2014å¹´æ•°æ®çš„çš„Maleå’ŒFemaleè¿™ä¸¤åˆ—</span></span><br><span class="line">df_vic_14_mf &lt;- filter(pop_data, State == <span class="string">&quot;VIC&quot;</span>, Year == <span class="number">2014</span>)[c(<span class="string">&quot;Male&quot;</span>, <span class="string">&quot;Female&quot;</span>)]</span><br></pre></td></tr></table></figure><h3 id="ä¿ç•™å°æ•°"><a href="#ä¿ç•™å°æ•°" class="headerlink" title="ä¿ç•™å°æ•°"></a>ä¿ç•™å°æ•°</h3><p>ä½¿ç”¨<code>round()</code>å‡½æ•°æ§åˆ¶ä¿ç•™ä½æ•°ï¼ˆå››èˆäº”å…¥ï¼‰ã€‚</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å¯¹æµ®ç‚¹æ•°3.1415926å–å°æ•°ç‚¹å3ä½ï¼Œè¾“å‡ºï¼š3.142</span></span><br><span class="line">pie &lt;- round(<span class="number">3.1415926</span>, <span class="number">3</span>)</span><br></pre></td></tr></table></figure><h2 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h2><p>[1] Tidyverse Official Homepage <a href="https://www.tidyverse.org/packages/">https://www.tidyverse.org/packages/</a></p><p>[2] R for Data Science <a href="https://r4ds.had.co.nz/">https://r4ds.had.co.nz/</a></p><p>ä¸‹ä¸€ç¯‡ï¼š<a href="https://davekim3872.github.io/2020/08/15/webpages-analyze/">Rè¯­è¨€-åˆ†æä¸ç»˜å›¾ï¼ˆ2ï¼‰ï¼šä½¿ç”¨rveståº“æŠ“å–å’Œåˆ†æç½‘é¡µä¿¡æ¯</a></p>]]></content>
      
      
      <categories>
          
          <category> Rè¯­è¨€æ•°æ®ç§‘å­¦ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> R </tag>
            
            <tag> Dataframe </tag>
            
            <tag> Tidyverse </tag>
            
            <tag> æ•°æ®åˆ†æ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Leetcode 1.ä¸¤æ•°ä¹‹å’Œ &amp; 15.ä¸‰æ•°ä¹‹å’Œ</title>
      <link href="/2020/08/13/leetcode-two-sum-three-sum/"/>
      <url>/2020/08/13/leetcode-two-sum-three-sum/</url>
      
        <content type="html"><![CDATA[<h3 id="ä¸¤æ•°ä¹‹å’Œï¼ˆTwo-Sumï¼‰â€”â€”æ¢¦å¼€å§‹çš„åœ°æ–¹"><a href="#ä¸¤æ•°ä¹‹å’Œï¼ˆTwo-Sumï¼‰â€”â€”æ¢¦å¼€å§‹çš„åœ°æ–¹" class="headerlink" title="ä¸¤æ•°ä¹‹å’Œï¼ˆTwo Sumï¼‰â€”â€”æ¢¦å¼€å§‹çš„åœ°æ–¹"></a>ä¸¤æ•°ä¹‹å’Œï¼ˆTwo Sumï¼‰â€”â€”æ¢¦å¼€å§‹çš„åœ°æ–¹</h3><p>é¢˜ç›®é“¾æ¥ï¼š<a href="https://leetcode-cn.com/problems/two-sum/">1. ä¸¤æ•°ä¹‹å’Œ</a></p><p>è¿™å°±æ˜¯å•è¯è¡¨é‡Œçš„Abandon Abortä¸€ç±»çš„å­˜åœ¨ï¼Œhelfront worldæ–°æ‰‹ä½“éªŒå±€ï¼Œæ²¡å•¥å¥½è¯´çš„ï¼Œæˆ‘ä¹Ÿæ²¡å•¥æ–°é¢–çš„è§£æ³•ï¼Œéå†å…ƒç´ ç„¶å<code>HashMap</code>æŸ¥è¡¨åŒ¹é…<code>target - nums[i]</code>å°±å¥½äº†ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span>[] twoSum(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> target) &#123;</span><br><span class="line">        Map&lt;Integer, Integer&gt; map = <span class="keyword">new</span> HashMap&lt;Integer, Integer&gt;();</span><br><span class="line">        <span class="keyword">int</span>[] res = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">2</span>];</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; nums.length; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(map.containsKey(target - nums[i])) &#123;</span><br><span class="line">                res[<span class="number">0</span>] = map.get(target - nums[i]);</span><br><span class="line">                res[<span class="number">1</span>] = i;</span><br><span class="line">                <span class="keyword">return</span> res;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> &#123;</span><br><span class="line">                map.put(nums[i], i);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ä¸‰æ•°ä¹‹å’Œï¼ˆThree-Sumï¼‰"><a href="#ä¸‰æ•°ä¹‹å’Œï¼ˆThree-Sumï¼‰" class="headerlink" title="ä¸‰æ•°ä¹‹å’Œï¼ˆThree Sumï¼‰"></a>ä¸‰æ•°ä¹‹å’Œï¼ˆThree Sumï¼‰</h3><p>é¢˜ç›®é“¾æ¥ï¼š<a href="https://leetcode-cn.com/problems/3sum/">15. ä¸‰æ•°ä¹‹å’Œ</a></p><p>é¢˜ç›®æ˜¯è¯´éœ€è¦æŠŠç»™å‡ºçš„listé‡Œç›¸åŠ ä¸º0çš„ä¸‰å…ƒç»„æ‰¾å‡ºæ¥ã€‚ä¸€å¼€å§‹é™¤äº†æ ¹æœ¬acä¸äº†çš„æš´åŠ›è§£æ³•æƒ³ä¸åˆ°ä»€ä¹ˆæ€è·¯ï¼Œå°±å¤§æ¦‚å‚è€ƒä¸€ä¸‹çƒ­åº¦æ¯”è¾ƒé«˜çš„æ€è·¯ã€‚</p><h4 id="åŒæŒ‡é’ˆæ³•"><a href="#åŒæŒ‡é’ˆæ³•" class="headerlink" title="åŒæŒ‡é’ˆæ³•"></a>åŒæŒ‡é’ˆæ³•</h4><p>åŒæŒ‡é’ˆæ³•çš„åŸç†æ˜¯åœ¨<strong>å·²æ’åº</strong>çš„æ•°ç»„å†…ä½¿ç”¨ä¸€å¤´ä¸€å°¾ä¸¤ä¸ªæŒ‡é’ˆå‘ä¸­é—´ç§»åŠ¨ä»¥æ‰¾åˆ°ä¸¤æ•°ä¹‹å’Œç­‰äºæŒ‡å®šå€¼çš„å…¨éƒ¨ç»„åˆã€‚ï¼ˆæ‰€ä»¥å•Šï¼Œè¿™ä¹Ÿå¯ä»¥è§£å†³ç¬¬ä¸€ä¸ªé—®é¢˜ï¼‰æœ¬é¢˜ä¸ºä¸‰æ•°ä¹‹å’Œï¼Œå¯ä»¥åœ¨æ’åºçš„æ•°ç»„ä¸­å…ˆå›ºå®šä¸€ä¸ªæ•°ï¼ˆä»å‰å‘åéå†ï¼‰ï¼Œå°†è¿™ä¸ªæ•°å­—çš„ç›¸åæ•°ä½œä¸ºtargetï¼Œå®ç°ä»¥è¿™ä¸ªæ•°å­—ä¹‹åçš„listä¸ºèŒƒå›´çš„åŒæŒ‡é’ˆä¸¤æ•°ä¹‹å’Œé—®é¢˜ã€‚å…·ä½“æ¥è¯´ä¹Ÿå°±æ˜¯ä¸¤ä¸ªæ­¥éª¤ï¼š</p><ol><li>æ’åºã€‚è¿™ä¸ªå¯ä»¥ä¸ç”¨è´¹æ—¶é—´äº†ï¼ˆä¹‹ååº”è¯¥ä¼šå†æ€»ç»“ä¸€éå„ç§æ’åºç®—æ³•ï¼Œè™½ç„¶å·²ç»è¢«å¤§å®¶è®²çƒ‚äº†ï¼Œä½†å¯¹äºæˆ‘æ¥è¯´å¥½è®°æ€§ä¸å¦‚çƒ‚ç¬”å¤´ï¼‰ï¼Œç›´æ¥è°ƒåº“<code>Arrays.sort(num)</code>å°±å¥½äº†ã€‚ç»™è‡ªå·±å¤šå•°å—¦ä¸€å¥ï¼Œ<code>Array</code>çš„æ’åºåº•å±‚å®ç°æ˜¯æ··åˆçš„ï¼Œå¯¹äº<code>length() &lt; 47</code>çš„åˆ—è¡¨ç›´æ¥ä½¿ç”¨æ’å…¥æ’åºï¼Œå¤§äºè¿™ä¸ªé•¿åº¦çš„ä½¿ç”¨<a href="https://www.cnbfrontgs.com/nullzx/p/5880191.html">åŒè½´å¿«æ’</a>ã€‚</li><li>éå†æ•°ç»„å’ŒåŒæŒ‡é’ˆç®—æ³•ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæˆ‘ä»¬æ“ä½œä¸‰ä¸ªå…ƒç´ ï¼Œåˆ†åˆ«ä¸ºéå†çš„æ—¶å€™å›ºå®šçš„å…ƒç´ ã€åŒæŒ‡é’ˆçš„å¤´æŒ‡é’ˆå…ƒç´ å’Œå°¾æŒ‡é’ˆå…ƒç´ ï¼Œå¯¹äºè¿™ä¸‰ä¸ªå…ƒç´ è€Œè¨€åœ¨å…¶ç§»åŠ¨æ–¹å‘ä¸Šå¦‚æœæœ‰å‰åé‡å¤éƒ½åº”è¯¥æ’é™¤æ‰ï¼Œå¦åˆ™å°±æœ‰å¯èƒ½å‡ºç°é‡å¤çš„ä¸‰å…ƒç»„ã€‚</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123; </span><br><span class="line">    <span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; threeSum(<span class="keyword">int</span>[] num) &#123;</span><br><span class="line">        Arrays.sort(num);</span><br><span class="line">        List&lt;List&lt;Integer&gt;&gt; res = <span class="keyword">new</span> ArrayList&lt;&gt;(); </span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; num.length-<span class="number">2</span>; ++i)&#123;</span><br><span class="line">            <span class="keyword">if</span>(i &gt; <span class="number">0</span> &amp;&amp; num[i] == num[i-<span class="number">1</span>]) <span class="keyword">continue</span>;</span><br><span class="line">            <span class="keyword">int</span> front = i+<span class="number">1</span>, rear = num.length-<span class="number">1</span>, sum = <span class="number">0</span> - num[i];</span><br><span class="line">            <span class="keyword">while</span> (front &lt; rear) &#123;</span><br><span class="line">                <span class="keyword">if</span> (num[front] + num[rear] == sum) &#123;</span><br><span class="line">                    res.add(Arrays.asList(num[i], num[front], num[rear]));</span><br><span class="line">                    <span class="keyword">while</span> (front &lt; rear &amp;&amp; num[front] == num[front+<span class="number">1</span>])&#123;</span><br><span class="line">                            front++;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">while</span> (front &lt; rear &amp;&amp; num[rear] == num[rear-<span class="number">1</span>]) &#123;</span><br><span class="line">                          rear--;</span><br><span class="line">                    &#125;</span><br><span class="line">                    front++;</span><br><span class="line">                      rear--;</span><br><span class="line">                &#125; <span class="keyword">else</span> <span class="keyword">if</span> (num[front] + num[rear] &lt; sum) front++;</span><br><span class="line">                <span class="keyword">else</span> rear--;</span><br><span class="line">           &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>é™¤æ­¤ä¹‹å¤–å¥½åƒè¿˜æœ‰æ›´ä¼˜çš„è§£æ³•ï¼Œä¸€åˆ·æš‚æ—¶å…ˆä¸ç®¡é‚£ä¹ˆå¤šï¼Œå…ˆæŠŠé€šç”¨æ–¹æ³•è®°ç‰¢äº†å†è¯´å§ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> åˆ·é¢˜è®°å½• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> leetcode </tag>
            
            <tag> ç®—æ³• </tag>
            
            <tag> medium difficulty </tag>
            
            <tag> easy difficulty </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åœ¨MacOSä¸Šå®‰è£…ä»¥åŠä½¿ç”¨Jupyter Notebookè¿è¡ŒRè¯­è¨€</title>
      <link href="/2020/08/12/jupyter-notebook-R/"/>
      <url>/2020/08/12/jupyter-notebook-R/</url>
      
        <content type="html"><![CDATA[<p>æœ¬æŒ‡å—é€‚ç”¨äºMacOS 10.13åŠä»¥ä¸Šçš„ç³»ç»Ÿã€‚ä¸ç¡®å®šæœ‰æ²¡æœ‰ç”¨çš„ç¯å¢ƒä¾èµ–æ˜¯xcode commandline toolsï¼Œä¸å«Œéº»çƒ¦å¯ä»¥æå‰è£…ä¸€ä¸‹ï¼Œå¾ˆå¤šä¸œè¥¿éƒ½è¦ç”¨åˆ°è¿™ä¸ªã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">xcode-select --install </span><br></pre></td></tr></table></figure><h3 id="èµ°æµç¨‹ä»‹ç»ä¸€ä¸‹R"><a href="#èµ°æµç¨‹ä»‹ç»ä¸€ä¸‹R" class="headerlink" title="èµ°æµç¨‹ä»‹ç»ä¸€ä¸‹R"></a>èµ°æµç¨‹ä»‹ç»ä¸€ä¸‹R</h3><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/DaveKim3872/blogpics/200px-R_logo.svg.png"></p><p>Rè¯­è¨€ï¼Œä¸€ç§è‡ªç”±è½¯ä»¶ç¼–ç¨‹è¯­è¨€ä¸æ“ä½œç¯å¢ƒï¼Œä¸»è¦ç”¨äºç»Ÿè®¡åˆ†æã€ç»˜å›¾ã€æ•°æ®æŒ–æ˜ã€‚Ræœ¬æ¥æ˜¯ç”±æ¥è‡ªæ–°è¥¿å…°å¥¥å…‹å…°å¤§å­¦çš„ç½—æ–¯Â·ä¼Šå“ˆå¡å’Œç½—ä¼¯ç‰¹Â·æ°ç‰¹æ›¼å¼€å‘ï¼ˆä¹Ÿå› æ­¤ç§°ä¸ºRï¼‰ï¼Œç°åœ¨ç”±â€œRå¼€å‘æ ¸å¿ƒå›¢é˜Ÿâ€è´Ÿè´£å¼€å‘ã€‚RåŸºäºSè¯­è¨€çš„ä¸€ä¸ªGNUè®¡åˆ’é¡¹ç›®ï¼Œæ‰€ä»¥ä¹Ÿå¯ä»¥å½“ä½œSè¯­è¨€çš„ä¸€ç§å®ç°ï¼Œé€šå¸¸ç”¨Sè¯­è¨€ç¼–å†™çš„ä»£ç éƒ½å¯ä»¥ä¸ä½œä¿®æ”¹çš„åœ¨Rç¯å¢ƒä¸‹è¿è¡Œã€‚Rçš„è¯­æ³•æ˜¯æ¥è‡ªSchemeã€‚</p><p>Rçš„æºä»£ç å¯è‡ªç”±ä¸‹è½½ä½¿ç”¨ï¼Œäº¦æœ‰å·²ç¼–è¯‘çš„å¯æ‰§è¡Œæ–‡ä»¶ç‰ˆæœ¬å¯ä»¥ä¸‹è½½ï¼Œå¯åœ¨å¤šç§å¹³å°ä¸‹è¿è¡Œï¼ŒåŒ…æ‹¬UNIXï¼ˆä¹ŸåŒ…æ‹¬FreeBSDå’ŒLinuxï¼‰ã€Windowså’ŒMacOSã€‚Rä¸»è¦æ˜¯ä»¥å‘½ä»¤è¡Œæ“ä½œï¼ŒåŒæ—¶æœ‰äººå¼€å‘äº†å‡ ç§å›¾å½¢ç”¨æˆ·ç•Œé¢ï¼Œå…¶ä¸­RStudioæ˜¯æœ€ä¸ºå¹¿æ³›ä½¿ç”¨çš„é›†æˆå¼€å‘ç¯å¢ƒã€‚</p><h2 id="ç¯å¢ƒé…ç½®è¿‡ç¨‹"><a href="#ç¯å¢ƒé…ç½®è¿‡ç¨‹" class="headerlink" title="ç¯å¢ƒé…ç½®è¿‡ç¨‹"></a>ç¯å¢ƒé…ç½®è¿‡ç¨‹</h2><h3 id="å®‰è£…Anaconda"><a href="#å®‰è£…Anaconda" class="headerlink" title="å®‰è£…Anaconda"></a>å®‰è£…Anaconda</h3><p>å¦‚æœå·²ç»å®‰è£…è¿‡äº†ï¼ˆæ‰“å¼€ç»ˆç«¯è¯•è¯•<code>conda --version</code>å‘½ä»¤ï¼‰ï¼Œå°±ç›´æ¥çœ‹ä¸‹ä¸€éƒ¨åˆ†ã€‚</p><p>æŒ‰ç…§æˆ‘çš„ä¹ æƒ¯ï¼Œä¸€èˆ¬æ˜¯ç”¨è„šæœ¬å®‰è£…ã€‚Anacondaå®˜ç½‘çš„<a href="https://www.anaconda.com/products/individual#macos">ä¸‹è½½é¡µé¢</a>ç›´æ¥æ‹‰åˆ°åº•ï¼Œä¸‹è½½å‘½ä»¤è¡Œå®‰è£…æ–‡ä»¶ã€‚</p><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/DaveKim3872/blogpics/2020-08-12%20at%207.28%20PM.png"></p><p>ç»ˆç«¯è¿›å…¥ä¸‹è½½æ–‡ä»¶å¤¹ï¼Œè¾“å…¥<code>bash Anaconda3-2020.07-MacOSX-x86_64.sh</code>ï¼ˆå…·ä½“ç‰ˆæœ¬çœ‹ä½ ä¸‹è½½æ–‡ä»¶çš„åå­—ï¼‰ï¼Œä¸€è·¯ä¸‹ä¸€æ­¥ï¼Œé‡åˆ°y/nå°±é€‰yã€‚å®‰è£…å®Œæˆåé‡å¯ç»ˆç«¯ï¼Œåº”è¯¥é•¿è¿™æ ·ï¼š</p><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/DaveKim3872/blogpics/2020-08-12%20at%207.37%20PM.png"></p><p>å¦‚æœæƒ³åœ¨æ–°å»ºç¯å¢ƒé‡Œæ‰§è¡Œä¸‹é¢çš„æ“ä½œï¼Œå¯ä»¥è¾“å…¥ä»¥ä¸‹å‘½ä»¤æ–°å»ºå¹¶æ¿€æ´»ç¯å¢ƒï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">conda create -n env_name python=3 ipython jupyterlab</span><br><span class="line">conda activate env_name</span><br></pre></td></tr></table></figure><p>æˆ‘åœ¨è¿™é‡Œä¸è®²å¦‚ä½•æ–°å»ºç¯å¢ƒäº†ï¼Œæ‰€æœ‰æ“ä½œç›´æ¥åœ¨baseç¯å¢ƒé‡Œæ‰§è¡Œã€‚åœ¨è¿›è¡Œä¸‹ä¸€æ­¥æ“ä½œå‰ï¼Œå¯ä»¥å°è¯•è¾“å…¥<code>jupyter notebook</code>æˆ–è€…<code>jupyter lab</code>çœ‹ä¸€ä¸‹æœåŠ¡æœ‰æ²¡æœ‰æ­£å¸¸å¯åŠ¨ã€‚</p><h3 id="å®‰è£…Rè¯­è¨€ç»„ä»¶"><a href="#å®‰è£…Rè¯­è¨€ç»„ä»¶" class="headerlink" title="å®‰è£…Rè¯­è¨€ç»„ä»¶"></a>å®‰è£…Rè¯­è¨€ç»„ä»¶</h3><p>æˆ‘ä»¬ä»¥ï¼ˆå½“æ—¶ï¼‰æœ€æ–°çš„R-4.0.2ç‰ˆæœ¬ä¸ºä¾‹ã€‚Rå®˜ç½‘è´´å¿ƒä¸ºå„å›½å•†ç§‘ç²¾è‹±ä»¬å‡†å¤‡äº†ç‰©ç†è·ç¦»å°½å¯èƒ½çŸ­çš„é•œåƒã€‚ä¸‹è¡¨æ˜¯ä¸­å›½å¢ƒå†…çš„æœåŠ¡å™¨ï¼š</p><table><thead><tr><th>R-4.0.2.pkg ä¸‹è½½é“¾æ¥</th><th>é•œåƒæº</th></tr></thead><tbody><tr><td><a href="https://mirrors.tuna.tsinghua.edu.cn/CRAN/bin/macosx/R-4.0.2.pkg">https://mirrors.tuna.tsinghua.edu.cn/CRAN/bin/macosx/R-4.0.2.pkg</a></td><td>TUNA Team, Tsinghua University</td></tr><tr><td><a href="https://mirrors.bfsu.edu.cn/CRAN/bin/macosx/R-4.0.2.pkg">https://mirrors.bfsu.edu.cn/CRAN/bin/macosx/R-4.0.2.pkg</a></td><td>Beijing Foreign Studies University</td></tr><tr><td><a href="https://mirrors.ustc.edu.cn/CRAN/bin/macosx/R-4.0.2.pkg">https://mirrors.ustc.edu.cn/CRAN/bin/macosx/R-4.0.2.pkg</a></td><td>University of Science and Technology of China</td></tr><tr><td><a href="https://mirror-hk.koddos.net/CRAN/bin/macosx/R-4.0.2.pkg">https://mirror-hk.koddos.net/CRAN/bin/macosx/R-4.0.2.pkg</a></td><td>KoDDoS in Hong Kong</td></tr><tr><td><a href="https://mirrors.e-ducation.cn/CRAN/bin/macosx/R-4.0.2.pkg">https://mirrors.e-ducation.cn/CRAN/bin/macosx/R-4.0.2.pkg</a></td><td>Elite Education</td></tr><tr><td><a href="https://mirror.lzu.edu.cn/CRAN/bin/macosx/R-4.0.2.pkg">https://mirror.lzu.edu.cn/CRAN/bin/macosx/R-4.0.2.pkg</a></td><td>Lanzhou University Open Source Society</td></tr><tr><td><a href="https://mirrors.nju.edu.cn/CRAN/bin/macosx/R-4.0.2.pkg">https://mirrors.nju.edu.cn/CRAN/bin/macosx/R-4.0.2.pkg</a></td><td>eScience Center, Nanjing University</td></tr><tr><td><a href="https://mirrors.tongji.edu.cn/CRAN/bin/macosx/R-4.0.2.pkg">https://mirrors.tongji.edu.cn/CRAN/bin/macosx/R-4.0.2.pkg</a></td><td>Tongji University</td></tr><tr><td><a href="https://mirrors.sjtug.sjtu.edu.cn/CRAN/bin/macosx/R-4.0.2.pkg">https://mirrors.sjtug.sjtu.edu.cn/CRAN/bin/macosx/R-4.0.2.pkg</a></td><td>Jiao Tong University</td></tr></tbody></table><p><strong>å®‰è£…â€œR-4.0.2.pkgâ€å‰åŠ¡å¿…æ³¨æ„ï¼âš ï¸âš ï¸âš ï¸ï¼š</strong></p><p>åœ¨<a href="https://mirrors.tuna.tsinghua.edu.cn/CRAN/bin/macosx">ä¸‹è½½é“¾æ¥</a>é¡µé¢æœ‰ä¸€æ®µå°å­—ï¼š</p><p>â€‹    <em>Note: the use of X11 (including <code>tcltk</code>) requires <a href="http://xquartz.macosforge.org/">XQuartz</a> to be installed since it is no longer part of OS X. Always re-install XQuartz when upgrading your macOS to a new major version.</em></p><p>ä¸€å®šè¦æ³¨æ„ï¼Œè¿™æ—¶å€™å…ˆæŒ‰ç…§è¦æ±‚æŠŠ<a href="http://xquartz.macosforge.org/">XQuartz</a>è£…ä¸Šï¼Œä¸ç„¶ä¹‹åä¼šå‡ºçŠ¶å†µï¼ˆåæ–‡ç®€è¿°ç°è±¡ï¼‰ã€‚</p><p>æ­£å¸¸è¿è¡Œpkgæ–‡ä»¶ï¼Œä¸€è·¯ä¸‹ä¸€æ­¥ï¼Œå®‰è£…ã€‚Launchpadå‡ºç°R.appçš„å›¾æ ‡ã€‚å½“ç„¶æˆ‘ä»¬ä¸€èˆ¬ç”¨ä¸ç€è¿™ä¸ªä¸œè¥¿ã€‚</p><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/DaveKim3872/blogpics/20200812192304.png"></p><p>ç»ˆç«¯è¾“å…¥Rå¹¶å›è½¦ï¼Œåº”è¯¥é•¿è¿™æ ·ï¼š</p><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/DaveKim3872/blogpics/2020-08-12%20at%207.53%20PM.png"></p><p>è¿™æ ·Rè¯­è¨€ç›¸å…³ç»„ä»¶å°±ç®—å®‰è£…å¥½äº†ï¼Œå®åœ¨ä¸æ”¾å¿ƒä¹Ÿå¯ä»¥è¯•è¯•hello worldï¼š</p><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/DaveKim3872/blogpics/2020-08-12%20at%207.54%20PM.png"></p><h3 id="å®‰è£…IRkernel"><a href="#å®‰è£…IRkernel" class="headerlink" title="å®‰è£…IRkernel"></a>å®‰è£…IRkernel</h3><p>å’Œpythonåœ¨jupyterä¸Šè§£é‡Šéœ€è¦ä¾èµ–iPythonã€iPykernelåŒç†ï¼ŒRè¯­è¨€è„šæœ¬åœ¨jupyterä¸Šè¿è¡Œä¹Ÿä¾èµ–äºä¸€ç§å³æ—¶çš„è§£é‡Šå™¨å†…æ ¸iRkernelã€‚å’Œpipæˆ–è€…condaç±»ä¼¼ï¼Œæˆ‘ä»¬ä¹Ÿéœ€è¦ä½¿ç”¨Rçš„åŒ…ç®¡ç†å·¥å…·å…ˆå®‰è£…ä¾èµ–ç¯å¢ƒã€‚</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">install.packages(c(<span class="string">&#x27;repr&#x27;</span>, <span class="string">&#x27;IRdisplay&#x27;</span>, <span class="string">&#x27;evaluate&#x27;</span>, <span class="string">&#x27;crayon&#x27;</span>, <span class="string">&#x27;pbdZMQ&#x27;</span>, <span class="string">&#x27;devtools&#x27;</span>, <span class="string">&#x27;uuid&#x27;</span>, <span class="string">&#x27;digest&#x27;</span>))</span><br></pre></td></tr></table></figure><p>æ‰§è¡Œç¬¬ä¸€å¥è„šæœ¬çš„æ—¶å€™ä¼šè®©é€‰é•œåƒä»“åº“ï¼Œè¿™æ—¶å€™å°±å¯ä»¥çœ‹å‡ºé—®é¢˜çš„ç«¯å€ªäº†ï¼šå¦‚æœåƒæˆ‘ä¸€æ ·æ²¡æœ‰å®‰è£…<a href="http://xquartz.macosforge.org/">XQuartz</a>ï¼Œå°±ä¸ä¼šå¼¹å‡ºä¸€ä¸ªç±»ä¼¼GUIçš„ä¸œè¥¿è®©ä½ é€‰æ‹©ä»“åº“ï¼Œè€Œæ˜¯ç›´æ¥å‘½ä»¤è¡Œè¾“å…¥åºå·ã€‚å¦‚æœæ˜¯è¿™æ ·ï¼Œå¯ä»¥å…ˆä¸ç”¨è£…è¿™äº›äº†ï¼Œå…ˆå›å»æŠŠXQuartzè£…å¥½å§ã€‚å¦åˆ™å°±ä¼šæŠ¥å‘Šå¦‚ä¸‹é”™è¯¯ï¼š</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Error <span class="keyword">in</span> (<span class="keyword">function</span> (display = <span class="string">&quot;&quot;</span>, width, height, pointsize, gamma, <span class="built_in">bg</span>,  : </span><br><span class="line">  X11 module cannot be loaded</span><br><span class="line">In addition: Warning message:</span><br><span class="line">In (<span class="keyword">function</span> (display = <span class="string">&quot;&quot;</span>, width, height, pointsize, gamma, <span class="built_in">bg</span>,  :</span><br><span class="line">  unable to load shared object <span class="string">&#x27;/Library/Frameworks/R.framework/Resources/modules//R_X11.so&#x27;</span>:</span><br><span class="line">  dlopen(/Library/Frameworks/R.framework/Resources/modules//R_X11.so, 6): Library not loaded: /usr/X11/lib/libSM.6.dylib</span><br><span class="line">  Referenced from: /Library/Frameworks/R.framework/Resources/modules//R_X11.so</span><br><span class="line">  Reason: image not found</span><br></pre></td></tr></table></figure><p>è¿™æ˜¯å› ä¸ºMacOSåœ¨æ›´æ–°10.13ç‰ˆæœ¬çš„æ—¶å€™æ›¿æ¢æ‰äº†åŸæœ‰çš„X11 moduleã€‚è€Œå¦‚æœæŒ‰ç…§æˆ‘ä¹‹å‰è¯´çš„å…ˆå®‰è£…äº†XQuartzï¼Œåˆ™åº”è¯¥æœ‰ç±»ä¼¼è¿™æ ·çš„ä¸€ä¸ªé€‰æ‹©ç•Œé¢ï¼š</p><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/DaveKim3872/blogpics/20200812173144.png" style="zoom: 33%;" /><p>å¥½äº†ï¼Œæ¥ä¸‹æ¥å°±æ˜¯é€‰æ‹©åˆé€‚çš„ä»“åº“ï¼Œç„¶åä¸€è·¯å®‰è£…ï¼Œå‡ºç°å¦‚ä¸‹ç»“æœï¼š</p><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/DaveKim3872/blogpics/20200812180446.png"></p><p>å†æ‰§è¡Œï¼š</p><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">devtools::install_github(<span class="string">&#x27;IRkernel/IRkernel&#x27;</span>)</span><br><span class="line">IRkernel::installspec()</span><br></pre></td></tr></table></figure><p>ç»ˆç«¯ç•Œé¢åº”è¯¥é•¿è¿™æ ·ï¼š</p><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/DaveKim3872/blogpics/20200812180618.png"></p><p>é€€å‡ºRç»ˆç«¯ï¼Œæ–°å»ºä¸€ä¸ªç»ˆç«¯è¾“å…¥jupyter notebookï¼Œçœ‹çœ‹å³ä¸Šè§’æœ‰æ²¡æœ‰æ–°å»ºRè¯­è¨€notebookçš„é€‰é¡¹äº†ï¼Ÿ</p><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/DaveKim3872/blogpics/20200812180648.png" style="zoom:50%;" /><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/DaveKim3872/blogpics/20200812180749.png"></p><p>è¿™å°±ç®—å®Œäº‹å•¦ï½</p><p>ï¼ˆå¦‚æœè¿˜æ˜¯æœ‰é—®é¢˜ï¼Œä¸å¦¨è¯•è¯•å®Œå…¨å¸è½½åé‡è£…ã€‚âš ï¸æ³¨æ„ï¼šå¸è½½éœ€è¦æŒ‰ç…§è¿™ä¸ªæ•™ç¨‹â€”â€”<a href="https://blog.csdn.net/jackliu91/article/details/45772775">ã€ŠOS Xä¸‹å¸è½½Rè¯­è¨€ã€‹</a>ï¼‰</p>]]></content>
      
      
      <categories>
          
          <category> å¼€å‘ç¯å¢ƒé…ç½® </category>
          
      </categories>
      
      
        <tags>
            
            <tag> R </tag>
            
            <tag> Anaconda </tag>
            
            <tag> Jupyter Notebook </tag>
            
            <tag> å¼€å‘ç¯å¢ƒ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Leetcode 384.æ‰“ä¹±æ•°ç»„</title>
      <link href="/2020/08/12/Leetcode-384-shuffle-list/"/>
      <url>/2020/08/12/Leetcode-384-shuffle-list/</url>
      
        <content type="html"><![CDATA[<p>é¢˜ç›®é“¾æ¥ï¼š<a href="https://leetcode-cn.com/problems/shuffle-an-array/">384. æ‰“ä¹±æ•°ç»„ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a></p><p>å…ˆä»ä¸€é“æ²¡ä»€ä¹ˆæŠ€æœ¯å«é‡çš„é¢˜å¼€å§‹äº†ã€‚æœ¬é¢˜å¼•å…¥äº†Fisher Yatesæ´—ç‰Œç®—æ³•åŸç†ï¼Œå…¶å®è´¨æ˜¯ç›¸åŒæ¦‚ç‡ä¸‹çš„å…ƒç´ é€‰å–å’Œäº¤æ¢ï¼šä»åå‘å‰ï¼ˆæˆ–ä»å‰å‘åï¼‰éå†æ•°ç»„ï¼Œå°†å½“å‰éå†åˆ°çš„å…ƒç´ ä¸å…¶å‰é¢ï¼ˆåé¢ï¼‰çš„ä»»æ„æ•°å­—äº¤æ¢åå›ºå®šä¸å˜ã€‚å–éšæœºæ•°çš„è¿‡ç¨‹è°ƒç”¨äº†javaçš„Randomç±»ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// javaè§£æ³•â€”â€”ä»åå‘å‰</span></span><br><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span>[] ori;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span>[] nums;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Solution</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.nums = nums;</span><br><span class="line">        <span class="keyword">this</span>.ori = nums.clone();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/** Resets the array to its original configuration and return it. */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span>[] reset() &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.ori;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/** Returns a random shuffling of the array. */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span>[] shuffle() &#123;</span><br><span class="line">        Random random = <span class="keyword">new</span> Random();</span><br><span class="line">        <span class="keyword">int</span> length = nums.length;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = length - <span class="number">1</span>; i &gt; <span class="number">1</span>; i--) &#123;</span><br><span class="line">            <span class="keyword">int</span> j = random.nextInt(i + <span class="number">1</span>);</span><br><span class="line">            <span class="keyword">int</span> temp = nums[j];</span><br><span class="line">            nums[j] = nums[i];</span><br><span class="line">            nums[i] = temp;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> nums;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Your Solution object will be instantiated and called as such:</span></span><br><span class="line"><span class="comment"> * Solution obj = new Solution(nums);</span></span><br><span class="line"><span class="comment"> * int[] param_1 = obj.reset();</span></span><br><span class="line"><span class="comment"> * int[] param_2 = obj.shuffle();</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure><p>pythonçš„è¯ï¼Œimport randomä¹Ÿå¯ä»¥è¾¾åˆ°ç›¸åŒæ•ˆæœï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">shuffle</span>(<span class="params">self</span>):</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(len(self.output)):</span><br><span class="line">        j = random.randint(i, len(self.output) - <span class="number">1</span>)</span><br><span class="line">        self.output[i], self.output[j] = self.output[j], self.output[i]</span><br><span class="line">    <span class="keyword">return</span> self.output</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> åˆ·é¢˜è®°å½• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> leetcode </tag>
            
            <tag> ç®—æ³• </tag>
            
            <tag> medium difficulty </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç»ˆäºï¼ˆé‡æ–°ï¼‰æŠŠBlogæ”¶æ‹¾äº†å‡ºæ¥</title>
      <link href="/2020/08/10/first-post/"/>
      <url>/2020/08/10/first-post/</url>
      
        <content type="html"><![CDATA[<p>å¤§æ¦‚æ˜¯å»å¹´çš„è¿™ä¸ªæ—¶å€™ï¼Œä¹Ÿæ˜¯ç”¨hexoå’Œbutterflyï¼Œæäº†ä¸€ä¸ªblogã€‚çº¯ç²¹ä¸ºäº†æ–°å¥‡ï¼Œæ²¡æœ‰ä»»ä½•motivationï¼Œå› ä¸ºé‚£æ—¶å€™è¦ä¸Šè¯¾è¦å­¦ä¹ åˆæƒ³æŠ“ç´§ä¸€åˆ‡è´ªç©çš„æ—¶é—´ï¼Œæ›´æ²¡æœ‰æ„è¯†åˆ°è‡ªå·±è¿˜æœ‰å¤ªå¤šå¤ªå¤šéœ€è¦å­¦ä¹ å’Œç§¯ç´¯çš„ä¸œè¥¿ã€‚æˆç»©å˜›ï¼Œå¤Ÿç”³è¯·å¤Ÿæ¯•ä¸šå°±å·®ä¸å¤šï¼›åˆä¸æ€¥ç€æ‰¾å·¥ä½œï¼Œåˆ·ä»€ä¹ˆé¢˜è®°ä»€ä¹ˆç¬”è®°ã€‚</p><p>æ•™è®­æ˜¯ï¼Œæˆ‘å¿…é¡»æ°¸è¿œæ„è¯†åˆ°ï¼š</p><ol><li>äººå¤–æœ‰äººï¼Œå¤©å¤–æœ‰å¤©â€”â€”æ­¤åˆ»çœ‹åˆ°çš„ä¼˜ç§€çš„äººä¸åŠæ˜æ—¥ä¼šé‡åˆ°çš„ä¼˜ç§€çš„äººçš„èƒ½åŠ›å’Œæ•°é‡çš„ååˆ†ä¹‹ä¸€</li><li>ç‰©è´¨ä¸–ç•Œä¸ä»¥äººçš„æ„å¿—ä¸ºè½¬ç§»â€”â€”äººå¤ªæ¸ºå°äº†ï¼Œä¸€æ—¦æ„å¤–è¢­æ¥ï¼Œæ¯«æ— åæŠ—ä¹‹åŠ›</li></ol><p>æ‰€ä»¥ä¹Ÿå°±ä¸ç”˜å¿ƒåœ°æ‹¿ç€å¿ƒä»ªçš„offerè¢«å›°åœ¨äº†å›´åŸé‡ŒåŠ¨å¼¹ä¸å¾—ã€‚ä»¥ä¸ºèƒ½å¤Ÿæå‡èƒ½åŠ›çš„æœºä¼šå¿«è¦å¤±ä¹‹äº¤è‡‚ï¼Œè‡ªå·±å´åˆæŠ“ä¸åˆ°é¢å‰æœ€å¥½çš„æœºä¼šï¼Œå®åœ¨æ˜¯è‹ç™½ã€‚</p><p>ä¸çŸ¥ä¸è§‰å…¥èŒå·²ç»ä¸€ä¸ªå¤šæœˆäº†ï¼Œä¸Šå‘¨å¼€å§‹å­¦æ–°çš„å†…å®¹ã€æ‰©å±•ä¸šåŠ¡é¢å’ŒæŠ€æœ¯æ ˆï¼Œçªç„¶æ„è¯†åˆ°è‡ªå·±éœ€è¦ç§¯ç´¯ä¸€ç‚¹ä¸œè¥¿äº†ï¼Œä¸æ˜¯ç»™ä»»ä½•äººçœ‹ï¼Œè€Œæ˜¯è¸è¸å®å®ç”¨é”®ç›˜æŠŠè‡ªå·±ä¸å–„äºä¹¦å†™çš„å†…å®¹ç ä¸‹æ¥ï¼Œå†…å®¹åŒ…æ‹¬ä½†ä¸ä»…é™äºåˆ·åŠ›æ‰£ã€å­¦æ–°çš„å¼€å‘å·¥å…·ã€å¤ä¹ è¯­è¨€çš„åŸºç¡€ç”¨æ³•ã€å­¦ä¹ æ–°çš„ä¸šåŠ¡é¢†åŸŸã€åŠå¹´åï¼ˆå¸Œæœ›å¯ä»¥ï¼‰è®°ä¸€ä¸‹ä¸Šè¯¾ç¬”è®°ã€‚åæ­£ï¼Œå¾®è½¯ä¸å€’é—­ï¼Œæˆ‘çš„ç¬”è®°å°±è¿˜åœ¨ï¼Œè™½ç„¶æ²¡å»åŒ—æï¼Œä½†åº”è¯¥ä¹Ÿä¸è‡³äºä¸€å®šè¦æ’‘åˆ°ç©¿è¶Šè™«æ´ç§»å±…å¤–æ˜Ÿç³»çš„é‚£ä¸€å¤©ã€‚</p><p>é™¤æ­¤ä¹‹å¤–ï¼Œå…³äºè‡ªå·±å–œæ¬¢çš„äº‹ç‰©ã€ç”Ÿæ´»çš„æ„Ÿè§¦ï¼Œä¹Ÿä¼šæŠ½æ—¶é—´ç¨å¾®å•°å—¦ä¸€ä¸‹ï¼Œå¹³æ—¶æ²¡äººå¬æ²¡äººç®¡ï¼Œå¤§è„‘é‡Œçš„åƒåœ¾ä¹Ÿæ€»ç®—æ˜¯æ‰¾åˆ°ä¸€ä¸ªåˆé€‚çš„å»å¤„ã€‚</p><p>å¥½äº†ï¼Œå·®ä¸å¤šç®€å•è¯´ä¸€ä¸‹ï¼Œç„¶åæˆ‘è¦å»èµ¶ç­è½¦äº†ã€‚</p><p>Btwï¼Œä»Šå¤©ä¸‹äº†å¥½å¤§çš„é›¨ï¼Œä¸æ˜¯æˆ‘å–œæ¬¢çš„å¤©æ°”ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> ä¹±ä¸ƒå…«ç³Ÿ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ—¥è®° </tag>
            
            <tag> éšç¬” </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
